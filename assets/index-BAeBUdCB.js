import{j as d,u as Ly,a as UT,m as V,b as sv,c as Ed,A as zy,d as BT,e as Oo}from"./framer-C2PCJclX.js";import{a as HT,b as PT,g as $d,r as U,R as jn,L as gt,u as ef,O as qT,c as GT,d as VT,N as Uy,e as FT,B as YT,f as KT,h as Wi}from"./vendor-CnizkoIz.js";import{M as By,P as Hy,X as QT,a as WT,F as Py,Y as XT,b as ZT,c as JT,B as ua,d as $T,e as qy,G as mc,A as Yr,C as Gy,S as Vy,Z as tf,T as nf,f as sf,U as eS,g as Fy,h as tS,L as nS,i as iS,j as Or,k as sS,l as Mo,m as Yy,n as aS,o as rS,p as av,q as lS,r as oS,s as cS}from"./ui-CsoFy6vI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();var Xh={exports:{}},yr={},Zh={exports:{}},Jh={};var rv;function uS(){return rv||(rv=1,(function(s){function t(O,z){var K=O.length;O.push(z);e:for(;0<K;){var Se=K-1>>>1,Ee=O[Se];if(0<o(Ee,z))O[Se]=z,O[K]=Ee,K=Se;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],K=O.pop();if(K!==z){O[0]=K;e:for(var Se=0,Ee=O.length,at=Ee>>>1;Se<at;){var Re=2*(Se+1)-1,he=O[Re],Ve=Re+1,en=O[Ve];if(0>o(he,K))Ve<Ee&&0>o(en,he)?(O[Se]=en,O[Ve]=K,Se=Ve):(O[Se]=he,O[Re]=K,Se=Re);else if(Ve<Ee&&0>o(en,K))O[Se]=en,O[Ve]=K,Se=Ve;else break e}}return z}function o(O,z){var K=O.sortIndex-z.sortIndex;return K!==0?K:O.id-z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var v=[],p=[],b=1,_=null,x=3,A=!1,R=!1,D=!1,B=!1,Q=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function Ae(O){for(var z=i(p);z!==null;){if(z.callback===null)r(p);else if(z.startTime<=O)r(p),z.sortIndex=z.expirationTime,t(v,z);else break;z=i(p)}}function Vt(O){if(D=!1,Ae(O),!R)if(i(v)!==null)R=!0,it||(it=!0,kt());else{var z=i(p);z!==null&&hn(Vt,z.startTime-O)}}var it=!1,un=-1,Ft=5,cs=-1;function al(){return B?!0:!(s.unstable_now()-cs<Ft)}function us(){if(B=!1,it){var O=s.unstable_now();cs=O;var z=!0;try{e:{R=!1,D&&(D=!1,ue(un),un=-1),A=!0;var K=x;try{t:{for(Ae(O),_=i(v);_!==null&&!(_.expirationTime>O&&al());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,x=_.priorityLevel;var Ee=Se(_.expirationTime<=O);if(O=s.unstable_now(),typeof Ee=="function"){_.callback=Ee,Ae(O),z=!0;break t}_===i(v)&&r(v),Ae(O)}else r(v);_=i(v)}if(_!==null)z=!0;else{var at=i(p);at!==null&&hn(Vt,at.startTime-O),z=!1}}break e}finally{_=null,x=K,A=!1}z=void 0}}finally{z?kt():it=!1}}}var kt;if(typeof W=="function")kt=function(){W(us)};else if(typeof MessageChannel<"u"){var rl=new MessageChannel,wa=rl.port2;rl.port1.onmessage=us,kt=function(){wa.postMessage(null)}}else kt=function(){Q(us,0)};function hn(O,z){un=Q(function(){O(s.unstable_now())},z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ft=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(O){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var K=x;x=z;try{return O()}finally{x=K}},s.unstable_requestPaint=function(){B=!0},s.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=x;x=O;try{return z()}finally{x=K}},s.unstable_scheduleCallback=function(O,z,K){var Se=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Se+K:Se):K=Se,O){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=K+Ee,O={id:b++,callback:z,priorityLevel:O,startTime:K,expirationTime:Ee,sortIndex:-1},K>Se?(O.sortIndex=K,t(p,O),i(v)===null&&O===i(p)&&(D?(ue(un),un=-1):D=!0,hn(Vt,K-Se))):(O.sortIndex=Ee,t(v,O),R||A||(R=!0,it||(it=!0,kt()))),O},s.unstable_shouldYield=al,s.unstable_wrapCallback=function(O){var z=x;return function(){var K=x;x=z;try{return O.apply(this,arguments)}finally{x=K}}}})(Jh)),Jh}var lv;function hS(){return lv||(lv=1,Zh.exports=uS()),Zh.exports}var ov;function dS(){if(ov)return yr;ov=1;var s=hS(),t=HT(),i=PT();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(u(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),e;if(h===l)return v(c),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,y=c.child;y;){if(y===a){g=!0,a=c,l=h;break}if(y===l){g=!0,l=c,a=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===a){g=!0,a=h,l=c;break}if(y===l){g=!0,l=h,a=c;break}y=y.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),W=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),un=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),cs=Symbol.for("react.activity"),al=Symbol.for("react.memo_cache_sentinel"),us=Symbol.iterator;function kt(e){return e===null||typeof e!="object"?null:(e=us&&e[us]||e["@@iterator"],typeof e=="function"?e:null)}var rl=Symbol.for("react.client.reference");function wa(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rl?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case Q:return"Profiler";case B:return"StrictMode";case Vt:return"Suspense";case it:return"SuspenseList";case cs:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case W:return e.displayName||"Context";case ue:return(e._context.displayName||"Context")+".Consumer";case Ae:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case un:return n=e.displayName||null,n!==null?n:wa(e.type)||"Memo";case Ft:n=e._payload,e=e._init;try{return wa(e(n))}catch{}}return null}var hn=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Se=[],Ee=-1;function at(e){return{current:e}}function Re(e){0>Ee||(e.current=Se[Ee],Se[Ee]=null,Ee--)}function he(e,n){Ee++,Se[Ee]=e.current,e.current=n}var Ve=at(null),en=at(null),Fn=at(null),ll=at(null);function ol(e,n){switch(he(Fn,n),he(en,e),he(Ve,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?C0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=C0(n),e=A0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(Ve),he(Ve,e)}function hs(){Re(Ve),Re(en),Re(Fn)}function kc(e){e.memoizedState!==null&&he(ll,e);var n=Ve.current,a=A0(n,e.type);n!==a&&(he(en,e),he(Ve,a))}function cl(e){en.current===e&&(Re(Ve),Re(en)),ll.current===e&&(Re(ll),mr._currentValue=K)}var jc,im;function Ri(e){if(jc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);jc=n&&n[1]||"",im=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jc+e+im}var Oc=!1;function Mc(e,n){if(!e||Oc)return"";Oc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(I){var C=I}Reflect.construct(e,[],M)}else{try{M.call()}catch(I){C=I}e.call(M.prototype)}}else{try{throw Error()}catch(I){C=I}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(I){if(I&&C&&typeof I.stack=="string")return[I.stack,C.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],y=h[1];if(g&&y){var T=g.split(`
`),N=y.split(`
`);for(c=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===T.length||c===N.length)for(l=T.length-1,c=N.length-1;1<=l&&0<=c&&T[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(T[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||T[l]!==N[c]){var k=`
`+T[l].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=l&&0<=c);break}}}finally{Oc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ri(a):""}function gx(e,n){switch(e.tag){case 26:case 27:case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return e.child!==n&&n!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return Mc(e.type,!1);case 11:return Mc(e.type.render,!1);case 1:return Mc(e.type,!0);case 31:return Ri("Activity");default:return""}}function sm(e){try{var n="",a=null;do n+=gx(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Dc=Object.prototype.hasOwnProperty,Lc=s.unstable_scheduleCallback,zc=s.unstable_cancelCallback,px=s.unstable_shouldYield,vx=s.unstable_requestPaint,_t=s.unstable_now,yx=s.unstable_getCurrentPriorityLevel,am=s.unstable_ImmediatePriority,rm=s.unstable_UserBlockingPriority,ul=s.unstable_NormalPriority,bx=s.unstable_LowPriority,lm=s.unstable_IdlePriority,_x=s.log,xx=s.unstable_setDisableYieldValue,Na=null,xt=null;function Yn(e){if(typeof _x=="function"&&xx(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Na,e)}catch{}}var Tt=Math.clz32?Math.clz32:Ex,Tx=Math.log,Sx=Math.LN2;function Ex(e){return e>>>=0,e===0?32:31-(Tx(e)/Sx|0)|0}var hl=256,dl=262144,fl=4194304;function ki(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ml(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~h,l!==0?c=ki(l):(g&=y,g!==0?c=ki(g):a||(a=y&~e,a!==0&&(c=ki(a))))):(y=l&~h,y!==0?c=ki(y):g!==0?c=ki(g):a||(a=l&~e,a!==0&&(c=ki(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Ca(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wx(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function om(){var e=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),e}function Uc(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Aa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nx(e,n,a,l,c,h){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,T=e.expirationTimes,N=e.hiddenUpdates;for(a=g&~a;0<a;){var k=31-Tt(a),M=1<<k;y[k]=0,T[k]=-1;var C=N[k];if(C!==null)for(N[k]=null,k=0;k<C.length;k++){var I=C[k];I!==null&&(I.lane&=-536870913)}a&=~M}l!==0&&cm(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~n))}function cm(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Tt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function um(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Tt(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function hm(e,n){var a=n&-n;return a=(a&42)!==0?1:Bc(a),(a&(e.suspendedLanes|n))!==0?0:a}function Bc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function dm(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:Z0(e.type))}function fm(e,n){var a=z.p;try{return z.p=e,n()}finally{z.p=a}}var Kn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Kn,ot="__reactProps$"+Kn,ds="__reactContainer$"+Kn,Pc="__reactEvents$"+Kn,Cx="__reactListeners$"+Kn,Ax="__reactHandles$"+Kn,mm="__reactResources$"+Kn,Ia="__reactMarker$"+Kn;function qc(e){delete e[Xe],delete e[ot],delete e[Pc],delete e[Cx],delete e[Ax]}function fs(e){var n=e[Xe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ds]||a[Xe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=D0(e);e!==null;){if(a=e[Xe])return a;e=D0(e)}return n}e=a,a=e.parentNode}return null}function ms(e){if(e=e[Xe]||e[ds]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ra(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function gs(e){var n=e[mm];return n||(n=e[mm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Fe(e){e[Ia]=!0}var gm=new Set,pm={};function ji(e,n){ps(e,n),ps(e+"Capture",n)}function ps(e,n){for(pm[e]=n,e=0;e<n.length;e++)gm.add(n[e])}var Ix=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vm={},ym={};function Rx(e){return Dc.call(ym,e)?!0:Dc.call(vm,e)?!1:Ix.test(e)?ym[e]=!0:(vm[e]=!0,!1)}function gl(e,n,a){if(Rx(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function dn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kx(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gc(e){if(!e._valueTracker){var n=bm(e)?"checked":"value";e._valueTracker=kx(e,n,""+e[n])}}function _m(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=bm(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jx=/[\n"\\]/g;function Ot(e){return e.replace(jx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vc(e,n,a,l,c,h,g,y){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+jt(n)):e.value!==""+jt(n)&&(e.value=""+jt(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Fc(e,g,jt(n)):a!=null?Fc(e,g,jt(a)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+jt(y):e.removeAttribute("name")}function xm(e,n,a,l,c,h,g,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Gc(e);return}a=a!=null?""+jt(a):"",n=n!=null?""+jt(n):a,y||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gc(e)}function Fc(e,n,a){n==="number"&&vl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vs(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+jt(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Tm(e,n,a){if(n!=null&&(n=""+jt(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+jt(a):""}function Sm(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(hn(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=jt(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Gc(e)}function ys(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ox=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Em(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Ox.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function wm(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Em(e,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Em(e,h,n[h])}function Yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(e){return Dx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fn(){}var Kc=null;function Qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,_s=null;function Nm(e){var n=ms(e);if(n&&(e=n.stateNode)){var a=e[ot]||null;e:switch(e=n.stateNode,n.type){case"input":if(Vc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[ot]||null;if(!c)throw Error(r(90));Vc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&_m(l)}break e;case"textarea":Tm(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&vs(e,!!a.multiple,n,!1)}}}var Wc=!1;function Cm(e,n,a){if(Wc)return e(n,a);Wc=!0;try{var l=e(n);return l}finally{if(Wc=!1,(bs!==null||_s!==null)&&(ao(),bs&&(n=bs,e=_s,_s=bs=null,Nm(n),e)))for(n=0;n<e.length;n++)Nm(e[n])}}function ka(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ot]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(mn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{Xc=!1}var Qn=null,Zc=null,bl=null;function Am(){if(bl)return bl;var e,n=Zc,a=n.length,l,c="value"in Qn?Qn.value:Qn.textContent,h=c.length;for(e=0;e<a&&n[e]===c[e];e++);var g=a-e;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return bl=c.slice(e,1<l?1-l:void 0)}function _l(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function Im(){return!1}function ct(e){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?xl:Im,this.isPropagationStopped=Im,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=ct(Oi),Oa=_({},Oi,{view:0,detail:0}),Lx=ct(Oa),Jc,$c,Ma,Sl=_({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(Jc=e.screenX-Ma.screenX,$c=e.screenY-Ma.screenY):$c=Jc=0,Ma=e),Jc)},movementY:function(e){return"movementY"in e?e.movementY:$c}}),Rm=ct(Sl),zx=_({},Sl,{dataTransfer:0}),Ux=ct(zx),Bx=_({},Oa,{relatedTarget:0}),eu=ct(Bx),Hx=_({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=ct(Hx),qx=_({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gx=ct(qx),Vx=_({},Oi,{data:0}),km=ct(Vx),Fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Kx[e])?!!n[e]:!1}function tu(){return Qx}var Wx=_({},Oa,{key:function(e){if(e.key){var n=Fx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(e){return e.type==="keypress"?_l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xx=ct(Wx),Zx=_({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jm=ct(Zx),Jx=_({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),$x=ct(Jx),e1=_({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=ct(e1),n1=_({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i1=ct(n1),s1=_({},Oi,{newState:0,oldState:0}),a1=ct(s1),r1=[9,13,27,32],nu=mn&&"CompositionEvent"in window,Da=null;mn&&"documentMode"in document&&(Da=document.documentMode);var l1=mn&&"TextEvent"in window&&!Da,Om=mn&&(!nu||Da&&8<Da&&11>=Da),Mm=" ",Dm=!1;function Lm(e,n){switch(e){case"keyup":return r1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function o1(e,n){switch(e){case"compositionend":return zm(n);case"keypress":return n.which!==32?null:(Dm=!0,Mm);case"textInput":return e=n.data,e===Mm&&Dm?null:e;default:return null}}function c1(e,n){if(xs)return e==="compositionend"||!nu&&Lm(e,n)?(e=Am(),bl=Zc=Qn=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Om&&n.locale!=="ko"?null:n.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Um(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!u1[e.type]:n==="textarea"}function Bm(e,n,a,l){bs?_s?_s.push(l):_s=[l]:bs=l,n=fo(n,"onChange"),0<n.length&&(a=new Tl("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var La=null,za=null;function h1(e){x0(e,0)}function El(e){var n=Ra(e);if(_m(n))return e}function Hm(e,n){if(e==="change")return n}var Pm=!1;if(mn){var iu;if(mn){var su="oninput"in document;if(!su){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),su=typeof qm.oninput=="function"}iu=su}else iu=!1;Pm=iu&&(!document.documentMode||9<document.documentMode)}function Gm(){La&&(La.detachEvent("onpropertychange",Vm),za=La=null)}function Vm(e){if(e.propertyName==="value"&&El(za)){var n=[];Bm(n,za,e,Qc(e)),Cm(h1,n)}}function d1(e,n,a){e==="focusin"?(Gm(),La=n,za=a,La.attachEvent("onpropertychange",Vm)):e==="focusout"&&Gm()}function f1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(za)}function m1(e,n){if(e==="click")return El(n)}function g1(e,n){if(e==="input"||e==="change")return El(n)}function p1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var St=typeof Object.is=="function"?Object.is:p1;function Ua(e,n){if(St(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Dc.call(n,c)||!St(e[c],n[c]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,n){var a=Fm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fm(a)}}function Km(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Km(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vl(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=vl(e.document)}return n}function au(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var v1=mn&&"documentMode"in document&&11>=document.documentMode,Ts=null,ru=null,Ba=null,lu=!1;function Wm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lu||Ts==null||Ts!==vl(l)||(l=Ts,"selectionStart"in l&&au(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ba&&Ua(Ba,l)||(Ba=l,l=fo(ru,"onSelect"),0<l.length&&(n=new Tl("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Ts)))}function Mi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ss={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},ou={},Xm={};mn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Di(e){if(ou[e])return ou[e];if(!Ss[e])return e;var n=Ss[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return ou[e]=n[a];return e}var Zm=Di("animationend"),Jm=Di("animationiteration"),$m=Di("animationstart"),y1=Di("transitionrun"),b1=Di("transitionstart"),_1=Di("transitioncancel"),eg=Di("transitionend"),tg=new Map,cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cu.push("scrollEnd");function Yt(e,n){tg.set(e,n),ji(n,[e])}var wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Es=0,uu=0;function Nl(){for(var e=Es,n=uu=Es=0;n<e;){var a=Mt[n];Mt[n++]=null;var l=Mt[n];Mt[n++]=null;var c=Mt[n];Mt[n++]=null;var h=Mt[n];if(Mt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&ng(a,c,h)}}function Cl(e,n,a,l){Mt[Es++]=e,Mt[Es++]=n,Mt[Es++]=a,Mt[Es++]=l,uu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hu(e,n,a,l){return Cl(e,n,a,l),Al(e)}function Li(e,n){return Cl(e,null,null,n),Al(e)}function ng(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=e.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-Tt(a),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Al(e){if(50<lr)throw lr=0,_h=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ws={};function x1(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,a,l){return new x1(e,n,a,l)}function du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,n){var a=e.alternate;return a===null?(a=Et(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ig(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Il(e,n,a,l,c,h){var g=0;if(l=e,typeof e=="function")du(e)&&(g=1);else if(typeof e=="string")g=NT(e,a,Ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case cs:return e=Et(31,a,n,c),e.elementType=cs,e.lanes=h,e;case D:return zi(a.children,c,h,n);case B:g=8,c|=24;break;case Q:return e=Et(12,a,n,c|2),e.elementType=Q,e.lanes=h,e;case Vt:return e=Et(13,a,n,c),e.elementType=Vt,e.lanes=h,e;case it:return e=Et(19,a,n,c),e.elementType=it,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:g=10;break e;case ue:g=9;break e;case Ae:g=11;break e;case un:g=14;break e;case Ft:g=16,l=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Et(g,a,n,c),n.elementType=e,n.type=l,n.lanes=h,n}function zi(e,n,a,l){return e=Et(7,e,l,n),e.lanes=a,e}function fu(e,n,a){return e=Et(6,e,null,n),e.lanes=a,e}function sg(e){var n=Et(18,null,null,0);return n.stateNode=e,n}function mu(e,n,a){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ag=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var a=ag.get(e);return a!==void 0?a:(n={value:e,source:n,stack:sm(n)},ag.set(e,n),n)}return{value:e,source:n,stack:sm(n)}}var Ns=[],Cs=0,Rl=null,Ha=0,Lt=[],zt=0,Wn=null,tn=1,nn="";function pn(e,n){Ns[Cs++]=Ha,Ns[Cs++]=Rl,Rl=e,Ha=n}function rg(e,n,a){Lt[zt++]=tn,Lt[zt++]=nn,Lt[zt++]=Wn,Wn=e;var l=tn;e=nn;var c=32-Tt(l)-1;l&=~(1<<c),a+=1;var h=32-Tt(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,tn=1<<32-Tt(n)+c|a<<c|l,nn=h+e}else tn=1<<h|a<<c|l,nn=e}function gu(e){e.return!==null&&(pn(e,1),rg(e,1,0))}function pu(e){for(;e===Rl;)Rl=Ns[--Cs],Ns[Cs]=null,Ha=Ns[--Cs],Ns[Cs]=null;for(;e===Wn;)Wn=Lt[--zt],Lt[zt]=null,nn=Lt[--zt],Lt[zt]=null,tn=Lt[--zt],Lt[zt]=null}function lg(e,n){Lt[zt++]=tn,Lt[zt++]=nn,Lt[zt++]=Wn,tn=n.id,nn=n.overflow,Wn=e}var Ze=null,we=null,ae=!1,Xn=null,Ut=!1,vu=Error(r(519));function Zn(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(Dt(n,e)),vu}function og(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Xe]=e,n[ot]=l,a){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(a=0;a<cr.length;a++)ne(cr[a],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":ne("invalid",n),xm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ne("invalid",n);break;case"textarea":ne("invalid",n),Sm(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||w0(n.textContent,a)?(l.popover!=null&&(ne("beforetoggle",n),ne("toggle",n)),l.onScroll!=null&&ne("scroll",n),l.onScrollEnd!=null&&ne("scrollend",n),l.onClick!=null&&(n.onclick=fn),n=!0):n=!1,n||Zn(e,!0)}function cg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:Ze=Ze.return}}function As(e){if(e!==Ze)return!1;if(!ae)return cg(e),ae=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Dh(e.type,e.memoizedProps)),a=!a),a&&we&&Zn(e),cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));we=M0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));we=M0(e)}else n===27?(n=we,hi(e.type)?(e=Hh,Hh=null,we=e):we=n):we=Ze?Ht(e.stateNode.nextSibling):null;return!0}function Ui(){we=Ze=null,ae=!1}function yu(){var e=Xn;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),Xn=null),e}function Pa(e){Xn===null?Xn=[e]:Xn.push(e)}var bu=at(null),Bi=null,vn=null;function Jn(e,n,a){he(bu,n._currentValue),n._currentValue=a}function yn(e){e._currentValue=bu.current,Re(bu)}function _u(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function xu(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=c;for(var T=0;T<n.length;T++)if(y.context===n[T]){h.lanes|=a,y=h.alternate,y!==null&&(y.lanes|=a),_u(h.return,a,e),l||(g=null);break e}h=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),_u(g,a,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Is(e,n,a,l){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=c.type;St(c.pendingProps.value,g.value)||(e!==null?e.push(y):e=[y])}}else if(c===ll.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(mr):e=[mr])}c=c.return}e!==null&&xu(n,e,a,l),n.flags|=262144}function kl(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hi(e){Bi=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return ug(Bi,e)}function jl(e,n){return Bi===null&&Hi(e),ug(e,n)}function ug(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vn===null){if(e===null)throw Error(r(308));vn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else vn=vn.next=n;return a}var T1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},S1=s.unstable_scheduleCallback,E1=s.unstable_NormalPriority,ze={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new T1,data:new Map,refCount:0}}function qa(e){e.refCount--,e.refCount===0&&S1(E1,function(){e.controller.abort()})}var Ga=null,Su=0,Rs=0,ks=null;function w1(e,n){if(Ga===null){var a=Ga=[];Su=0,Rs=Nh(),ks={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Su++,n.then(hg,hg),n}function hg(){if(--Su===0&&Ga!==null){ks!==null&&(ks.status="fulfilled");var e=Ga;Ga=null,Rs=0,ks=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function N1(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var dg=O.S;O.S=function(e,n){Wp=_t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&w1(e,n),dg!==null&&dg(e,n)};var Pi=at(null);function Eu(){var e=Pi.current;return e!==null?e:be.pooledCache}function Ol(e,n){n===null?he(Pi,Pi.current):he(Pi,n.pool)}function fg(){var e=Eu();return e===null?null:{parent:ze._currentValue,pool:e}}var js=Error(r(460)),wu=Error(r(474)),Ml=Error(r(542)),Dl={then:function(){}};function mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(fn,fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vg(e),e;default:if(typeof n.status=="string")n.then(fn,fn);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vg(e),e}throw Gi=n,js}}function qi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gi=a,js):a}}var Gi=null;function pg(){if(Gi===null)throw Error(r(459));var e=Gi;return Gi=null,e}function vg(e){if(e===js||e===Ml)throw Error(r(483))}var Os=null,Va=0;function Ll(e){var n=Va;return Va+=1,Os===null&&(Os=[]),gg(Os,e,n)}function Fa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zl(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yg(e){function n(E,S){if(e){var w=E.deletions;w===null?(E.deletions=[S],E.flags|=16):w.push(S)}}function a(E,S){if(!e)return null;for(;S!==null;)n(E,S),S=S.sibling;return null}function l(E){for(var S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function c(E,S){return E=gn(E,S),E.index=0,E.sibling=null,E}function h(E,S,w){return E.index=w,e?(w=E.alternate,w!==null?(w=w.index,w<S?(E.flags|=67108866,S):w):(E.flags|=67108866,S)):(E.flags|=1048576,S)}function g(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function y(E,S,w,j){return S===null||S.tag!==6?(S=fu(w,E.mode,j),S.return=E,S):(S=c(S,w),S.return=E,S)}function T(E,S,w,j){var q=w.type;return q===D?k(E,S,w.props.children,j,w.key):S!==null&&(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ft&&qi(q)===S.type)?(S=c(S,w.props),Fa(S,w),S.return=E,S):(S=Il(w.type,w.key,w.props,null,E.mode,j),Fa(S,w),S.return=E,S)}function N(E,S,w,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=mu(w,E.mode,j),S.return=E,S):(S=c(S,w.children||[]),S.return=E,S)}function k(E,S,w,j,q){return S===null||S.tag!==7?(S=zi(w,E.mode,j,q),S.return=E,S):(S=c(S,w),S.return=E,S)}function M(E,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=fu(""+S,E.mode,w),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case A:return w=Il(S.type,S.key,S.props,null,E.mode,w),Fa(w,S),w.return=E,w;case R:return S=mu(S,E.mode,w),S.return=E,S;case Ft:return S=qi(S),M(E,S,w)}if(hn(S)||kt(S))return S=zi(S,E.mode,w,null),S.return=E,S;if(typeof S.then=="function")return M(E,Ll(S),w);if(S.$$typeof===W)return M(E,jl(E,S),w);zl(E,S)}return null}function C(E,S,w,j){var q=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return q!==null?null:y(E,S,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return w.key===q?T(E,S,w,j):null;case R:return w.key===q?N(E,S,w,j):null;case Ft:return w=qi(w),C(E,S,w,j)}if(hn(w)||kt(w))return q!==null?null:k(E,S,w,j,null);if(typeof w.then=="function")return C(E,S,Ll(w),j);if(w.$$typeof===W)return C(E,S,jl(E,w),j);zl(E,w)}return null}function I(E,S,w,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return E=E.get(w)||null,y(S,E,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return E=E.get(j.key===null?w:j.key)||null,T(S,E,j,q);case R:return E=E.get(j.key===null?w:j.key)||null,N(S,E,j,q);case Ft:return j=qi(j),I(E,S,w,j,q)}if(hn(j)||kt(j))return E=E.get(w)||null,k(S,E,j,q,null);if(typeof j.then=="function")return I(E,S,w,Ll(j),q);if(j.$$typeof===W)return I(E,S,w,jl(S,j),q);zl(S,j)}return null}function H(E,S,w,j){for(var q=null,re=null,P=S,Z=S=0,se=null;P!==null&&Z<w.length;Z++){P.index>Z?(se=P,P=null):se=P.sibling;var le=C(E,P,w[Z],j);if(le===null){P===null&&(P=se);break}e&&P&&le.alternate===null&&n(E,P),S=h(le,S,Z),re===null?q=le:re.sibling=le,re=le,P=se}if(Z===w.length)return a(E,P),ae&&pn(E,Z),q;if(P===null){for(;Z<w.length;Z++)P=M(E,w[Z],j),P!==null&&(S=h(P,S,Z),re===null?q=P:re.sibling=P,re=P);return ae&&pn(E,Z),q}for(P=l(P);Z<w.length;Z++)se=I(P,E,Z,w[Z],j),se!==null&&(e&&se.alternate!==null&&P.delete(se.key===null?Z:se.key),S=h(se,S,Z),re===null?q=se:re.sibling=se,re=se);return e&&P.forEach(function(pi){return n(E,pi)}),ae&&pn(E,Z),q}function G(E,S,w,j){if(w==null)throw Error(r(151));for(var q=null,re=null,P=S,Z=S=0,se=null,le=w.next();P!==null&&!le.done;Z++,le=w.next()){P.index>Z?(se=P,P=null):se=P.sibling;var pi=C(E,P,le.value,j);if(pi===null){P===null&&(P=se);break}e&&P&&pi.alternate===null&&n(E,P),S=h(pi,S,Z),re===null?q=pi:re.sibling=pi,re=pi,P=se}if(le.done)return a(E,P),ae&&pn(E,Z),q;if(P===null){for(;!le.done;Z++,le=w.next())le=M(E,le.value,j),le!==null&&(S=h(le,S,Z),re===null?q=le:re.sibling=le,re=le);return ae&&pn(E,Z),q}for(P=l(P);!le.done;Z++,le=w.next())le=I(P,E,Z,le.value,j),le!==null&&(e&&le.alternate!==null&&P.delete(le.key===null?Z:le.key),S=h(le,S,Z),re===null?q=le:re.sibling=le,re=le);return e&&P.forEach(function(zT){return n(E,zT)}),ae&&pn(E,Z),q}function ve(E,S,w,j){if(typeof w=="object"&&w!==null&&w.type===D&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case A:e:{for(var q=w.key;S!==null;){if(S.key===q){if(q=w.type,q===D){if(S.tag===7){a(E,S.sibling),j=c(S,w.props.children),j.return=E,E=j;break e}}else if(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ft&&qi(q)===S.type){a(E,S.sibling),j=c(S,w.props),Fa(j,w),j.return=E,E=j;break e}a(E,S);break}else n(E,S);S=S.sibling}w.type===D?(j=zi(w.props.children,E.mode,j,w.key),j.return=E,E=j):(j=Il(w.type,w.key,w.props,null,E.mode,j),Fa(j,w),j.return=E,E=j)}return g(E);case R:e:{for(q=w.key;S!==null;){if(S.key===q)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){a(E,S.sibling),j=c(S,w.children||[]),j.return=E,E=j;break e}else{a(E,S);break}else n(E,S);S=S.sibling}j=mu(w,E.mode,j),j.return=E,E=j}return g(E);case Ft:return w=qi(w),ve(E,S,w,j)}if(hn(w))return H(E,S,w,j);if(kt(w)){if(q=kt(w),typeof q!="function")throw Error(r(150));return w=q.call(w),G(E,S,w,j)}if(typeof w.then=="function")return ve(E,S,Ll(w),j);if(w.$$typeof===W)return ve(E,S,jl(E,w),j);zl(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(a(E,S.sibling),j=c(S,w),j.return=E,E=j):(a(E,S),j=fu(w,E.mode,j),j.return=E,E=j),g(E)):a(E,S)}return function(E,S,w,j){try{Va=0;var q=ve(E,S,w,j);return Os=null,q}catch(P){if(P===js||P===Ml)throw P;var re=Et(29,P,null,E.mode);return re.lanes=j,re.return=E,re}}}var Vi=yg(!0),bg=yg(!1),$n=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(oe&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Al(e),ng(e,null,a),n}return Cl(e,l,n,a),Al(e)}function Ya(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,um(e,a)}}function Au(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Iu=!1;function Ka(){if(Iu){var e=ks;if(e!==null)throw e}}function Qa(e,n,a,l){Iu=!1;var c=e.updateQueue;$n=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var T=y,N=T.next;T.next=null,g===null?h=N:g.next=N,g=T;var k=e.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==g&&(y===null?k.firstBaseUpdate=N:y.next=N,k.lastBaseUpdate=T))}if(h!==null){var M=c.baseState;g=0,k=N=T=null,y=h;do{var C=y.lane&-536870913,I=C!==y.lane;if(I?(ie&C)===C:(l&C)===C){C!==0&&C===Rs&&(Iu=!0),k!==null&&(k=k.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var H=e,G=y;C=n;var ve=a;switch(G.tag){case 1:if(H=G.payload,typeof H=="function"){M=H.call(ve,M,C);break e}M=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=G.payload,C=typeof H=="function"?H.call(ve,M,C):H,C==null)break e;M=_({},M,C);break e;case 2:$n=!0}}C=y.callback,C!==null&&(e.flags|=64,I&&(e.flags|=8192),I=c.callbacks,I===null?c.callbacks=[C]:I.push(C))}else I={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(N=k=I,T=M):k=k.next=I,g|=C;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;I=y,y=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);k===null&&(T=M),c.baseState=T,c.firstBaseUpdate=N,c.lastBaseUpdate=k,h===null&&(c.shared.lanes=0),ri|=g,e.lanes=g,e.memoizedState=M}}function _g(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function xg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_g(a[e],n)}var Ms=at(null),Ul=at(0);function Tg(e,n){e=Cn,he(Ul,e),he(Ms,n),Cn=e|n.baseLanes}function Ru(){he(Ul,Cn),he(Ms,Ms.current)}function ku(){Cn=Ul.current,Re(Ms),Re(Ul)}var wt=at(null),Bt=null;function ni(e){var n=e.alternate;he(Me,Me.current&1),he(wt,e),Bt===null&&(n===null||Ms.current!==null||n.memoizedState!==null)&&(Bt=e)}function ju(e){he(Me,Me.current),he(wt,e),Bt===null&&(Bt=e)}function Sg(e){e.tag===22?(he(Me,Me.current),he(wt,e),Bt===null&&(Bt=e)):ii()}function ii(){he(Me,Me.current),he(wt,wt.current)}function Nt(e){Re(wt),Bt===e&&(Bt=null),Re(Me)}var Me=at(0);function Bl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Uh(a)||Bh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bn=0,X=null,ge=null,Ue=null,Hl=!1,Ds=!1,Fi=!1,Pl=0,Wa=0,Ls=null,C1=0;function je(){throw Error(r(321))}function Ou(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!St(e[a],n[a]))return!1;return!0}function Mu(e,n,a,l,c,h){return bn=h,X=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?rp:Wu,Fi=!1,h=a(l,c),Fi=!1,Ds&&(h=wg(n,a,l,c)),Eg(e),h}function Eg(e){O.H=Ja;var n=ge!==null&&ge.next!==null;if(bn=0,Ue=ge=X=null,Hl=!1,Wa=0,Ls=null,n)throw Error(r(300));e===null||Be||(e=e.dependencies,e!==null&&kl(e)&&(Be=!0))}function wg(e,n,a,l){X=e;var c=0;do{if(Ds&&(Ls=null),Wa=0,Ds=!1,25<=c)throw Error(r(301));if(c+=1,Ue=ge=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=lp,h=n(a,l)}while(Ds);return h}function A1(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Xa(n):n,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(X.flags|=1024),n}function Du(){var e=Pl!==0;return Pl=0,e}function Lu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function zu(e){if(Hl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hl=!1}bn=0,Ue=ge=X=null,Ds=!1,Wa=Pl=0,Ls=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?X.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function De(){if(ge===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var n=Ue===null?X.memoizedState:Ue.next;if(n!==null)Ue=n,ge=e;else{if(e===null)throw X.alternate===null?Error(r(467)):Error(r(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ue===null?X.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xa(e){var n=Wa;return Wa+=1,Ls===null&&(Ls=[]),e=gg(Ls,e,n),n=X,(Ue===null?n.memoizedState:Ue.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?rp:Wu),e}function Gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xa(e);if(e.$$typeof===W)return Je(e)}throw Error(r(438,String(e)))}function Uu(e){var n=null,a=X.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=X.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ql(),X.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=al;return n.index++,a}function _n(e,n){return typeof n=="function"?n(e):n}function Vl(e){var n=De();return Bu(n,ge,e)}function Bu(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var y=g=null,T=null,N=n,k=!1;do{var M=N.lane&-536870913;if(M!==N.lane?(ie&M)===M:(bn&M)===M){var C=N.revertLane;if(C===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),M===Rs&&(k=!0);else if((bn&C)===C){N=N.next,C===Rs&&(k=!0);continue}else M={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(y=T=M,g=h):T=T.next=M,X.lanes|=C,ri|=C;M=N.action,Fi&&a(h,M),h=N.hasEagerState?N.eagerState:a(h,M)}else C={lane:M,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(y=T=C,g=h):T=T.next=C,X.lanes|=M,ri|=M;N=N.next}while(N!==null&&N!==n);if(T===null?g=h:T.next=y,!St(h,e.memoizedState)&&(Be=!0,k&&(a=ks,a!==null)))throw a;e.memoizedState=h,e.baseState=g,e.baseQueue=T,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Hu(e){var n=De(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);St(h,n.memoizedState)||(Be=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Ng(e,n,a){var l=X,c=De(),h=ae;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!St((ge||c).memoizedState,a);if(g&&(c.memoizedState=a,Be=!0),c=c.queue,Gu(Ig.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||Ue!==null&&Ue.memoizedState.tag&1){if(l.flags|=2048,zs(9,{destroy:void 0},Ag.bind(null,l,c,a,n),null),be===null)throw Error(r(349));h||(bn&127)!==0||Cg(l,n,a)}return a}function Cg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=X.updateQueue,n===null?(n=ql(),X.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ag(e,n,a,l){n.value=a,n.getSnapshot=l,Rg(n)&&kg(e)}function Ig(e,n,a){return a(function(){Rg(n)&&kg(e)})}function Rg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!St(e,a)}catch{return!0}}function kg(e){var n=Li(e,2);n!==null&&mt(n,e,2)}function Pu(e){var n=rt();if(typeof e=="function"){var a=e;if(e=a(),Fi){Yn(!0);try{a()}finally{Yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},n}function jg(e,n,a,l){return e.baseState=a,Bu(e,ge,typeof l=="function"?l:_n)}function I1(e,n,a,l,c){if(Kl(e))throw Error(r(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};O.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Og(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Og(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var h=O.T,g={};O.T=g;try{var y=a(c,l),T=O.S;T!==null&&T(g,y),Mg(e,n,y)}catch(N){qu(e,n,N)}finally{h!==null&&g.types!==null&&(h.types=g.types),O.T=h}}else try{h=a(c,l),Mg(e,n,h)}catch(N){qu(e,n,N)}}function Mg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dg(e,n,l)},function(l){return qu(e,n,l)}):Dg(e,n,a)}function Dg(e,n,a){n.status="fulfilled",n.value=a,Lg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Og(e,a)))}function qu(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==l)}e.action=null}function Lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zg(e,n){return n}function Ug(e,n){if(ae){var a=be.formState;if(a!==null){e:{var l=X;if(ae){if(we){t:{for(var c=we,h=Ut;c.nodeType!==8;){if(!h){c=null;break t}if(c=Ht(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){we=Ht(c.nextSibling),l=c.data==="F!";break e}}Zn(l)}l=!1}l&&(n=a[0])}}return a=rt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:n},a.queue=l,a=ip.bind(null,X,l),l.dispatch=a,l=Pu(!1),h=Qu.bind(null,X,!1,l.queue),l=rt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=I1.bind(null,X,c,h,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function Bg(e){var n=De();return Hg(n,ge,e)}function Hg(e,n,a){if(n=Bu(e,n,zg)[0],e=Vl(_n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xa(n)}catch(g){throw g===js?Ml:g}else l=n;n=De();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(X.flags|=2048,zs(9,{destroy:void 0},R1.bind(null,c,a),null)),[l,h,e]}function R1(e,n){e.action=n}function Pg(e){var n=De(),a=ge;if(a!==null)return Hg(n,a,e);De(),n=n.memoizedState,a=De();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function zs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=X.updateQueue,n===null&&(n=ql(),X.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function qg(){return De().memoizedState}function Fl(e,n,a,l){var c=rt();X.flags|=e,c.memoizedState=zs(1|n,{destroy:void 0},a,l===void 0?null:l)}function Yl(e,n,a,l){var c=De();l=l===void 0?null:l;var h=c.memoizedState.inst;ge!==null&&l!==null&&Ou(l,ge.memoizedState.deps)?c.memoizedState=zs(n,h,a,l):(X.flags|=e,c.memoizedState=zs(1|n,h,a,l))}function Gg(e,n){Fl(8390656,8,e,n)}function Gu(e,n){Yl(2048,8,e,n)}function k1(e){X.flags|=4;var n=X.updateQueue;if(n===null)n=ql(),X.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Vg(e){var n=De().memoizedState;return k1({ref:n,nextImpl:e}),function(){if((oe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fg(e,n){return Yl(4,2,e,n)}function Yg(e,n){return Yl(4,4,e,n)}function Kg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Qg(e,n,a){a=a!=null?a.concat([e]):null,Yl(4,4,Kg.bind(null,n,e),a)}function Vu(){}function Wg(e,n){var a=De();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ou(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Xg(e,n){var a=De();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ou(n,l[1]))return l[0];if(l=e(),Fi){Yn(!0);try{e()}finally{Yn(!1)}}return a.memoizedState=[l,n],l}function Fu(e,n,a){return a===void 0||(bn&1073741824)!==0&&(ie&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Zp(),X.lanes|=e,ri|=e,a)}function Zg(e,n,a,l){return St(a,n)?a:Ms.current!==null?(e=Fu(e,a,l),St(e,n)||(Be=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(ie&261930)===0?(Be=!0,e.memoizedState=a):(e=Zp(),X.lanes|=e,ri|=e,n)}function Jg(e,n,a,l,c){var h=z.p;z.p=h!==0&&8>h?h:8;var g=O.T,y={};O.T=y,Qu(e,!1,n,a);try{var T=c(),N=O.S;if(N!==null&&N(y,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var k=N1(T,l);Za(e,n,k,It(e))}else Za(e,n,l,It(e))}catch(M){Za(e,n,{then:function(){},status:"rejected",reason:M},It())}finally{z.p=h,g!==null&&y.types!==null&&(g.types=y.types),O.T=g}}function j1(){}function Yu(e,n,a,l){if(e.tag!==5)throw Error(r(476));var c=$g(e).queue;Jg(e,c,n,K,a===null?j1:function(){return ep(e),a(l)})}function $g(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:K},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ep(e){var n=$g(e);n.next===null&&(n=e.alternate.memoizedState),Za(e,n.next.queue,{},It())}function Ku(){return Je(mr)}function tp(){return De().memoizedState}function np(){return De().memoizedState}function O1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=It();e=ei(a);var l=ti(n,e,a);l!==null&&(mt(l,n,a),Ya(l,n,a)),n={cache:Tu()},e.payload=n;return}n=n.return}}function M1(e,n,a){var l=It();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Kl(e)?sp(n,a):(a=hu(e,n,a,l),a!==null&&(mt(a,e,l),ap(a,n,l)))}function ip(e,n,a){var l=It();Za(e,n,a,l)}function Za(e,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))sp(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,y=h(g,a);if(c.hasEagerState=!0,c.eagerState=y,St(y,g))return Cl(e,n,c,0),be===null&&Nl(),!1}catch{}if(a=hu(e,n,c,l),a!==null)return mt(a,e,l),ap(a,n,l),!0}return!1}function Qu(e,n,a,l){if(l={lane:2,revertLane:Nh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Kl(e)){if(n)throw Error(r(479))}else n=hu(e,a,l,2),n!==null&&mt(n,e,2)}function Kl(e){var n=e.alternate;return e===X||n!==null&&n===X}function sp(e,n){Ds=Hl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ap(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,um(e,a)}}var Ja={readContext:Je,use:Gl,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};Ja.useEffectEvent=je;var rp={readContext:Je,use:Gl,useCallback:function(e,n){return rt().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:Gg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Fl(4194308,4,Kg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Fl(4194308,4,e,n)},useInsertionEffect:function(e,n){Fl(4,2,e,n)},useMemo:function(e,n){var a=rt();n=n===void 0?null:n;var l=e();if(Fi){Yn(!0);try{e()}finally{Yn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=rt();if(a!==void 0){var c=a(n);if(Fi){Yn(!0);try{a(n)}finally{Yn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=M1.bind(null,X,e),[l.memoizedState,e]},useRef:function(e){var n=rt();return e={current:e},n.memoizedState=e},useState:function(e){e=Pu(e);var n=e.queue,a=ip.bind(null,X,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Vu,useDeferredValue:function(e,n){var a=rt();return Fu(a,e,n)},useTransition:function(){var e=Pu(!1);return e=Jg.bind(null,X,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=X,c=rt();if(ae){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),be===null)throw Error(r(349));(ie&127)!==0||Cg(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Gg(Ig.bind(null,l,h,e),[e]),l.flags|=2048,zs(9,{destroy:void 0},Ag.bind(null,l,h,a,n),null),a},useId:function(){var e=rt(),n=be.identifierPrefix;if(ae){var a=nn,l=tn;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Pl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=C1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ku,useFormState:Ug,useActionState:Ug,useOptimistic:function(e){var n=rt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Qu.bind(null,X,!0,a),a.dispatch=n,[e,n]},useMemoCache:Uu,useCacheRefresh:function(){return rt().memoizedState=O1.bind(null,X)},useEffectEvent:function(e){var n=rt(),a={impl:e};return n.memoizedState=a,function(){if((oe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Wu={readContext:Je,use:Gl,useCallback:Wg,useContext:Je,useEffect:Gu,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Yg,useMemo:Xg,useReducer:Vl,useRef:qg,useState:function(){return Vl(_n)},useDebugValue:Vu,useDeferredValue:function(e,n){var a=De();return Zg(a,ge.memoizedState,e,n)},useTransition:function(){var e=Vl(_n)[0],n=De().memoizedState;return[typeof e=="boolean"?e:Xa(e),n]},useSyncExternalStore:Ng,useId:tp,useHostTransitionStatus:Ku,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,n){var a=De();return jg(a,ge,e,n)},useMemoCache:Uu,useCacheRefresh:np};Wu.useEffectEvent=Vg;var lp={readContext:Je,use:Gl,useCallback:Wg,useContext:Je,useEffect:Gu,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Yg,useMemo:Xg,useReducer:Hu,useRef:qg,useState:function(){return Hu(_n)},useDebugValue:Vu,useDeferredValue:function(e,n){var a=De();return ge===null?Fu(a,e,n):Zg(a,ge.memoizedState,e,n)},useTransition:function(){var e=Hu(_n)[0],n=De().memoizedState;return[typeof e=="boolean"?e:Xa(e),n]},useSyncExternalStore:Ng,useId:tp,useHostTransitionStatus:Ku,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var a=De();return ge!==null?jg(a,ge,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:np};lp.useEffectEvent=Vg;function Xu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:_({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=It(),c=ei(l);c.payload=n,a!=null&&(c.callback=a),n=ti(e,c,l),n!==null&&(mt(n,e,l),Ya(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=It(),c=ei(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ti(e,c,l),n!==null&&(mt(n,e,l),Ya(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=It(),l=ei(a);l.tag=2,n!=null&&(l.callback=n),n=ti(e,l,a),n!==null&&(mt(n,e,a),Ya(n,e,a))}};function op(e,n,a,l,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!Ua(a,l)||!Ua(c,h):!0}function cp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Zu.enqueueReplaceState(n,n.state,null)}function Yi(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=_({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function up(e){wl(e)}function hp(e){console.error(e)}function dp(e){wl(e)}function Ql(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ju(e,n,a){return a=ei(a),a.tag=3,a.payload={element:null},a.callback=function(){Ql(e,n)},a}function mp(e){return e=ei(e),e.tag=3,e}function gp(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){fp(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){fp(n,a,l),typeof c!="function"&&(li===null?li=new Set([this]):li.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function D1(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Is(n,a,c,!0),a=wt.current,a!==null){switch(a.tag){case 31:case 13:return Bt===null?ro():a.alternate===null&&Oe===0&&(Oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Dl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Sh(e,l,c)),!1;case 22:return a.flags|=65536,l===Dl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Sh(e,l,c)),!1}throw Error(r(435,a.tag))}return Sh(e,l,c),ro(),!1}if(ae)return n=wt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==vu&&(e=Error(r(422),{cause:l}),Pa(Dt(e,a)))):(l!==vu&&(n=Error(r(423),{cause:l}),Pa(Dt(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Dt(l,a),c=Ju(e.stateNode,l,c),Au(e,c),Oe!==4&&(Oe=2)),!1;var h=Error(r(520),{cause:l});if(h=Dt(h,a),rr===null?rr=[h]:rr.push(h),Oe!==4&&(Oe=2),n===null)return!0;l=Dt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Ju(a.stateNode,l,e),Au(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(li===null||!li.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=mp(c),gp(c,e,a,l),Au(a,c),!1}a=a.return}while(a!==null);return!1}var $u=Error(r(461)),Be=!1;function $e(e,n,a,l){n.child=e===null?bg(n,null,a,l):Vi(n,e.child,a,l)}function pp(e,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var y in l)y!=="ref"&&(g[y]=l[y])}else g=l;return Hi(n),l=Mu(e,n,a,g,h,c),y=Du(),e!==null&&!Be?(Lu(e,n,c),xn(e,n,c)):(ae&&y&&gu(n),n.flags|=1,$e(e,n,l,c),n.child)}function vp(e,n,a,l,c){if(e===null){var h=a.type;return typeof h=="function"&&!du(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,yp(e,n,h,l,c)):(e=Il(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!lh(e,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ua,a(g,l)&&e.ref===n.ref)return xn(e,n,c)}return n.flags|=1,e=gn(h,l),e.ref=n.ref,e.return=n,n.child=e}function yp(e,n,a,l,c){if(e!==null){var h=e.memoizedProps;if(Ua(h,l)&&e.ref===n.ref)if(Be=!1,n.pendingProps=l=h,lh(e,c))(e.flags&131072)!==0&&(Be=!0);else return n.lanes=e.lanes,xn(e,n,c)}return eh(e,n,a,l,c)}function bp(e,n,a,l){var c=l.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return _p(e,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ol(n,h!==null?h.cachePool:null),h!==null?Tg(n,h):Ru(),Sg(n);else return l=n.lanes=536870912,_p(e,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Ol(n,h.cachePool),Tg(n,h),ii(),n.memoizedState=null):(e!==null&&Ol(n,null),Ru(),ii());return $e(e,n,c,a),n.child}function $a(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _p(e,n,a,l,c){var h=Eu();return h=h===null?null:{parent:ze._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ol(n,null),Ru(),Sg(n),e!==null&&Is(e,n,l,!0),n.childLanes=c,null}function Wl(e,n){return n=Zl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xp(e,n,a){return Vi(n,e.child,null,a),e=Wl(n,n.pendingProps),e.flags|=2,Nt(n),n.memoizedState=null,e}function L1(e,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ae){if(l.mode==="hidden")return e=Wl(n,l),n.lanes=536870912,$a(null,e);if(ju(n),(e=we)?(e=O0(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},a=sg(e),a.return=n,n.child=a,Ze=n,we=null)):e=null,e===null)throw Zn(n);return n.lanes=536870912,null}return Wl(n,l)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(ju(n),c)if(n.flags&256)n.flags&=-257,n=xp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Be||Is(e,n,a,!1),c=(a&e.childLanes)!==0,Be||c){if(l=be,l!==null&&(g=hm(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,Li(e,g),mt(l,e,g),$u;ro(),n=xp(e,n,a)}else e=h.treeContext,we=Ht(g.nextSibling),Ze=n,ae=!0,Xn=null,Ut=!1,e!==null&&lg(n,e),n=Wl(n,l),n.flags|=4096;return n}return e=gn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function eh(e,n,a,l,c){return Hi(n),a=Mu(e,n,a,l,void 0,c),l=Du(),e!==null&&!Be?(Lu(e,n,c),xn(e,n,c)):(ae&&l&&gu(n),n.flags|=1,$e(e,n,a,c),n.child)}function Tp(e,n,a,l,c,h){return Hi(n),n.updateQueue=null,a=wg(n,l,a,c),Eg(e),l=Du(),e!==null&&!Be?(Lu(e,n,h),xn(e,n,h)):(ae&&l&&gu(n),n.flags|=1,$e(e,n,a,h),n.child)}function Sp(e,n,a,l,c){if(Hi(n),n.stateNode===null){var h=ws,g=a.contextType;typeof g=="object"&&g!==null&&(h=Je(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Zu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Nu(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?Je(g):ws,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Xu(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Zu.enqueueReplaceState(h,h.state,null),Qa(n,l,h,c),Ka(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var y=n.memoizedProps,T=Yi(a,y);h.props=T;var N=h.context,k=a.contextType;g=ws,typeof k=="object"&&k!==null&&(g=Je(k));var M=a.getDerivedStateFromProps;k=typeof M=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,k||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||N!==g)&&cp(n,h,l,g),$n=!1;var C=n.memoizedState;h.state=C,Qa(n,l,h,c),Ka(),N=n.memoizedState,y||C!==N||$n?(typeof M=="function"&&(Xu(n,a,M,l),N=n.memoizedState),(T=$n||op(n,a,T,l,C,N,g))?(k||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),h.props=l,h.state=N,h.context=g,l=T):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Cu(e,n),g=n.memoizedProps,k=Yi(a,g),h.props=k,M=n.pendingProps,C=h.context,N=a.contextType,T=ws,typeof N=="object"&&N!==null&&(T=Je(N)),y=a.getDerivedStateFromProps,(N=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==M||C!==T)&&cp(n,h,l,T),$n=!1,C=n.memoizedState,h.state=C,Qa(n,l,h,c),Ka();var I=n.memoizedState;g!==M||C!==I||$n||e!==null&&e.dependencies!==null&&kl(e.dependencies)?(typeof y=="function"&&(Xu(n,a,y,l),I=n.memoizedState),(k=$n||op(n,a,k,l,C,I,T)||e!==null&&e.dependencies!==null&&kl(e.dependencies))?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,I,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,I,T)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=T,l=k):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Xl(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=Vi(n,e.child,null,c),n.child=Vi(n,null,a,c)):$e(e,n,a,c),n.memoizedState=h.state,e=n.child):e=xn(e,n,c),e}function Ep(e,n,a,l){return Ui(),n.flags|=256,$e(e,n,a,l),n.child}var th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nh(e){return{baseLanes:e,cachePool:fg()}}function ih(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=At),e}function wp(e,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(Me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(ae){if(c?ni(n):ii(),(e=we)?(e=O0(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Wn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},a=sg(e),a.return=n,n.child=a,Ze=n,we=null)):e=null,e===null)throw Zn(n);return Bh(e)?n.lanes=32:n.lanes=536870912,null}var y=l.children;return l=l.fallback,c?(ii(),c=n.mode,y=Zl({mode:"hidden",children:y},c),l=zi(l,c,a,null),y.return=n,l.return=n,y.sibling=l,n.child=y,l=n.child,l.memoizedState=nh(a),l.childLanes=ih(e,g,a),n.memoizedState=th,$a(null,l)):(ni(n),sh(n,y))}var T=e.memoizedState;if(T!==null&&(y=T.dehydrated,y!==null)){if(h)n.flags&256?(ni(n),n.flags&=-257,n=ah(e,n,a)):n.memoizedState!==null?(ii(),n.child=e.child,n.flags|=128,n=null):(ii(),y=l.fallback,c=n.mode,l=Zl({mode:"visible",children:l.children},c),y=zi(y,c,a,null),y.flags|=2,l.return=n,y.return=n,l.sibling=y,n.child=l,Vi(n,e.child,null,a),l=n.child,l.memoizedState=nh(a),l.childLanes=ih(e,g,a),n.memoizedState=th,n=$a(null,l));else if(ni(n),Bh(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var N=g.dgst;g=N,l=Error(r(419)),l.stack="",l.digest=g,Pa({value:l,source:null,stack:null}),n=ah(e,n,a)}else if(Be||Is(e,n,a,!1),g=(a&e.childLanes)!==0,Be||g){if(g=be,g!==null&&(l=hm(g,a),l!==0&&l!==T.retryLane))throw T.retryLane=l,Li(e,l),mt(g,e,l),$u;Uh(y)||ro(),n=ah(e,n,a)}else Uh(y)?(n.flags|=192,n.child=e.child,n=null):(e=T.treeContext,we=Ht(y.nextSibling),Ze=n,ae=!0,Xn=null,Ut=!1,e!==null&&lg(n,e),n=sh(n,l.children),n.flags|=4096);return n}return c?(ii(),y=l.fallback,c=n.mode,T=e.child,N=T.sibling,l=gn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,N!==null?y=gn(N,y):(y=zi(y,c,a,null),y.flags|=2),y.return=n,l.return=n,l.sibling=y,n.child=l,$a(null,l),l=n.child,y=e.child.memoizedState,y===null?y=nh(a):(c=y.cachePool,c!==null?(T=ze._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=fg(),y={baseLanes:y.baseLanes|a,cachePool:c}),l.memoizedState=y,l.childLanes=ih(e,g,a),n.memoizedState=th,$a(e.child,l)):(ni(n),a=e.child,e=a.sibling,a=gn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function sh(e,n){return n=Zl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zl(e,n){return e=Et(22,e,null,n),e.lanes=0,e}function ah(e,n,a){return Vi(n,e.child,null,a),e=sh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Np(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),_u(e.return,n,a)}function rh(e,n,a,l,c,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function Cp(e,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=Me.current,y=(g&2)!==0;if(y?(g=g&1|2,n.flags|=128):g&=1,he(Me,g),$e(e,n,l,a),l=ae?Ha:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Np(e,a,n);else if(e.tag===19)Np(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Bl(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),rh(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Bl(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}rh(n,!0,a,null,h,l);break;case"together":rh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function xn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ri|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Is(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=gn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=gn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function lh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&kl(e)))}function z1(e,n,a){switch(n.tag){case 3:ol(n,n.stateNode.containerInfo),Jn(n,ze,e.memoizedState.cache),Ui();break;case 27:case 5:kc(n);break;case 4:ol(n,n.stateNode.containerInfo);break;case 10:Jn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ju(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ni(n),n.flags|=128,null):(a&n.child.childLanes)!==0?wp(e,n,a):(ni(n),e=xn(e,n,a),e!==null?e.sibling:null);ni(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Is(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Cp(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),he(Me,Me.current),l)break;return null;case 22:return n.lanes=0,bp(e,n,a,n.pendingProps);case 24:Jn(n,ze,e.memoizedState.cache)}return xn(e,n,a)}function Ap(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Be=!0;else{if(!lh(e,a)&&(n.flags&128)===0)return Be=!1,z1(e,n,a);Be=(e.flags&131072)!==0}else Be=!1,ae&&(n.flags&1048576)!==0&&rg(n,Ha,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=qi(n.elementType),n.type=e,typeof e=="function")du(e)?(l=Yi(e,l),n.tag=1,n=Sp(null,n,e,l,a)):(n.tag=0,n=eh(null,n,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===Ae){n.tag=11,n=pp(null,n,e,l,a);break e}else if(c===un){n.tag=14,n=vp(null,n,e,l,a);break e}}throw n=wa(e)||e,Error(r(306,n,""))}}return n;case 0:return eh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Yi(l,n.pendingProps),Sp(e,n,l,c,a);case 3:e:{if(ol(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Cu(e,n),Qa(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Jn(n,ze,l),l!==h.cache&&xu(n,[ze],a,!0),Ka(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Ep(e,n,l,a);break e}else if(l!==c){c=Dt(Error(r(424)),n),Pa(c),n=Ep(e,n,l,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,we=Ht(e.firstChild),Ze=n,ae=!0,Xn=null,Ut=!0,a=bg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ui(),l===c){n=xn(e,n,a);break e}$e(e,n,l,a)}n=n.child}return n;case 26:return Xl(e,n),e===null?(a=B0(n.type,null,n.pendingProps,null))?n.memoizedState=a:ae||(a=n.type,e=n.pendingProps,l=mo(Fn.current).createElement(a),l[Xe]=n,l[ot]=e,et(l,a,e),Fe(l),n.stateNode=l):n.memoizedState=B0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return kc(n),e===null&&ae&&(l=n.stateNode=L0(n.type,n.pendingProps,Fn.current),Ze=n,Ut=!0,c=we,hi(n.type)?(Hh=c,we=Ht(l.firstChild)):we=c),$e(e,n,n.pendingProps.children,a),Xl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ae&&((c=l=we)&&(l=fT(l,n.type,n.pendingProps,Ut),l!==null?(n.stateNode=l,Ze=n,we=Ht(l.firstChild),Ut=!1,c=!0):c=!1),c||Zn(n)),kc(n),c=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,l=h.children,Dh(c,h)?l=null:g!==null&&Dh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Mu(e,n,A1,null,null,a),mr._currentValue=c),Xl(e,n),$e(e,n,l,a),n.child;case 6:return e===null&&ae&&((e=a=we)&&(a=mT(a,n.pendingProps,Ut),a!==null?(n.stateNode=a,Ze=n,we=null,e=!0):e=!1),e||Zn(n)),null;case 13:return wp(e,n,a);case 4:return ol(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Vi(n,null,l,a):$e(e,n,l,a),n.child;case 11:return pp(e,n,n.type,n.pendingProps,a);case 7:return $e(e,n,n.pendingProps,a),n.child;case 8:return $e(e,n,n.pendingProps.children,a),n.child;case 12:return $e(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Jn(n,n.type,l.value),$e(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Hi(n),c=Je(c),l=l(c),n.flags|=1,$e(e,n,l,a),n.child;case 14:return vp(e,n,n.type,n.pendingProps,a);case 15:return yp(e,n,n.type,n.pendingProps,a);case 19:return Cp(e,n,a);case 31:return L1(e,n,a);case 22:return bp(e,n,a,n.pendingProps);case 24:return Hi(n),l=Je(ze),e===null?(c=Eu(),c===null&&(c=be,h=Tu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},Nu(n),Jn(n,ze,c)):((e.lanes&a)!==0&&(Cu(e,n),Qa(n,null,null,a),Ka()),c=e.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Jn(n,ze,l)):(l=h.cache,Jn(n,ze,l),l!==c.cache&&xu(n,[ze],a,!0))),$e(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Tn(e){e.flags|=4}function oh(e,n,a,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(t0())e.flags|=8192;else throw Gi=Dl,wu}else e.flags&=-16777217}function Ip(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V0(n))if(t0())e.flags|=8192;else throw Gi=Dl,wu}function Jl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?om():536870912,e.lanes|=n,Ps|=n)}function er(e,n){if(!ae)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function U1(e,n,a){var l=n.pendingProps;switch(pu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(n),null;case 1:return Ne(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),yn(ze),hs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(As(n)?Tn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yu())),Ne(n),null;case 26:var c=n.type,h=n.memoizedState;return e===null?(Tn(n),h!==null?(Ne(n),Ip(n,h)):(Ne(n),oh(n,c,null,l,a))):h?h!==e.memoizedState?(Tn(n),Ne(n),Ip(n,h)):(Ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Tn(n),Ne(n),oh(n,c,e,l,a)),null;case 27:if(cl(n),a=Fn.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ne(n),null}e=Ve.current,As(n)?og(n):(e=L0(c,l,a),n.stateNode=e,Tn(n))}return Ne(n),null;case 5:if(cl(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ne(n),null}if(h=Ve.current,As(n))og(n);else{var g=mo(Fn.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[Xe]=n,h[ot]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;e:switch(et(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Tn(n)}}return Ne(n),oh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Tn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=Fn.current,As(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Xe]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||w0(e.nodeValue,a)),e||Zn(n,!0)}else e=mo(e).createTextNode(l),e[Xe]=n,n.stateNode=e}return Ne(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=As(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Xe]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ne(n),e=!1}else a=yu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Nt(n),n):(Nt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ne(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=As(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Xe]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ne(n),c=!1}else c=yu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Nt(n),n):(Nt(n),null)}return Nt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Jl(n,n.updateQueue),Ne(n),null);case 4:return hs(),e===null&&Rh(n.stateNode.containerInfo),Ne(n),null;case 10:return yn(n.type),Ne(n),null;case 19:if(Re(Me),l=n.memoizedState,l===null)return Ne(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)er(l,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Bl(e),h!==null){for(n.flags|=128,er(l,!1),e=h.updateQueue,n.updateQueue=e,Jl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)ig(a,e),a=a.sibling;return he(Me,Me.current&1|2),ae&&pn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&_t()>io&&(n.flags|=128,c=!0,er(l,!1),n.lanes=4194304)}else{if(!c)if(e=Bl(h),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Jl(n,e),er(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!ae)return Ne(n),null}else 2*_t()-l.renderingStartTime>io&&a!==536870912&&(n.flags|=128,c=!0,er(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=_t(),e.sibling=null,a=Me.current,he(Me,c?a&1|2:a&1),ae&&pn(n,l.treeForkCount),e):(Ne(n),null);case 22:case 23:return Nt(n),ku(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ne(n),n.subtreeFlags&6&&(n.flags|=8192)):Ne(n),a=n.updateQueue,a!==null&&Jl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&Re(Pi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),yn(ze),Ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function B1(e,n){switch(pu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return yn(ze),hs(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return cl(n),null;case 31:if(n.memoizedState!==null){if(Nt(n),n.alternate===null)throw Error(r(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Re(Me),null;case 4:return hs(),null;case 10:return yn(n.type),null;case 22:case 23:return Nt(n),ku(),e!==null&&Re(Pi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return yn(ze),null;case 25:return null;default:return null}}function Rp(e,n){switch(pu(n),n.tag){case 3:yn(ze),hs();break;case 26:case 27:case 5:cl(n);break;case 4:hs();break;case 31:n.memoizedState!==null&&Nt(n);break;case 13:Nt(n);break;case 19:Re(Me);break;case 10:yn(n.type);break;case 22:case 23:Nt(n),ku(),e!==null&&Re(Pi);break;case 24:yn(ze)}}function tr(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(y){fe(n,n.return,y)}}function si(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var g=l.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=n;var T=a,N=y;try{N()}catch(k){fe(c,T,k)}}}l=l.next}while(l!==h)}}catch(k){fe(n,n.return,k)}}function kp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{xg(n,a)}catch(l){fe(e,e.return,l)}}}function jp(e,n,a){a.props=Yi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){fe(e,n,l)}}function nr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){fe(e,n,c)}}function sn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){fe(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){fe(e,n,c)}else a.current=null}function Op(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){fe(e,e.return,c)}}function ch(e,n,a){try{var l=e.stateNode;lT(l,e.type,a,n),l[ot]=n}catch(c){fe(e,e.return,c)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hi(e.type)||e.tag===4}function uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=fn));else if(l!==4&&(l===27&&hi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(hh(e,n,a),e=e.sibling;e!==null;)hh(e,n,a),e=e.sibling}function $l(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&hi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($l(e,n,a),e=e.sibling;e!==null;)$l(e,n,a),e=e.sibling}function Dp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);et(n,l,a),n[Xe]=e,n[ot]=a}catch(h){fe(e,e.return,h)}}var Sn=!1,He=!1,dh=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function H1(e,n){if(e=e.containerInfo,Oh=xo,e=Qm(e),au(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,y=-1,T=-1,N=0,k=0,M=e,C=null;t:for(;;){for(var I;M!==a||c!==0&&M.nodeType!==3||(y=g+c),M!==h||l!==0&&M.nodeType!==3||(T=g+l),M.nodeType===3&&(g+=M.nodeValue.length),(I=M.firstChild)!==null;)C=M,M=I;for(;;){if(M===e)break t;if(C===a&&++N===c&&(y=g),C===h&&++k===l&&(T=g),(I=M.nextSibling)!==null)break;M=C,C=M.parentNode}M=I}a=y===-1||T===-1?null:{start:y,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mh={focusedElem:e,selectionRange:a},xo=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var H=Yi(a.type,c);e=l.getSnapshotBeforeUpdate(H,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(G){fe(a,a.return,G)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)zh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function zp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wn(e,a),l&4&&tr(5,a);break;case 1:if(wn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){fe(a,a.return,g)}else{var c=Yi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){fe(a,a.return,g)}}l&64&&kp(a),l&512&&nr(a,a.return);break;case 3:if(wn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xg(e,n)}catch(g){fe(a,a.return,g)}}break;case 27:n===null&&l&4&&Dp(a);case 26:case 5:wn(e,a),n===null&&l&4&&Op(a),l&512&&nr(a,a.return);break;case 12:wn(e,a);break;case 31:wn(e,a),l&4&&Hp(e,a);break;case 13:wn(e,a),l&4&&Pp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=W1.bind(null,a),gT(e,a))));break;case 22:if(l=a.memoizedState!==null||Sn,!l){n=n!==null&&n.memoizedState!==null||He,c=Sn;var h=He;Sn=l,(He=n)&&!h?Nn(e,a,(a.subtreeFlags&8772)!==0):wn(e,a),Sn=c,He=h}break;case 30:break;default:wn(e,a)}}function Up(e){var n=e.alternate;n!==null&&(e.alternate=null,Up(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,ut=!1;function En(e,n,a){for(a=a.child;a!==null;)Bp(e,n,a),a=a.sibling}function Bp(e,n,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Na,a)}catch{}switch(a.tag){case 26:He||sn(a,n),En(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:He||sn(a,n);var l=Ie,c=ut;hi(a.type)&&(Ie=a.stateNode,ut=!1),En(e,n,a),hr(a.stateNode),Ie=l,ut=c;break;case 5:He||sn(a,n);case 6:if(l=Ie,c=ut,Ie=null,En(e,n,a),Ie=l,ut=c,Ie!==null)if(ut)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(a.stateNode)}catch(h){fe(a,n,h)}else try{Ie.removeChild(a.stateNode)}catch(h){fe(a,n,h)}break;case 18:Ie!==null&&(ut?(e=Ie,k0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ws(e)):k0(Ie,a.stateNode));break;case 4:l=Ie,c=ut,Ie=a.stateNode.containerInfo,ut=!0,En(e,n,a),Ie=l,ut=c;break;case 0:case 11:case 14:case 15:si(2,a,n),He||si(4,a,n),En(e,n,a);break;case 1:He||(sn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jp(a,n,l)),En(e,n,a);break;case 21:En(e,n,a);break;case 22:He=(l=He)||a.memoizedState!==null,En(e,n,a),He=l;break;default:En(e,n,a)}}function Hp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ws(e)}catch(a){fe(n,n.return,a)}}}function Pp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ws(e)}catch(a){fe(n,n.return,a)}}function P1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Lp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Lp),n;default:throw Error(r(435,e.tag))}}function eo(e,n){var a=P1(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=X1.bind(null,e,l);l.then(c,c)}})}function ht(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=e,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(hi(y.type)){Ie=y.stateNode,ut=!1;break e}break;case 5:Ie=y.stateNode,ut=!1;break e;case 3:case 4:Ie=y.stateNode.containerInfo,ut=!0;break e}y=y.return}if(Ie===null)throw Error(r(160));Bp(h,g,c),Ie=null,ut=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qp(n,e),n=n.sibling}var Kt=null;function qp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(n,e),dt(e),l&4&&(si(3,e,e.return),tr(3,e),si(5,e,e.return));break;case 1:ht(n,e),dt(e),l&512&&(He||a===null||sn(a,a.return)),l&64&&Sn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Kt;if(ht(n,e),dt(e),l&512&&(He||a===null||sn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ia]||h[Xe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),et(h,l,a),h[Xe]=e,Fe(h),l=h;break e;case"link":var g=q0("link","href",c).get(l+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(h=g[y],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}h=c.createElement(l),et(h,l,a),c.head.appendChild(h);break;case"meta":if(g=q0("meta","content",c).get(l+(a.content||""))){for(y=0;y<g.length;y++)if(h=g[y],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}h=c.createElement(l),et(h,l,a),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[Xe]=e,Fe(h),l=h}e.stateNode=l}else G0(c,e.type,e.stateNode);else e.stateNode=P0(c,l,e.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?G0(c,e.type,e.stateNode):P0(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ch(e,e.memoizedProps,a.memoizedProps)}break;case 27:ht(n,e),dt(e),l&512&&(He||a===null||sn(a,a.return)),a!==null&&l&4&&ch(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ht(n,e),dt(e),l&512&&(He||a===null||sn(a,a.return)),e.flags&32){c=e.stateNode;try{ys(c,"")}catch(H){fe(e,e.return,H)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,ch(e,c,a!==null?a.memoizedProps:c)),l&1024&&(dh=!0);break;case 6:if(ht(n,e),dt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(H){fe(e,e.return,H)}}break;case 3:if(vo=null,c=Kt,Kt=go(n.containerInfo),ht(n,e),Kt=c,dt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ws(n.containerInfo)}catch(H){fe(e,e.return,H)}dh&&(dh=!1,Gp(e));break;case 4:l=Kt,Kt=go(e.stateNode.containerInfo),ht(n,e),dt(e),Kt=l;break;case 12:ht(n,e),dt(e);break;case 31:ht(n,e),dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,eo(e,l)));break;case 13:ht(n,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(no=_t()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,eo(e,l)));break;case 22:c=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,N=Sn,k=He;if(Sn=N||c,He=k||T,ht(n,e),He=k,Sn=N,dt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||T||Sn||He||Ki(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){T=a=n;try{if(h=T.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=T.stateNode;var M=T.memoizedProps.style,C=M!=null&&M.hasOwnProperty("display")?M.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(H){fe(T,T.return,H)}}}else if(n.tag===6){if(a===null){T=n;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(H){fe(T,T.return,H)}}}else if(n.tag===18){if(a===null){T=n;try{var I=T.stateNode;c?j0(I,!0):j0(T.stateNode,!1)}catch(H){fe(T,T.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,eo(e,a))));break;case 19:ht(n,e),dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,eo(e,l)));break;case 30:break;case 21:break;default:ht(n,e),dt(e)}}function dt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Mp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,h=uh(e);$l(e,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(ys(g,""),a.flags&=-33);var y=uh(e);$l(e,y,g);break;case 3:case 4:var T=a.stateNode.containerInfo,N=uh(e);hh(e,N,T);break;default:throw Error(r(161))}}catch(k){fe(e,e.return,k)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function wn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function Ki(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:si(4,n,n.return),Ki(n);break;case 1:sn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&jp(n,n.return,a),Ki(n);break;case 27:hr(n.stateNode);case 26:case 5:sn(n,n.return),Ki(n);break;case 22:n.memoizedState===null&&Ki(n);break;case 30:Ki(n);break;default:Ki(n)}e=e.sibling}}function Nn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Nn(c,h,a),tr(4,h);break;case 1:if(Nn(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){fe(l,l.return,N)}if(l=h,c=l.updateQueue,c!==null){var y=l.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)_g(T[c],y)}catch(N){fe(l,l.return,N)}}a&&g&64&&kp(h),nr(h,h.return);break;case 27:Dp(h);case 26:case 5:Nn(c,h,a),a&&l===null&&g&4&&Op(h),nr(h,h.return);break;case 12:Nn(c,h,a);break;case 31:Nn(c,h,a),a&&g&4&&Hp(c,h);break;case 13:Nn(c,h,a),a&&g&4&&Pp(c,h);break;case 22:h.memoizedState===null&&Nn(c,h,a),nr(h,h.return);break;case 30:break;default:Nn(c,h,a)}n=n.sibling}}function fh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qa(a))}function mh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qa(e))}function Qt(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vp(e,n,a,l),n=n.sibling}function Vp(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qt(e,n,a,l),c&2048&&tr(9,n);break;case 1:Qt(e,n,a,l);break;case 3:Qt(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qa(e)));break;case 12:if(c&2048){Qt(e,n,a,l),e=n.stateNode;try{var h=n.memoizedProps,g=h.id,y=h.onPostCommit;typeof y=="function"&&y(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){fe(n,n.return,T)}}else Qt(e,n,a,l);break;case 31:Qt(e,n,a,l);break;case 13:Qt(e,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Qt(e,n,a,l):ir(e,n):h._visibility&2?Qt(e,n,a,l):(h._visibility|=2,Us(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&fh(g,n);break;case 24:Qt(e,n,a,l),c&2048&&mh(n.alternate,n);break;default:Qt(e,n,a,l)}}function Us(e,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,g=n,y=a,T=l,N=g.flags;switch(g.tag){case 0:case 11:case 15:Us(h,g,y,T,c),tr(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?Us(h,g,y,T,c):ir(h,g):(k._visibility|=2,Us(h,g,y,T,c)),c&&N&2048&&fh(g.alternate,g);break;case 24:Us(h,g,y,T,c),c&&N&2048&&mh(g.alternate,g);break;default:Us(h,g,y,T,c)}n=n.sibling}}function ir(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:ir(a,l),c&2048&&fh(l.alternate,l);break;case 24:ir(a,l),c&2048&&mh(l.alternate,l);break;default:ir(a,l)}n=n.sibling}}var sr=8192;function Bs(e,n,a){if(e.subtreeFlags&sr)for(e=e.child;e!==null;)Fp(e,n,a),e=e.sibling}function Fp(e,n,a){switch(e.tag){case 26:Bs(e,n,a),e.flags&sr&&e.memoizedState!==null&&CT(a,Kt,e.memoizedState,e.memoizedProps);break;case 5:Bs(e,n,a);break;case 3:case 4:var l=Kt;Kt=go(e.stateNode.containerInfo),Bs(e,n,a),Kt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=sr,sr=16777216,Bs(e,n,a),sr=l):Bs(e,n,a));break;default:Bs(e,n,a)}}function Yp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ar(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ye=l,Qp(l,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 0:case 11:case 15:ar(e),e.flags&2048&&si(9,e,e.return);break;case 3:ar(e);break;case 12:ar(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,to(e)):ar(e);break;default:ar(e)}}function to(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ye=l,Qp(l,e)}Yp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:si(8,n,n.return),to(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,to(n));break;default:to(n)}e=e.sibling}}function Qp(e,n){for(;Ye!==null;){var a=Ye;switch(a.tag){case 0:case 11:case 15:si(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ye=l;else e:for(a=e;Ye!==null;){l=Ye;var c=l.sibling,h=l.return;if(Up(l),l===a){Ye=null;break e}if(c!==null){c.return=h,Ye=c;break e}Ye=h}}}var q1={getCacheForType:function(e){var n=Je(ze),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Je(ze).controller.signal}},G1=typeof WeakMap=="function"?WeakMap:Map,oe=0,be=null,te=null,ie=0,de=0,Ct=null,ai=!1,Hs=!1,gh=!1,Cn=0,Oe=0,ri=0,Qi=0,ph=0,At=0,Ps=0,rr=null,ft=null,vh=!1,no=0,Wp=0,io=1/0,so=null,li=null,qe=0,oi=null,qs=null,An=0,yh=0,bh=null,Xp=null,lr=0,_h=null;function It(){return(oe&2)!==0&&ie!==0?ie&-ie:O.T!==null?Nh():dm()}function Zp(){if(At===0)if((ie&536870912)===0||ae){var e=dl;dl<<=1,(dl&3932160)===0&&(dl=262144),At=e}else At=536870912;return e=wt.current,e!==null&&(e.flags|=32),At}function mt(e,n,a){(e===be&&(de===2||de===9)||e.cancelPendingCommit!==null)&&(Gs(e,0),ci(e,ie,At,!1)),Aa(e,a),((oe&2)===0||e!==be)&&(e===be&&((oe&2)===0&&(Qi|=a),Oe===4&&ci(e,ie,At,!1)),an(e))}function Jp(e,n,a){if((oe&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Ca(e,n),c=l?Y1(e,n):Th(e,n,!0),h=l;do{if(c===0){Hs&&!l&&ci(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!V1(a)){c=Th(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var y=e;c=rr;var T=y.current.memoizedState.isDehydrated;if(T&&(Gs(y,g).flags|=256),g=Th(y,g,!1),g!==2){if(gh&&!T){y.errorRecoveryDisabledLanes|=h,Qi|=h,c=4;break e}h=ft,ft=c,h!==null&&(ft===null?ft=h:ft.push.apply(ft,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Gs(e,0),ci(e,n,0,!0);break}e:{switch(l=e,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ci(l,n,At,!ai);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=no+300-_t(),10<c)){if(ci(l,n,At,!ai),ml(l,0,!0)!==0)break e;An=n,l.timeoutHandle=I0($p.bind(null,l,a,ft,so,vh,n,At,Qi,Ps,ai,h,"Throttled",-0,0),c);break e}$p(l,a,ft,so,vh,n,At,Qi,Ps,ai,h,null,-0,0)}}break}while(!0);an(e)}function $p(e,n,a,l,c,h,g,y,T,N,k,M,C,I){if(e.timeoutHandle=-1,M=n.subtreeFlags,M&8192||(M&16785408)===16785408){M={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},Fp(n,h,M);var H=(h&62914560)===h?no-_t():(h&4194048)===h?Wp-_t():0;if(H=AT(M,H),H!==null){An=h,e.cancelPendingCommit=H(l0.bind(null,e,n,h,a,l,c,g,y,T,k,M,null,C,I)),ci(e,h,g,!N);return}}l0(e,n,h,a,l,c,g,y,T)}function V1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!St(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ci(e,n,a,l){n&=~ph,n&=~Qi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var h=31-Tt(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&cm(e,a,n)}function ao(){return(oe&6)===0?(or(0),!1):!0}function xh(){if(te!==null){if(de===0)var e=te.return;else e=te,vn=Bi=null,zu(e),Os=null,Va=0,e=te;for(;e!==null;)Rp(e.alternate,e),e=e.return;te=null}}function Gs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,uT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),An=0,xh(),be=e,te=a=gn(e.current,null),ie=n,de=0,Ct=null,ai=!1,Hs=Ca(e,n),gh=!1,Ps=At=ph=Qi=ri=Oe=0,ft=rr=null,vh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Tt(l),h=1<<c;n|=e[c],l&=~h}return Cn=n,Nl(),a}function e0(e,n){X=null,O.H=Ja,n===js||n===Ml?(n=pg(),de=3):n===wu?(n=pg(),de=4):de=n===$u?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ct=n,te===null&&(Oe=1,Ql(e,Dt(n,e.current)))}function t0(){var e=wt.current;return e===null?!0:(ie&4194048)===ie?Bt===null:(ie&62914560)===ie||(ie&536870912)!==0?e===Bt:!1}function n0(){var e=O.H;return O.H=Ja,e===null?Ja:e}function i0(){var e=O.A;return O.A=q1,e}function ro(){Oe=4,ai||(ie&4194048)!==ie&&wt.current!==null||(Hs=!0),(ri&134217727)===0&&(Qi&134217727)===0||be===null||ci(be,ie,At,!1)}function Th(e,n,a){var l=oe;oe|=2;var c=n0(),h=i0();(be!==e||ie!==n)&&(so=null,Gs(e,n)),n=!1;var g=Oe;e:do try{if(de!==0&&te!==null){var y=te,T=Ct;switch(de){case 8:xh(),g=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(n=!0);var N=de;if(de=0,Ct=null,Vs(e,y,T,N),a&&Hs){g=0;break e}break;default:N=de,de=0,Ct=null,Vs(e,y,T,N)}}F1(),g=Oe;break}catch(k){e0(e,k)}while(!0);return n&&e.shellSuspendCounter++,vn=Bi=null,oe=l,O.H=c,O.A=h,te===null&&(be=null,ie=0,Nl()),g}function F1(){for(;te!==null;)s0(te)}function Y1(e,n){var a=oe;oe|=2;var l=n0(),c=i0();be!==e||ie!==n?(so=null,io=_t()+500,Gs(e,n)):Hs=Ca(e,n);e:do try{if(de!==0&&te!==null){n=te;var h=Ct;t:switch(de){case 1:de=0,Ct=null,Vs(e,n,h,1);break;case 2:case 9:if(mg(h)){de=0,Ct=null,a0(n);break}n=function(){de!==2&&de!==9||be!==e||(de=7),an(e)},h.then(n,n);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:mg(h)?(de=0,Ct=null,a0(n)):(de=0,Ct=null,Vs(e,n,h,7));break;case 5:var g=null;switch(te.tag){case 26:g=te.memoizedState;case 5:case 27:var y=te;if(g?V0(g):y.stateNode.complete){de=0,Ct=null;var T=y.sibling;if(T!==null)te=T;else{var N=y.return;N!==null?(te=N,lo(N)):te=null}break t}}de=0,Ct=null,Vs(e,n,h,5);break;case 6:de=0,Ct=null,Vs(e,n,h,6);break;case 8:xh(),Oe=6;break e;default:throw Error(r(462))}}K1();break}catch(k){e0(e,k)}while(!0);return vn=Bi=null,O.H=l,O.A=c,oe=a,te!==null?0:(be=null,ie=0,Nl(),Oe)}function K1(){for(;te!==null&&!px();)s0(te)}function s0(e){var n=Ap(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,n===null?lo(e):te=n}function a0(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Tp(a,n,n.pendingProps,n.type,void 0,ie);break;case 11:n=Tp(a,n,n.pendingProps,n.type.render,n.ref,ie);break;case 5:zu(n);default:Rp(a,n),n=te=ig(n,Cn),n=Ap(a,n,Cn)}e.memoizedProps=e.pendingProps,n===null?lo(e):te=n}function Vs(e,n,a,l){vn=Bi=null,zu(n),Os=null,Va=0;var c=n.return;try{if(D1(e,c,n,a,ie)){Oe=1,Ql(e,Dt(a,e.current)),te=null;return}}catch(h){if(c!==null)throw te=c,h;Oe=1,Ql(e,Dt(a,e.current)),te=null;return}n.flags&32768?(ae||l===1?e=!0:Hs||(ie&536870912)!==0?e=!1:(ai=e=!0,(l===2||l===9||l===3||l===6)&&(l=wt.current,l!==null&&l.tag===13&&(l.flags|=16384))),r0(n,e)):lo(n)}function lo(e){var n=e;do{if((n.flags&32768)!==0){r0(n,ai);return}e=n.return;var a=U1(n.alternate,n,Cn);if(a!==null){te=a;return}if(n=n.sibling,n!==null){te=n;return}te=n=e}while(n!==null);Oe===0&&(Oe=5)}function r0(e,n){do{var a=B1(e.alternate,e);if(a!==null){a.flags&=32767,te=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){te=e;return}te=e=a}while(e!==null);Oe=6,te=null}function l0(e,n,a,l,c,h,g,y,T){e.cancelPendingCommit=null;do oo();while(qe!==0);if((oe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=uu,Nx(e,a,h,g,y,T),e===be&&(te=be=null,ie=0),qs=n,oi=e,An=a,yh=h,bh=c,Xp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Z1(ul,function(){return d0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=z.p,z.p=2,g=oe,oe|=4;try{H1(e,n,a)}finally{oe=g,z.p=c,O.T=l}}qe=1,o0(),c0(),u0()}}function o0(){if(qe===1){qe=0;var e=oi,n=qs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=z.p;z.p=2;var c=oe;oe|=4;try{qp(n,e);var h=Mh,g=Qm(e.containerInfo),y=h.focusedElem,T=h.selectionRange;if(g!==y&&y&&y.ownerDocument&&Km(y.ownerDocument.documentElement,y)){if(T!==null&&au(y)){var N=T.start,k=T.end;if(k===void 0&&(k=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(k,y.value.length);else{var M=y.ownerDocument||document,C=M&&M.defaultView||window;if(C.getSelection){var I=C.getSelection(),H=y.textContent.length,G=Math.min(T.start,H),ve=T.end===void 0?G:Math.min(T.end,H);!I.extend&&G>ve&&(g=ve,ve=G,G=g);var E=Ym(y,G),S=Ym(y,ve);if(E&&S&&(I.rangeCount!==1||I.anchorNode!==E.node||I.anchorOffset!==E.offset||I.focusNode!==S.node||I.focusOffset!==S.offset)){var w=M.createRange();w.setStart(E.node,E.offset),I.removeAllRanges(),G>ve?(I.addRange(w),I.extend(S.node,S.offset)):(w.setEnd(S.node,S.offset),I.addRange(w))}}}}for(M=[],I=y;I=I.parentNode;)I.nodeType===1&&M.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<M.length;y++){var j=M[y];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}xo=!!Oh,Mh=Oh=null}finally{oe=c,z.p=l,O.T=a}}e.current=n,qe=2}}function c0(){if(qe===2){qe=0;var e=oi,n=qs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=z.p;z.p=2;var c=oe;oe|=4;try{zp(e,n.alternate,n)}finally{oe=c,z.p=l,O.T=a}}qe=3}}function u0(){if(qe===4||qe===3){qe=0,vx();var e=oi,n=qs,a=An,l=Xp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,qs=oi=null,h0(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(li=null),Hc(a),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Na,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=z.p,z.p=2,O.T=null;try{for(var h=e.onRecoverableError,g=0;g<l.length;g++){var y=l[g];h(y.value,{componentStack:y.stack})}}finally{O.T=n,z.p=c}}(An&3)!==0&&oo(),an(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===_h?lr++:(lr=0,_h=e):lr=0,or(0)}}function h0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qa(n)))}function oo(){return o0(),c0(),u0(),d0()}function d0(){if(qe!==5)return!1;var e=oi,n=yh;yh=0;var a=Hc(An),l=O.T,c=z.p;try{z.p=32>a?32:a,O.T=null,a=bh,bh=null;var h=oi,g=An;if(qe=0,qs=oi=null,An=0,(oe&6)!==0)throw Error(r(331));var y=oe;if(oe|=4,Kp(h.current),Vp(h,h.current,g,a),oe=y,or(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Na,h)}catch{}return!0}finally{z.p=c,O.T=l,h0(e,n)}}function f0(e,n,a){n=Dt(a,n),n=Ju(e.stateNode,n,2),e=ti(e,n,2),e!==null&&(Aa(e,2),an(e))}function fe(e,n,a){if(e.tag===3)f0(e,e,a);else for(;n!==null;){if(n.tag===3){f0(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(li===null||!li.has(l))){e=Dt(a,e),a=mp(2),l=ti(n,a,2),l!==null&&(gp(a,l,n,e),Aa(l,2),an(l));break}}n=n.return}}function Sh(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new G1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(gh=!0,c.add(a),e=Q1.bind(null,e,n,a),n.then(e,e))}function Q1(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,be===e&&(ie&a)===a&&(Oe===4||Oe===3&&(ie&62914560)===ie&&300>_t()-no?(oe&2)===0&&Gs(e,0):ph|=a,Ps===ie&&(Ps=0)),an(e)}function m0(e,n){n===0&&(n=om()),e=Li(e,n),e!==null&&(Aa(e,n),an(e))}function W1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),m0(e,a)}function X1(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),m0(e,a)}function Z1(e,n){return Lc(e,n)}var co=null,Fs=null,Eh=!1,uo=!1,wh=!1,ui=0;function an(e){e!==Fs&&e.next===null&&(Fs===null?co=Fs=e:Fs=Fs.next=e),uo=!0,Eh||(Eh=!0,$1())}function or(e,n){if(!wh&&uo){wh=!0;do for(var a=!1,l=co;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,y=l.pingedLanes;h=(1<<31-Tt(42|e)+1)-1,h&=c&~(g&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,y0(l,h))}else h=ie,h=ml(l,l===be?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Ca(l,h)||(a=!0,y0(l,h));l=l.next}while(a);wh=!1}}function J1(){g0()}function g0(){uo=Eh=!1;var e=0;ui!==0&&cT()&&(e=ui);for(var n=_t(),a=null,l=co;l!==null;){var c=l.next,h=p0(l,n);h===0?(l.next=null,a===null?co=c:a.next=c,c===null&&(Fs=a)):(a=l,(e!==0||(h&3)!==0)&&(uo=!0)),l=c}qe!==0&&qe!==5||or(e),ui!==0&&(ui=0)}function p0(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-Tt(h),y=1<<g,T=c[g];T===-1?((y&a)===0||(y&l)!==0)&&(c[g]=wx(y,n)):T<=n&&(e.expiredLanes|=y),h&=~y}if(n=be,a=ie,a=ml(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(de===2||de===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zc(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ca(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&zc(l),Hc(a)){case 2:case 8:a=rm;break;case 32:a=ul;break;case 268435456:a=lm;break;default:a=ul}return l=v0.bind(null,e),a=Lc(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&zc(l),e.callbackPriority=2,e.callbackNode=null,2}function v0(e,n){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(oo()&&e.callbackNode!==a)return null;var l=ie;return l=ml(e,e===be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Jp(e,l,n),p0(e,_t()),e.callbackNode!=null&&e.callbackNode===a?v0.bind(null,e):null)}function y0(e,n){if(oo())return null;Jp(e,n,!0)}function $1(){hT(function(){(oe&6)!==0?Lc(am,J1):g0()})}function Nh(){if(ui===0){var e=Rs;e===0&&(e=hl,hl<<=1,(hl&261888)===0&&(hl=256)),ui=e}return ui}function b0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yl(""+e)}function _0(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function eT(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=b0((c[ot]||null).action),g=l.submitter;g&&(n=(n=g[ot]||null)?b0(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var y=new Tl("action","action",null,l,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ui!==0){var T=g?_0(c,g):new FormData(c);Yu(a,{pending:!0,data:T,method:c.method,action:h},null,T)}}else typeof h=="function"&&(y.preventDefault(),T=g?_0(c,g):new FormData(c),Yu(a,{pending:!0,data:T,method:c.method,action:h},h,T))},currentTarget:c}]})}}for(var Ch=0;Ch<cu.length;Ch++){var Ah=cu[Ch],tT=Ah.toLowerCase(),nT=Ah[0].toUpperCase()+Ah.slice(1);Yt(tT,"on"+nT)}Yt(Zm,"onAnimationEnd"),Yt(Jm,"onAnimationIteration"),Yt($m,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(y1,"onTransitionRun"),Yt(b1,"onTransitionStart"),Yt(_1,"onTransitionCancel"),Yt(eg,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cr));function x0(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var y=l[g],T=y.instance,N=y.currentTarget;if(y=y.listener,T!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=N;try{h(c)}catch(k){wl(k)}c.currentTarget=null,h=T}else for(g=0;g<l.length;g++){if(y=l[g],T=y.instance,N=y.currentTarget,y=y.listener,T!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=N;try{h(c)}catch(k){wl(k)}c.currentTarget=null,h=T}}}}function ne(e,n){var a=n[Pc];a===void 0&&(a=n[Pc]=new Set);var l=e+"__bubble";a.has(l)||(T0(n,e,2,!1),a.add(l))}function Ih(e,n,a){var l=0;n&&(l|=4),T0(a,e,l,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Rh(e){if(!e[ho]){e[ho]=!0,gm.forEach(function(a){a!=="selectionchange"&&(iT.has(a)||Ih(a,!1,e),Ih(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ho]||(n[ho]=!0,Ih("selectionchange",!1,n))}}function T0(e,n,a,l){switch(Z0(n)){case 2:var c=kT;break;case 8:c=jT;break;default:c=Fh}a=c.bind(null,n,a,e),c=void 0,!Xc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function kh(e,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var y=l.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=l.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=fs(y),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){l=h=g;continue e}y=y.parentNode}}l=l.return}Cm(function(){var N=h,k=Qc(a),M=[];e:{var C=tg.get(e);if(C!==void 0){var I=Tl,H=e;switch(e){case"keypress":if(_l(a)===0)break e;case"keydown":case"keyup":I=Xx;break;case"focusin":H="focus",I=eu;break;case"focusout":H="blur",I=eu;break;case"beforeblur":case"afterblur":I=eu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=$x;break;case Zm:case Jm:case $m:I=Px;break;case eg:I=t1;break;case"scroll":case"scrollend":I=Lx;break;case"wheel":I=i1;break;case"copy":case"cut":case"paste":I=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=jm;break;case"toggle":case"beforetoggle":I=a1}var G=(n&4)!==0,ve=!G&&(e==="scroll"||e==="scrollend"),E=G?C!==null?C+"Capture":null:C;G=[];for(var S=N,w;S!==null;){var j=S;if(w=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||w===null||E===null||(j=ka(S,E),j!=null&&G.push(ur(S,j,w))),ve)break;S=S.return}0<G.length&&(C=new I(C,H,null,a,k),M.push({event:C,listeners:G}))}}if((n&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",C&&a!==Kc&&(H=a.relatedTarget||a.fromElement)&&(fs(H)||H[ds]))break e;if((I||C)&&(C=k.window===k?k:(C=k.ownerDocument)?C.defaultView||C.parentWindow:window,I?(H=a.relatedTarget||a.toElement,I=N,H=H?fs(H):null,H!==null&&(ve=u(H),G=H.tag,H!==ve||G!==5&&G!==27&&G!==6)&&(H=null)):(I=null,H=N),I!==H)){if(G=Rm,j="onMouseLeave",E="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(G=jm,j="onPointerLeave",E="onPointerEnter",S="pointer"),ve=I==null?C:Ra(I),w=H==null?C:Ra(H),C=new G(j,S+"leave",I,a,k),C.target=ve,C.relatedTarget=w,j=null,fs(k)===N&&(G=new G(E,S+"enter",H,a,k),G.target=w,G.relatedTarget=ve,j=G),ve=j,I&&H)t:{for(G=sT,E=I,S=H,w=0,j=E;j;j=G(j))w++;j=0;for(var q=S;q;q=G(q))j++;for(;0<w-j;)E=G(E),w--;for(;0<j-w;)S=G(S),j--;for(;w--;){if(E===S||S!==null&&E===S.alternate){G=E;break t}E=G(E),S=G(S)}G=null}else G=null;I!==null&&S0(M,C,I,G,!1),H!==null&&ve!==null&&S0(M,ve,H,G,!0)}}e:{if(C=N?Ra(N):window,I=C.nodeName&&C.nodeName.toLowerCase(),I==="select"||I==="input"&&C.type==="file")var re=Hm;else if(Um(C))if(Pm)re=g1;else{re=f1;var P=d1}else I=C.nodeName,!I||I.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?N&&Yc(N.elementType)&&(re=Hm):re=m1;if(re&&(re=re(e,N))){Bm(M,re,a,k);break e}P&&P(e,C,N),e==="focusout"&&N&&C.type==="number"&&N.memoizedProps.value!=null&&Fc(C,"number",C.value)}switch(P=N?Ra(N):window,e){case"focusin":(Um(P)||P.contentEditable==="true")&&(Ts=P,ru=N,Ba=null);break;case"focusout":Ba=ru=Ts=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,Wm(M,a,k);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":Wm(M,a,k)}var Z;if(nu)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else xs?Lm(e,a)&&(se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(se="onCompositionStart");se&&(Om&&a.locale!=="ko"&&(xs||se!=="onCompositionStart"?se==="onCompositionEnd"&&xs&&(Z=Am()):(Qn=k,Zc="value"in Qn?Qn.value:Qn.textContent,xs=!0)),P=fo(N,se),0<P.length&&(se=new km(se,e,null,a,k),M.push({event:se,listeners:P}),Z?se.data=Z:(Z=zm(a),Z!==null&&(se.data=Z)))),(Z=l1?o1(e,a):c1(e,a))&&(se=fo(N,"onBeforeInput"),0<se.length&&(P=new km("onBeforeInput","beforeinput",null,a,k),M.push({event:P,listeners:se}),P.data=Z)),eT(M,e,N,a,k)}x0(M,n)})}function ur(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fo(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ka(e,a),c!=null&&l.unshift(ur(e,c,h)),c=ka(e,n),c!=null&&l.push(ur(e,c,h))),e.tag===3)return l;e=e.return}return[]}function sT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function S0(e,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var y=a,T=y.alternate,N=y.stateNode;if(y=y.tag,T!==null&&T===l)break;y!==5&&y!==26&&y!==27||N===null||(T=N,c?(N=ka(a,h),N!=null&&g.unshift(ur(a,N,T))):c||(N=ka(a,h),N!=null&&g.push(ur(a,N,T)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var aT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function E0(e){return(typeof e=="string"?e:""+e).replace(aT,`
`).replace(rT,"")}function w0(e,n){return n=E0(n),E0(e)===n}function pe(e,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ys(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ys(e,""+l);break;case"className":pl(e,"class",l);break;case"tabIndex":pl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,a,l);break;case"style":wm(e,l,h);break;case"data":if(n!=="object"){pl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=yl(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&pe(e,n,"name",c.name,c,null),pe(e,n,"formEncType",c.formEncType,c,null),pe(e,n,"formMethod",c.formMethod,c,null),pe(e,n,"formTarget",c.formTarget,c,null)):(pe(e,n,"encType",c.encType,c,null),pe(e,n,"method",c.method,c,null),pe(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=yl(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=fn);break;case"onScroll":l!=null&&ne("scroll",e);break;case"onScrollEnd":l!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=yl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ne("beforetoggle",e),ne("toggle",e),gl(e,"popover",l);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mx.get(a)||a,gl(e,a,l))}}function jh(e,n,a,l,c,h){switch(a){case"style":wm(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ys(e,l):(typeof l=="number"||typeof l=="bigint")&&ys(e,""+l);break;case"onScroll":l!=null&&ne("scroll",e);break;case"onScrollEnd":l!=null&&ne("scrollend",e);break;case"onClick":l!=null&&(e.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=e[ot]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):gl(e,a,l)}}}function et(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:pe(e,n,h,g,a,null)}}c&&pe(e,n,"srcSet",a.srcSet,a,null),l&&pe(e,n,"src",a.src,a,null);return;case"input":ne("invalid",e);var y=h=g=c=null,T=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var k=a[l];if(k!=null)switch(l){case"name":c=k;break;case"type":g=k;break;case"checked":T=k;break;case"defaultChecked":N=k;break;case"value":h=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:pe(e,n,l,k,a,null)}}xm(e,h,y,T,N,g,c,!1);return;case"select":ne("invalid",e),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":h=y;break;case"defaultValue":g=y;break;case"multiple":l=y;default:pe(e,n,c,y,a,null)}n=h,a=g,e.multiple=!!l,n!=null?vs(e,!!l,n,!1):a!=null&&vs(e,!!l,a,!0);return;case"textarea":ne("invalid",e),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":l=y;break;case"defaultValue":c=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:pe(e,n,g,y,a,null)}Sm(e,l,c,h);return;case"option":for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null)&&(T==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":pe(e,n,T,l,a,null));return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(l=0;l<cr.length;l++)ne(cr[l],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:pe(e,n,N,l,a,null)}return;default:if(Yc(n)){for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!==void 0&&jh(e,n,k,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&pe(e,n,y,l,a,null))}function lT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,y=null,T=null,N=null,k=null;for(I in a){var M=a[I];if(a.hasOwnProperty(I)&&M!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":T=M;default:l.hasOwnProperty(I)||pe(e,n,I,null,l,M)}}for(var C in l){var I=l[C];if(M=a[C],l.hasOwnProperty(C)&&(I!=null||M!=null))switch(C){case"type":h=I;break;case"name":c=I;break;case"checked":N=I;break;case"defaultChecked":k=I;break;case"value":g=I;break;case"defaultValue":y=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:I!==M&&pe(e,n,C,I,l,M)}}Vc(e,g,y,T,N,k,h,c);return;case"select":I=g=y=C=null;for(h in a)if(T=a[h],a.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":I=T;default:l.hasOwnProperty(h)||pe(e,n,h,null,l,T)}for(c in l)if(h=l[c],T=a[c],l.hasOwnProperty(c)&&(h!=null||T!=null))switch(c){case"value":C=h;break;case"defaultValue":y=h;break;case"multiple":g=h;default:h!==T&&pe(e,n,c,h,l,T)}n=y,a=g,l=I,C!=null?vs(e,!!a,C,!1):!!l!=!!a&&(n!=null?vs(e,!!a,n,!0):vs(e,!!a,a?[]:"",!1));return;case"textarea":I=C=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:pe(e,n,y,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":C=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&pe(e,n,g,c,l,h)}Tm(e,C,I);return;case"option":for(var H in a)C=a[H],a.hasOwnProperty(H)&&C!=null&&!l.hasOwnProperty(H)&&(H==="selected"?e.selected=!1:pe(e,n,H,null,l,C));for(T in l)C=l[T],I=a[T],l.hasOwnProperty(T)&&C!==I&&(C!=null||I!=null)&&(T==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":pe(e,n,T,C,l,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var G in a)C=a[G],a.hasOwnProperty(G)&&C!=null&&!l.hasOwnProperty(G)&&pe(e,n,G,null,l,C);for(N in l)if(C=l[N],I=a[N],l.hasOwnProperty(N)&&C!==I&&(C!=null||I!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,n));break;default:pe(e,n,N,C,l,I)}return;default:if(Yc(n)){for(var ve in a)C=a[ve],a.hasOwnProperty(ve)&&C!==void 0&&!l.hasOwnProperty(ve)&&jh(e,n,ve,void 0,l,C);for(k in l)C=l[k],I=a[k],!l.hasOwnProperty(k)||C===I||C===void 0&&I===void 0||jh(e,n,k,C,l,I);return}}for(var E in a)C=a[E],a.hasOwnProperty(E)&&C!=null&&!l.hasOwnProperty(E)&&pe(e,n,E,null,l,C);for(M in l)C=l[M],I=a[M],!l.hasOwnProperty(M)||C===I||C==null&&I==null||pe(e,n,M,C,l,I)}function N0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,y=c.duration;if(h&&y&&N0(g)){for(g=0,y=c.responseEnd,l+=1;l<a.length;l++){var T=a[l],N=T.startTime;if(N>y)break;var k=T.transferSize,M=T.initiatorType;k&&N0(M)&&(T=T.responseEnd,g+=k*(T<y?1:(y-N)/(T-N)))}if(--l,n+=8*(h+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Oh=null,Mh=null;function mo(e){return e.nodeType===9?e:e.ownerDocument}function C0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Dh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lh=null;function cT(){var e=window.event;return e&&e.type==="popstate"?e===Lh?!1:(Lh=e,!0):(Lh=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(e){return R0.resolve(null).then(e).catch(dT)}:I0;function dT(e){setTimeout(function(){throw e})}function hi(e){return e==="head"}function k0(e,n){var a=n,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),Ws(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")hr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hr(a);for(var h=a.firstChild;h;){var g=h.nextSibling,y=h.nodeName;h[Ia]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&hr(e.ownerDocument.body);a=c}while(a);Ws(n)}function j0(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function zh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zh(a),qc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function fT(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ia])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function mT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ht(e.nextSibling),e===null))return null;return e}function O0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function Uh(e){return e.data==="$?"||e.data==="$~"}function Bh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gT(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Hh=null;function M0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ht(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function D0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function L0(e,n,a){switch(n=mo(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function hr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qc(e)}var Pt=new Map,z0=new Set;function go(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=z.d;z.d={f:pT,r:vT,D:yT,C:bT,L:_T,m:xT,X:ST,S:TT,M:ET};function pT(){var e=In.f(),n=ao();return e||n}function vT(e){var n=ms(e);n!==null&&n.tag===5&&n.type==="form"?ep(n):In.r(e)}var Ys=typeof document>"u"?null:document;function U0(e,n,a){var l=Ys;if(l&&typeof n=="string"&&n){var c=Ot(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),z0.has(c)||(z0.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),et(n,"link",e),Fe(n),l.head.appendChild(n)))}}function yT(e){In.D(e),U0("dns-prefetch",e,null)}function bT(e,n){In.C(e,n),U0("preconnect",e,n)}function _T(e,n,a){In.L(e,n,a);var l=Ys;if(l&&e&&n){var c='link[rel="preload"][as="'+Ot(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ot(a.imageSizes)+'"]')):c+='[href="'+Ot(e)+'"]';var h=c;switch(n){case"style":h=Ks(e);break;case"script":h=Qs(e)}Pt.has(h)||(e=_({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Pt.set(h,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(dr(h))||n==="script"&&l.querySelector(fr(h))||(n=l.createElement("link"),et(n,"link",e),Fe(n),l.head.appendChild(n)))}}function xT(e,n){In.m(e,n);var a=Ys;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Qs(e)}if(!Pt.has(h)&&(e=_({rel:"modulepreload",href:e},n),Pt.set(h,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fr(h)))return}l=a.createElement("link"),et(l,"link",e),Fe(l),a.head.appendChild(l)}}}function TT(e,n,a){In.S(e,n,a);var l=Ys;if(l&&e){var c=gs(l).hoistableStyles,h=Ks(e);n=n||"default";var g=c.get(h);if(!g){var y={loading:0,preload:null};if(g=l.querySelector(dr(h)))y.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Pt.get(h))&&Ph(e,a);var T=g=l.createElement("link");Fe(T),et(T,"link",e),T._p=new Promise(function(N,k){T.onload=N,T.onerror=k}),T.addEventListener("load",function(){y.loading|=1}),T.addEventListener("error",function(){y.loading|=2}),y.loading|=4,po(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(h,g)}}}function ST(e,n){In.X(e,n);var a=Ys;if(a&&e){var l=gs(a).hoistableScripts,c=Qs(e),h=l.get(c);h||(h=a.querySelector(fr(c)),h||(e=_({src:e,async:!0},n),(n=Pt.get(c))&&qh(e,n),h=a.createElement("script"),Fe(h),et(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ET(e,n){In.M(e,n);var a=Ys;if(a&&e){var l=gs(a).hoistableScripts,c=Qs(e),h=l.get(c);h||(h=a.querySelector(fr(c)),h||(e=_({src:e,async:!0,type:"module"},n),(n=Pt.get(c))&&qh(e,n),h=a.createElement("script"),Fe(h),et(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function B0(e,n,a,l){var c=(c=Fn.current)?go(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ks(a.href),a=gs(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ks(a.href);var h=gs(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(dr(e)))&&!h._p&&(g.instance=h,g.state.loading=5),Pt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pt.set(e,a),h||wT(c,e,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qs(a),a=gs(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ks(e){return'href="'+Ot(e)+'"'}function dr(e){return'link[rel="stylesheet"]['+e+"]"}function H0(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function wT(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),et(n,"link",a),Fe(n),e.head.appendChild(n))}function Qs(e){return'[src="'+Ot(e)+'"]'}function fr(e){return"script[async]"+e}function P0(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return n.instance=l,Fe(l),l;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Fe(l),et(l,"style",c),po(l,a.precedence,e),n.instance=l;case"stylesheet":c=Ks(a.href);var h=e.querySelector(dr(c));if(h)return n.state.loading|=4,n.instance=h,Fe(h),h;l=H0(a),(c=Pt.get(c))&&Ph(l,c),h=(e.ownerDocument||e).createElement("link"),Fe(h);var g=h;return g._p=new Promise(function(y,T){g.onload=y,g.onerror=T}),et(h,"link",l),n.state.loading|=4,po(h,a.precedence,e),n.instance=h;case"script":return h=Qs(a.src),(c=e.querySelector(fr(h)))?(n.instance=c,Fe(c),c):(l=a,(c=Pt.get(h))&&(l=_({},a),qh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Fe(c),et(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,po(l,a.precedence,e));return n.instance}function po(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var y=l[g];if(y.dataset.precedence===n)h=y;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ph(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vo=null;function q0(e,n,a){if(vo===null){var l=new Map,c=vo=new Map;c.set(a,l)}else c=vo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var h=a[c];if(!(h[Ia]||h[Xe]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=e+g;var y=l.get(g);y?y.push(h):l.set(g,[h])}}return l}function G0(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function NT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function CT(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Ks(l.href),h=n.querySelector(dr(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yo.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=h,Fe(h);return}h=n.ownerDocument||n,l=H0(l),(c=Pt.get(c))&&Ph(l,c),h=h.createElement("link"),Fe(h);var g=h;g._p=new Promise(function(y,T){g.onload=y,g.onerror=T}),et(h,"link",l),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yo.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Gh=0;function AT(e,n){return e.stylesheets&&e.count===0&&_o(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&_o(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Gh===0&&(Gh=62500*oT());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_o(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Gh?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function yo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_o(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bo=null;function _o(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bo=new Map,n.forEach(IT,e),bo=null,yo.call(e))}function IT(e,n){if(!(n.state.loading&4)){var a=bo.get(e);if(a)var l=a.get(null);else{a=new Map,bo.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=yo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var mr={$$typeof:W,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function RT(e,n,a,l,c,h,g,y,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.hiddenUpdates=Uc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function F0(e,n,a,l,c,h,g,y,T,N,k,M){return e=new RT(e,n,a,g,T,N,k,M,y),n=1,h===!0&&(n|=24),h=Et(3,null,null,n),e.current=h,h.stateNode=e,n=Tu(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},Nu(h),e}function Y0(e){return e?(e=ws,e):ws}function K0(e,n,a,l,c,h){c=Y0(c),l.context===null?l.context=c:l.pendingContext=c,l=ei(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ti(e,l,n),a!==null&&(mt(a,e,n),Ya(a,e,n))}function Q0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Vh(e,n){Q0(e,n),(e=e.alternate)&&Q0(e,n)}function W0(e){if(e.tag===13||e.tag===31){var n=Li(e,67108864);n!==null&&mt(n,e,67108864),Vh(e,67108864)}}function X0(e){if(e.tag===13||e.tag===31){var n=It();n=Bc(n);var a=Li(e,n);a!==null&&mt(a,e,n),Vh(e,n)}}var xo=!0;function kT(e,n,a,l){var c=O.T;O.T=null;var h=z.p;try{z.p=2,Fh(e,n,a,l)}finally{z.p=h,O.T=c}}function jT(e,n,a,l){var c=O.T;O.T=null;var h=z.p;try{z.p=8,Fh(e,n,a,l)}finally{z.p=h,O.T=c}}function Fh(e,n,a,l){if(xo){var c=Yh(l);if(c===null)kh(e,n,l,To,a),J0(e,l);else if(MT(c,e,n,a,l))l.stopPropagation();else if(J0(e,l),n&4&&-1<OT.indexOf(e)){for(;c!==null;){var h=ms(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=ki(h.pendingLanes);if(g!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var T=1<<31-Tt(g);y.entanglements[1]|=T,g&=~T}an(h),(oe&6)===0&&(io=_t()+500,or(0))}}break;case 31:case 13:y=Li(h,2),y!==null&&mt(y,h,2),ao(),Vh(h,2)}if(h=Yh(l),h===null&&kh(e,n,l,To,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else kh(e,n,l,null,a)}}function Yh(e){return e=Qc(e),Kh(e)}var To=null;function Kh(e){if(To=null,e=fs(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return To=e,null}function Z0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yx()){case am:return 2;case rm:return 8;case ul:case bx:return 32;case lm:return 268435456;default:return 32}default:return 32}}var Qh=!1,di=null,fi=null,mi=null,gr=new Map,pr=new Map,gi=[],OT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(e,n){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":gr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(n.pointerId)}}function vr(e,n,a,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ms(n),n!==null&&W0(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function MT(e,n,a,l,c){switch(n){case"focusin":return di=vr(di,e,n,a,l,c),!0;case"dragenter":return fi=vr(fi,e,n,a,l,c),!0;case"mouseover":return mi=vr(mi,e,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return gr.set(h,vr(gr.get(h)||null,e,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,pr.set(h,vr(pr.get(h)||null,e,n,a,l,c)),!0}return!1}function $0(e){var n=fs(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,fm(e.priority,function(){X0(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,fm(e.priority,function(){X0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function So(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Yh(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Kc=l,a.target.dispatchEvent(l),Kc=null}else return n=ms(a),n!==null&&W0(n),e.blockedOn=a,!1;n.shift()}return!0}function ev(e,n,a){So(e)&&a.delete(n)}function DT(){Qh=!1,di!==null&&So(di)&&(di=null),fi!==null&&So(fi)&&(fi=null),mi!==null&&So(mi)&&(mi=null),gr.forEach(ev),pr.forEach(ev)}function Eo(e,n){e.blockedOn===n&&(e.blockedOn=null,Qh||(Qh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,DT)))}var wo=null;function tv(e){wo!==e&&(wo=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wo===e&&(wo=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Kh(l||a)===null)continue;break}var h=ms(a);h!==null&&(e.splice(n,3),n-=3,Yu(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ws(e){function n(T){return Eo(T,e)}di!==null&&Eo(di,e),fi!==null&&Eo(fi,e),mi!==null&&Eo(mi,e),gr.forEach(n),pr.forEach(n);for(var a=0;a<gi.length;a++){var l=gi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<gi.length&&(a=gi[0],a.blockedOn===null);)$0(a),a.blockedOn===null&&gi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[ot]||null;if(typeof h=="function")g||tv(a);else if(g){var y=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[ot]||null)y=g.formAction;else if(Kh(c)!==null)continue}else y=g.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),tv(a)}}}function nv(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Wh(e){this._internalRoot=e}No.prototype.render=Wh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=It();K0(a,l,e,n,null,null)},No.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;K0(e.current,2,null,e,null,null),ao(),n[ds]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var n=dm();e={blockedOn:null,target:e,priority:n};for(var a=0;a<gi.length&&n!==0&&n<gi[a].priority;a++);gi.splice(a,0,e),a===0&&$0(e)}};var iv=t.version;if(iv!=="19.2.4")throw Error(r(527,iv,"19.2.4"));z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var LT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Na=Co.inject(LT),xt=Co}catch{}}return yr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",c=up,h=hp,g=dp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=F0(e,1,!1,null,null,a,l,null,c,h,g,nv),e[ds]=n.current,Rh(e),new Wh(n)},yr.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,c="",h=up,g=hp,y=dp,T=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),n=F0(e,1,!0,n,a??null,l,c,T,h,g,y,nv),n.context=Y0(null),a=n.current,l=It(),l=Bc(l),c=ei(l),c.callback=null,ti(a,c,l),a=l,n.current.lanes=a,Aa(n,a),an(n),e[ds]=n.current,Rh(e),new No(n)},yr.version="19.2.4",yr}var cv;function fS(){if(cv)return Xh.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Xh.exports=dS(),Xh.exports}var mS=fS(),$h,uv;function gS(){if(uv)return $h;uv=1;var s=typeof Element<"u",t=typeof Map=="function",i=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(u,f){if(u===f)return!0;if(u&&f&&typeof u=="object"&&typeof f=="object"){if(u.constructor!==f.constructor)return!1;var m,v,p;if(Array.isArray(u)){if(m=u.length,m!=f.length)return!1;for(v=m;v--!==0;)if(!o(u[v],f[v]))return!1;return!0}var b;if(t&&u instanceof Map&&f instanceof Map){if(u.size!==f.size)return!1;for(b=u.entries();!(v=b.next()).done;)if(!f.has(v.value[0]))return!1;for(b=u.entries();!(v=b.next()).done;)if(!o(v.value[1],f.get(v.value[0])))return!1;return!0}if(i&&u instanceof Set&&f instanceof Set){if(u.size!==f.size)return!1;for(b=u.entries();!(v=b.next()).done;)if(!f.has(v.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(u)&&ArrayBuffer.isView(f)){if(m=u.length,m!=f.length)return!1;for(v=m;v--!==0;)if(u[v]!==f[v])return!1;return!0}if(u.constructor===RegExp)return u.source===f.source&&u.flags===f.flags;if(u.valueOf!==Object.prototype.valueOf&&typeof u.valueOf=="function"&&typeof f.valueOf=="function")return u.valueOf()===f.valueOf();if(u.toString!==Object.prototype.toString&&typeof u.toString=="function"&&typeof f.toString=="function")return u.toString()===f.toString();if(p=Object.keys(u),m=p.length,m!==Object.keys(f).length)return!1;for(v=m;v--!==0;)if(!Object.prototype.hasOwnProperty.call(f,p[v]))return!1;if(s&&u instanceof Element)return!1;for(v=m;v--!==0;)if(!((p[v]==="_owner"||p[v]==="__v"||p[v]==="__o")&&u.$$typeof)&&!o(u[p[v]],f[p[v]]))return!1;return!0}return u!==u&&f!==f}return $h=function(f,m){try{return o(f,m)}catch(v){if((v.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw v}},$h}var pS=gS();const vS=$d(pS);var ed,hv;function yS(){if(hv)return ed;hv=1;var s=function(t,i,r,o,u,f,m,v){if(!t){var p;if(i===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[r,o,u,f,m,v],_=0;p=new Error(i.replace(/%s/g,function(){return b[_++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return ed=s,ed}var bS=yS();const dv=$d(bS);var td,fv;function _S(){return fv||(fv=1,td=function(t,i,r,o){var u=r?r.call(o,t,i):void 0;if(u!==void 0)return!!u;if(t===i)return!0;if(typeof t!="object"||!t||typeof i!="object"||!i)return!1;var f=Object.keys(t),m=Object.keys(i);if(f.length!==m.length)return!1;for(var v=Object.prototype.hasOwnProperty.bind(i),p=0;p<f.length;p++){var b=f[p];if(!v(b))return!1;var _=t[b],x=i[b];if(u=r?r.call(o,_,x,b):void 0,u===!1||u===void 0&&_!==x)return!1}return!0}),td}var xS=_S();const TS=$d(xS);var Ky=(s=>(s.BASE="base",s.BODY="body",s.HEAD="head",s.HTML="html",s.LINK="link",s.META="meta",s.NOSCRIPT="noscript",s.SCRIPT="script",s.STYLE="style",s.TITLE="title",s.FRAGMENT="Symbol(react.fragment)",s))(Ky||{}),nd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},mv=Object.values(Ky),af={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},SS=Object.entries(af).reduce((s,[t,i])=>(s[i]=t,s),{}),Xt="data-rh",na={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ia=(s,t)=>{for(let i=s.length-1;i>=0;i-=1){const r=s[i];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},ES=s=>{let t=ia(s,"title");const i=ia(s,na.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),i&&t)return i.replace(/%s/g,()=>t);const r=ia(s,na.DEFAULT_TITLE);return t||r||void 0},wS=s=>ia(s,na.ON_CHANGE_CLIENT_STATE)||(()=>{}),id=(s,t)=>t.filter(i=>typeof i[s]<"u").map(i=>i[s]).reduce((i,r)=>({...i,...r}),{}),NS=(s,t)=>t.filter(i=>typeof i.base<"u").map(i=>i.base).reverse().reduce((i,r)=>{if(!i.length){const o=Object.keys(r);for(let u=0;u<o.length;u+=1){const m=o[u].toLowerCase();if(s.indexOf(m)!==-1&&r[m])return i.concat(r)}}return i},[]),CS=s=>console&&typeof console.warn=="function"&&console.warn(s),br=(s,t,i)=>{const r={};return i.filter(o=>Array.isArray(o[s])?!0:(typeof o[s]<"u"&&CS(`Helmet: ${s} should be of type "Array". Instead found type "${typeof o[s]}"`),!1)).map(o=>o[s]).reverse().reduce((o,u)=>{const f={};u.filter(v=>{let p;const b=Object.keys(v);for(let x=0;x<b.length;x+=1){const A=b[x],R=A.toLowerCase();t.indexOf(R)!==-1&&!(p==="rel"&&v[p].toLowerCase()==="canonical")&&!(R==="rel"&&v[R].toLowerCase()==="stylesheet")&&(p=R),t.indexOf(A)!==-1&&(A==="innerHTML"||A==="cssText"||A==="itemprop")&&(p=A)}if(!p||!v[p])return!1;const _=v[p].toLowerCase();return r[p]||(r[p]={}),f[p]||(f[p]={}),r[p][_]?!1:(f[p][_]=!0,!0)}).reverse().forEach(v=>o.push(v));const m=Object.keys(f);for(let v=0;v<m.length;v+=1){const p=m[v],b={...r[p],...f[p]};r[p]=b}return o},[]).reverse()},AS=(s,t)=>{if(Array.isArray(s)&&s.length){for(let i=0;i<s.length;i+=1)if(s[i][t])return!0}return!1},IS=s=>({baseTag:NS(["href"],s),bodyAttributes:id("bodyAttributes",s),defer:ia(s,na.DEFER),encode:ia(s,na.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:id("htmlAttributes",s),linkTags:br("link",["rel","href"],s),metaTags:br("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:br("noscript",["innerHTML"],s),onChangeClientState:wS(s),scriptTags:br("script",["src","innerHTML"],s),styleTags:br("style",["cssText"],s),title:ES(s),titleAttributes:id("titleAttributes",s),prioritizeSeoTags:AS(s,na.PRIORITIZE_SEO_TAGS)}),Qy=s=>Array.isArray(s)?s.join(""):s,RS=(s,t)=>{const i=Object.keys(s);for(let r=0;r<i.length;r+=1)if(t[i[r]]&&t[i[r]].includes(s[i[r]]))return!0;return!1},sd=(s,t)=>Array.isArray(s)?s.reduce((i,r)=>(RS(r,t)?i.priority.push(r):i.default.push(r),i),{priority:[],default:[]}):{default:s,priority:[]},gv=(s,t)=>({...s,[t]:void 0}),kS=["noscript","script","style"],wd=(s,t=!0)=>t===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Wy=s=>Object.keys(s).reduce((t,i)=>{const r=typeof s[i]<"u"?`${i}="${s[i]}"`:`${i}`;return t?`${t} ${r}`:r},""),jS=(s,t,i,r)=>{const o=Wy(i),u=Qy(t);return o?`<${s} ${Xt}="true" ${o}>${wd(u,r)}</${s}>`:`<${s} ${Xt}="true">${wd(u,r)}</${s}>`},OS=(s,t,i=!0)=>t.reduce((r,o)=>{const u=o,f=Object.keys(u).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,b)=>{const _=typeof u[b]>"u"?b:`${b}="${wd(u[b],i)}"`;return p?`${p} ${_}`:_},""),m=u.innerHTML||u.cssText||"",v=kS.indexOf(s)===-1;return`${r}<${s} ${Xt}="true" ${f}${v?"/>":`>${m}</${s}>`}`},""),Xy=(s,t={})=>Object.keys(s).reduce((i,r)=>{const o=af[r];return i[o||r]=s[r],i},t),MS=(s,t,i)=>{const r={key:t,[Xt]:!0},o=Xy(i,r);return[jn.createElement("title",o,t)]},Do=(s,t)=>t.map((i,r)=>{const o={key:r,[Xt]:!0};return Object.keys(i).forEach(u=>{const m=af[u]||u;if(m==="innerHTML"||m==="cssText"){const v=i.innerHTML||i.cssText;o.dangerouslySetInnerHTML={__html:v}}else o[m]=i[u]}),jn.createElement(s,o)}),qt=(s,t,i=!0)=>{switch(s){case"title":return{toComponent:()=>MS(s,t.title,t.titleAttributes),toString:()=>jS(s,t.title,t.titleAttributes,i)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Xy(t),toString:()=>Wy(t)};default:return{toComponent:()=>Do(s,t),toString:()=>OS(s,t,i)}}},DS=({metaTags:s,linkTags:t,scriptTags:i,encode:r})=>{const o=sd(s,nd.meta),u=sd(t,nd.link),f=sd(i,nd.script);return{priorityMethods:{toComponent:()=>[...Do("meta",o.priority),...Do("link",u.priority),...Do("script",f.priority)],toString:()=>`${qt("meta",o.priority,r)} ${qt("link",u.priority,r)} ${qt("script",f.priority,r)}`},metaTags:o.default,linkTags:u.default,scriptTags:f.default}},LS=s=>{const{baseTag:t,bodyAttributes:i,encode:r=!0,htmlAttributes:o,noscriptTags:u,styleTags:f,title:m="",titleAttributes:v,prioritizeSeoTags:p}=s;let{linkTags:b,metaTags:_,scriptTags:x}=s,A={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:A,linkTags:b,metaTags:_,scriptTags:x}=DS(s)),{priority:A,base:qt("base",t,r),bodyAttributes:qt("bodyAttributes",i,r),htmlAttributes:qt("htmlAttributes",o,r),link:qt("link",b,r),meta:qt("meta",_,r),noscript:qt("noscript",u,r),script:qt("script",x,r),style:qt("style",f,r),title:qt("title",{title:m,titleAttributes:v},r)}},Nd=LS,Ao=[],Zy=!!(typeof window<"u"&&window.document&&window.document.createElement),Cd=class{instances=[];canUseDOM=Zy;context;value={setHelmet:s=>{this.context.helmet=s},helmetInstances:{get:()=>this.canUseDOM?Ao:this.instances,add:s=>{(this.canUseDOM?Ao:this.instances).push(s)},remove:s=>{const t=(this.canUseDOM?Ao:this.instances).indexOf(s);(this.canUseDOM?Ao:this.instances).splice(t,1)}}};constructor(s,t){this.context=s,this.canUseDOM=t||!1,t||(s.helmet=Nd({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},zS={},Jy=jn.createContext(zS),$y=class eb extends U.Component{static canUseDOM=Zy;helmetData;constructor(t){super(t),this.helmetData=new Cd(this.props.context||{},eb.canUseDOM)}render(){return jn.createElement(Jy.Provider,{value:this.helmetData.value},this.props.children)}},Xs=(s,t)=>{const i=document.head||document.querySelector("head"),r=i.querySelectorAll(`${s}[${Xt}]`),o=[].slice.call(r),u=[];let f;return t&&t.length&&t.forEach(m=>{const v=document.createElement(s);for(const p in m)if(Object.prototype.hasOwnProperty.call(m,p))if(p==="innerHTML")v.innerHTML=m.innerHTML;else if(p==="cssText")v.styleSheet?v.styleSheet.cssText=m.cssText:v.appendChild(document.createTextNode(m.cssText));else{const b=p,_=typeof m[b]>"u"?"":m[b];v.setAttribute(p,_)}v.setAttribute(Xt,"true"),o.some((p,b)=>(f=b,v.isEqualNode(p)))?o.splice(f,1):u.push(v)}),o.forEach(m=>m.parentNode?.removeChild(m)),u.forEach(m=>i.appendChild(m)),{oldTags:o,newTags:u}},Ad=(s,t)=>{const i=document.getElementsByTagName(s)[0];if(!i)return;const r=i.getAttribute(Xt),o=r?r.split(","):[],u=[...o],f=Object.keys(t);for(const m of f){const v=t[m]||"";i.getAttribute(m)!==v&&i.setAttribute(m,v),o.indexOf(m)===-1&&o.push(m);const p=u.indexOf(m);p!==-1&&u.splice(p,1)}for(let m=u.length-1;m>=0;m-=1)i.removeAttribute(u[m]);o.length===u.length?i.removeAttribute(Xt):i.getAttribute(Xt)!==f.join(",")&&i.setAttribute(Xt,f.join(","))},US=(s,t)=>{typeof s<"u"&&document.title!==s&&(document.title=Qy(s)),Ad("title",t)},pv=(s,t)=>{const{baseTag:i,bodyAttributes:r,htmlAttributes:o,linkTags:u,metaTags:f,noscriptTags:m,onChangeClientState:v,scriptTags:p,styleTags:b,title:_,titleAttributes:x}=s;Ad("body",r),Ad("html",o),US(_,x);const A={baseTag:Xs("base",i),linkTags:Xs("link",u),metaTags:Xs("meta",f),noscriptTags:Xs("noscript",m),scriptTags:Xs("script",p),styleTags:Xs("style",b)},R={},D={};Object.keys(A).forEach(B=>{const{newTags:Q,oldTags:ue}=A[B];Q.length&&(R[B]=Q),ue.length&&(D[B]=A[B].oldTags)}),t&&t(),v(s,R,D)},_r=null,BS=s=>{_r&&cancelAnimationFrame(_r),s.defer?_r=requestAnimationFrame(()=>{pv(s,()=>{_r=null})}):(pv(s),_r=null)},HS=BS,vv=class extends U.Component{rendered=!1;shouldComponentUpdate(s){return!TS(s,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:s}=this.props.context;s.remove(this),this.emitChange()}emitChange(){const{helmetInstances:s,setHelmet:t}=this.props.context;let i=null;const r=IS(s.get().map(o=>{const u={...o.props};return delete u.context,u}));$y.canUseDOM?HS(r):Nd&&(i=Nd(r)),t(i)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:s}=this.props.context;s.add(this),this.emitChange()}render(){return this.init(),null}},PS=class extends U.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(s){return!vS(gv(this.props,"helmetData"),gv(s,"helmetData"))}mapNestedChildrenToProps(s,t){if(!t)return null;switch(s.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${s.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(s,t,i,r){return{...t,[s.type]:[...t[s.type]||[],{...i,...this.mapNestedChildrenToProps(s,r)}]}}mapObjectTypeChildren(s,t,i,r){switch(s.type){case"title":return{...t,[s.type]:r,titleAttributes:{...i}};case"body":return{...t,bodyAttributes:{...i}};case"html":return{...t,htmlAttributes:{...i}};default:return{...t,[s.type]:{...i}}}}mapArrayTypeChildrenToProps(s,t){let i={...t};return Object.keys(s).forEach(r=>{i={...i,[r]:s[r]}}),i}warnOnInvalidChildren(s,t){return dv(mv.some(i=>s.type===i),typeof s.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${mv.join(", ")} are allowed. Helmet does not support rendering <${s.type}> elements. Refer to our API for more information.`),dv(!t||typeof t=="string"||Array.isArray(t)&&!t.some(i=>typeof i!="string"),`Helmet expects a string as a child of <${s.type}>. Did you forget to wrap your children in braces? ( <${s.type}>{\`\`}</${s.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(s,t){let i={};return jn.Children.forEach(s,r=>{if(!r||!r.props)return;const{children:o,...u}=r.props,f=Object.keys(u).reduce((v,p)=>(v[SS[p]||p]=u[p],v),{});let{type:m}=r;switch(typeof m=="symbol"?m=m.toString():this.warnOnInvalidChildren(r,o),m){case"Symbol(react.fragment)":t=this.mapChildrenToProps(o,t);break;case"link":case"meta":case"noscript":case"script":case"style":i=this.flattenArrayTypeChildren(r,i,f,o);break;default:t=this.mapObjectTypeChildren(r,t,f,o);break}}),this.mapArrayTypeChildrenToProps(i,t)}render(){const{children:s,...t}=this.props;let i={...t},{helmetData:r}=t;if(s&&(i=this.mapChildrenToProps(s,i)),r&&!(r instanceof Cd)){const o=r;r=new Cd(o.context,!0),delete i.helmetData}return r?jn.createElement(vv,{...i,context:r.value}):jn.createElement(Jy.Consumer,null,o=>jn.createElement(vv,{...i,context:o}))}};const qS=[{title:"Pre-IELTS",href:"/roadmap",sections:[{title:"",items:[{label:"Kick-start",href:"/courses/kick-start"},{label:"Runner-up",href:"/courses/runner-up"}]}]},{title:"IELTS",href:"/roadmap",sections:[{title:"Band 4.0 - 5.0",items:[{label:"Avenger 1",href:"/courses/avenger-1"},{label:"Avenger 2",href:"/courses/avenger-2"},{label:"Voyager 1",href:"/courses/voyager-1"},{label:"Voyager 2",href:"/courses/voyager-2"}]},{title:"Band 6.0 - 6.5+",items:[{label:"Elite 1",href:"/courses/elite-1"},{label:"Elite 2",href:"/courses/elite-2"},{label:"Plus 1",href:"/courses/plus-1"},{label:"Plus 2",href:"/courses/plus-2"}]}]},{title:"IELTS Cp tc",href:"/roadmap",sections:[{title:"IELTS Intensive",items:[{label:"IELTS Intensive 1",href:"/courses/intensive-1"},{label:"IELTS Intensive 2",href:"/courses/intensive-2"},{label:"IELTS Intensive 3",href:"/courses/intensive-3"}]}]}],GS=()=>d.jsx("div",{className:"fixed top-[80px] left-0 w-full bg-white shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform translate-y-2 group-hover:translate-y-0 z-[99]",children:d.jsx("div",{className:"container mx-auto px-4 py-8 grid grid-cols-3 gap-8",children:qS.map((s,t)=>d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex items-center gap-2 mb-4 group/title cursor-pointer",children:s.href?d.jsxs(gt,{to:s.href,className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800 group-hover/title:text-brand-orange transition-colors",children:s.title}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400 group-hover/title:text-brand-orange",children:d.jsx("path",{d:"m9 18 6-6-6-6"})})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800 group-hover/title:text-brand-orange transition-colors",children:s.title}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-400 group-hover/title:text-brand-orange",children:d.jsx("path",{d:"m9 18 6-6-6-6"})})]})}),d.jsx("div",{className:s.sections.length>2?"grid grid-cols-2 gap-x-4 gap-y-2":"space-y-6",children:s.sections.map((i,r)=>d.jsxs("div",{className:i.title==="IELTS Intensive"?"col-span-2 mt-4":"col-span-1",children:[i.title&&d.jsx("h4",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-wider",children:i.title}),d.jsx("ul",{className:"space-y-2",children:i.items.map((o,u)=>d.jsx("li",{children:d.jsx(gt,{to:o.href,className:"text-[15px] text-gray-600 hover:text-brand-blue block",children:o.label})},u))})]},r))})]},t))})});function VS(){const[s,t]=U.useState(!1),[i,r]=U.useState(!1),[o,u]=U.useState(!1),{scrollY:f}=Ly(),m=ef();UT(f,"change",p=>{const b=f.getPrevious()??0;p>b&&p>150?r(!0):r(!1)});const v=[{name:"Trang ch",path:"/"},{name:"Kha hc",path:"/courses"},{name:"L trnh",path:"/roadmap"},{name:"V chng ti",path:"/about"},{name:"Lin h",path:"/contact"}];return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed top-0 left-0 right-0 h-4 z-[101]",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1)}),d.jsxs(V.nav,{variants:{visible:{y:0},hidden:{y:"-100%"}},animate:i&&!o?"hidden":"visible",transition:{duration:.35,ease:"easeInOut"},className:"fixed top-0 left-0 right-0 z-[100]",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[d.jsx("div",{className:"bg-white/90 border-b border-black/5 py-2 hidden lg:block backdrop-blur-sm",children:d.jsxs("div",{className:"w-full px-4 md:px-8 2xl:container 2xl:mx-auto flex justify-between items-center text-xs text-gray-500",children:[d.jsxs("div",{className:"flex gap-6",children:[d.jsxs("a",{href:"mailto:hello@weaver.edu.vn",className:"hover:text-brand-orange transition-colors flex items-center gap-2",children:[d.jsx(By,{size:12})," hello@weaver.edu.vn"]}),d.jsxs("a",{href:"tel:+84912345678",className:"hover:text-brand-orange transition-colors flex items-center gap-2",children:[d.jsx(Hy,{size:12})," 0912 345 678"]})]}),d.jsxs("div",{className:"flex gap-4 font-medium",children:[d.jsx("span",{className:"text-brand-orange cursor-pointer",children:"VN"}),d.jsx("span",{className:"hover:text-brand-orange cursor-pointer transition-colors",children:"EN"})]})]})}),d.jsx("div",{className:"bg-white/60 backdrop-blur-md border-b border-black/5 shadow-sm w-full transition-all hover:bg-white/80",children:d.jsxs("div",{className:"w-full px-4 md:px-8 2xl:container 2xl:mx-auto py-3 flex justify-between items-center",children:[d.jsxs(gt,{to:"/",className:"flex items-center gap-2 group",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-orange flex items-center justify-center text-white font-bold text-lg group-hover:scale-110 transition-transform shadow-md shadow-brand-orange/20",children:"W"}),d.jsxs("span",{className:"font-bold text-xl tracking-wide text-gray-900",children:["WEAVER ",d.jsx("span",{className:"text-brand-orange",children:"ENGLISH"})]})]}),d.jsx("div",{className:"hidden lg:flex items-center gap-8",children:v.map(p=>d.jsxs("div",{className:"relative group h-full flex items-center",children:[d.jsxs(gt,{to:p.path,className:`text-sm font-medium transition-colors relative py-4 ${m.pathname===p.path?"text-brand-orange":"text-gray-600 hover:text-brand-orange"}`,children:[p.name,d.jsx("span",{className:`absolute bottom-2 left-0 h-0.5 bg-brand-orange transition-all duration-300 ${m.pathname===p.path?"w-full":"w-0 group-hover:w-full"}`})]}),p.name==="Kha hc"&&d.jsx(GS,{})]},p.name))}),d.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[d.jsx("button",{className:"text-sm font-semibold text-gray-900 hover:text-brand-orange transition-colors",children:"ng nhp"}),d.jsx(V.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 rounded-full bg-brand-orange text-white text-sm font-semibold hover:bg-orange-600 transition-colors shadow-lg shadow-brand-orange/25",children:"T vn ngay"})]}),d.jsx("button",{className:"lg:hidden text-gray-900 p-2",onClick:()=>t(!s),children:s?d.jsx(QT,{size:24}):d.jsx(WT,{size:24})})]})}),s&&d.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"lg:hidden absolute top-full left-4 right-4 mt-2 p-6 bg-white border border-black/5 shadow-2xl rounded-2xl flex flex-col gap-4 items-center",children:[v.map(p=>d.jsx(gt,{to:p.path,className:"text-lg font-medium text-gray-900 hover:text-brand-orange",onClick:()=>t(!1),children:p.name},p.name)),d.jsx("div",{className:"w-full h-px bg-black/5 my-2"}),d.jsx("button",{className:"w-full py-3 rounded-xl border border-black/10 text-gray-900 font-semibold",children:"ng nhp"}),d.jsx("button",{className:"w-full py-3 rounded-xl bg-brand-orange text-white font-semibold",children:"T vn ngay"})]})]})]})}function xe({children:s,delay:t=0,className:i="",animation:r="fade-left"}){const o=u=>{switch(u){case"zoom-in":return{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:20,delay:t}}};case"rotate-up":return{hidden:{opacity:0,y:100,rotate:15},visible:{opacity:1,y:0,rotate:0,transition:{type:"spring",stiffness:80,damping:20,delay:t}}};case"blur-in":return{hidden:{opacity:0,filter:"blur(20px)",scale:1.1},visible:{opacity:1,filter:"blur(0px)",scale:1,transition:{duration:1,ease:"easeOut",delay:t}}};case"fade-up":return{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut",delay:t}}};case"fade-right":return{hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut",delay:t}}};default:return{hidden:{opacity:0,x:-100},visible:{opacity:1,x:0,transition:{duration:.8,ease:"easeOut",delay:t}}}}};return d.jsx(V.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:o(r),className:i,children:s})}const yv=[{type:"star",size:24,color:"#f97316"},{type:"circle",size:14,color:"#fb923c"},{type:"square",size:16,color:"#fed7aa"},{type:"spark",size:28,color:"#ea580c"},{type:"triangle",size:20,color:"#ffedd5"}];function FS({item:s}){const t=U.useRef(null),i=sv(0),r=sv(0),o=Ed(i,{stiffness:150,damping:20}),u=Ed(r,{stiffness:150,damping:20});return U.useEffect(()=>{const f=m=>{const v=t.current;if(!v)return;const p=v.getBoundingClientRect(),b=p.left+p.width/2,_=p.top+p.height/2,x=Math.hypot(m.clientX-b,m.clientY-_),A=200;if(x<A){const R=(A-x)/A,D=80,B=Math.atan2(m.clientY-_,m.clientX-b);i.set(-Math.cos(B)*D*R),r.set(-Math.sin(B)*D*R)}else i.set(0),r.set(0)};return window.addEventListener("mousemove",f),()=>window.removeEventListener("mousemove",f)},[i,r]),d.jsx(V.div,{ref:t,style:{top:s.top,left:s.left,x:o,y:u},className:"absolute z-[-1] pointer-events-none opacity-10 mix-blend-multiply",initial:{scale:0},animate:{scale:1},transition:{delay:Math.random()*1},children:d.jsx(YS,{type:s.type,size:s.size,color:s.color})})}function YS({type:s,size:t,color:i}){switch(s){case"star":return d.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:i,children:d.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})});case"circle":return d.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",children:d.jsx("circle",{cx:"12",cy:"12",r:"10",fill:i})});case"square":return d.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",children:d.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"4",fill:i})});case"triangle":return d.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:i,children:d.jsx("path",{d:"M12 2L2 22h20L12 2z"})});case"spark":return d.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:i,children:d.jsx("path",{d:"M12 0l3 9 9 3-9 3-3 9-3-9-9-3 9-3z"})});default:return null}}function tb({count:s=20}){const t=Array.from({length:s}).map((i,r)=>{const u=Math.random()<.5?Math.random()*20:80+Math.random()*20;return{id:r,top:`${Math.random()*100}%`,left:`${u}%`,...yv[Math.floor(Math.random()*yv.length)]}});return d.jsx("div",{className:"absolute inset-0 z-[-1] pointer-events-none overflow-hidden h-full w-full",children:t.map(i=>d.jsx(FS,{item:i},i.id))})}function KS({showCTA:s=!0}){return d.jsxs(V.footer,{className:"sticky top-0 min-h-screen flex flex-col justify-center bg-zinc-900/95 backdrop-blur-xl border-t border-black/5 shadow-2xl z-[100] pt-24 pb-12 text-white",style:{zIndex:100},children:[d.jsx(tb,{count:10}),d.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s&&d.jsx(xe,{animation:"fade-up",children:d.jsxs("div",{className:"bg-brand-orange/20 border border-white/10 rounded-3xl p-8 md:p-12 text-center mb-16 md:mb-24 relative overflow-hidden backdrop-blur-sm",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h2",{className:"text-2xl md:text-4xl font-bold mb-4 md:mb-6 text-white",children:["Chinh phc IELTS 7.5+ ",d.jsx("br",{}),"Cng Weaver English."]}),d.jsx("button",{className:"px-8 py-3 bg-white text-gray-900 rounded-full font-bold hover:scale-105 transition-transform shadow-lg text-sm md:text-base",children:"ng k t vn min ph"})]}),d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-orange/40 rounded-full blur-3xl opacity-50"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-blue-500/30 rounded-full blur-3xl opacity-50"})]})}),d.jsxs("div",{className:"grid md:grid-cols-4 gap-8 md:gap-12 mb-16",children:[d.jsx(xe,{animation:"fade-up",delay:.1,children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-orange flex items-center justify-center text-white font-bold text-lg",children:"W"}),d.jsxs("span",{className:"font-bold text-xl tracking-wide text-white",children:["WEAVER ",d.jsx("span",{className:"text-brand-orange",children:"ENGLISH"})]})]}),d.jsxs("div",{className:"text-zinc-400 text-sm space-y-3",children:[d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(Hy,{size:14})," 0938.869.069"]}),d.jsxs("p",{className:"flex items-center gap-2",children:[d.jsx(By,{size:14})," weaver.english.edu@gmail.com"]}),d.jsxs("div",{className:"flex gap-4 mt-2",children:[d.jsx("a",{href:"https://www.facebook.com/weaver.english",target:"_blank",rel:"noopener noreferrer",children:d.jsx(Py,{size:20,className:"text-zinc-400 hover:text-white cursor-pointer transition-colors"})}),d.jsx("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:d.jsx(XT,{size:20,className:"text-zinc-400 hover:text-white cursor-pointer transition-colors"})}),d.jsxs("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:[" ",d.jsx(ZT,{size:20,className:"text-zinc-400 hover:text-white cursor-pointer transition-colors"})]})]})]})]})}),d.jsx(xe,{animation:"fade-up",delay:.2,children:d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-white mb-6 uppercase tracking-wide text-sm",children:"Kha hc"}),d.jsxs("ul",{className:"space-y-3 text-sm text-zinc-400",children:[d.jsx("li",{children:d.jsx(gt,{to:"/courses/ielts-foundation",className:"hover:text-brand-orange transition-colors",children:"IELTS Foundation"})}),d.jsx("li",{children:d.jsx(gt,{to:"/courses/ielts-intensive",className:"hover:text-brand-orange transition-colors",children:"IELTS Intensive"})}),d.jsx("li",{children:d.jsx(gt,{to:"/courses/private-tutoring",className:"hover:text-brand-orange transition-colors",children:"Gia s 1-1"})}),d.jsx("li",{children:d.jsx(gt,{to:"/roadmap",className:"hover:text-brand-orange transition-colors",children:"L trnh hc"})})]})]})}),d.jsx(xe,{animation:"fade-up",delay:.3,children:d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-white mb-6 uppercase tracking-wide text-sm",children:"Chnh sch"}),d.jsxs("ul",{className:"space-y-3 text-sm text-zinc-400",children:[d.jsx("li",{className:"hover:text-brand-orange cursor-pointer transition-colors",children:"iu khon dch v"}),d.jsx("li",{className:"hover:text-brand-orange cursor-pointer transition-colors",children:"Chnh sch bo mt"}),d.jsx("li",{className:"hover:text-brand-orange cursor-pointer transition-colors",children:"Cam kt u ra"})]})]})}),d.jsx(xe,{animation:"fade-up",delay:.4,children:d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-white mb-6 uppercase tracking-wide text-sm",children:"a ch"}),d.jsx("div",{className:"text-sm text-zinc-400 space-y-4",children:d.jsxs("p",{className:"flex items-start gap-2",children:[d.jsx(JT,{size:16,className:"mt-1 flex-shrink-0"}),d.jsxs("span",{children:["123 ng Nguyn Vn Lng, ",d.jsx("br",{}),"Phng 10, Qun G Vp, ",d.jsx("br",{}),"TP. H Ch Minh"]})]})})]})})]}),d.jsxs("div",{className:"pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center text-xs text-zinc-500",children:[d.jsx("p",{children:" 2026 Weaver English. All rights reserved."}),d.jsx("div",{className:"flex gap-6 mt-4 md:mt-0",children:d.jsx("span",{className:"hover:text-white cursor-pointer transition-colors",children:"Designed by Weaver Team"})})]})]})]})}function QS(){const{pathname:s}=ef();return U.useEffect(()=>{window.scrollTo(0,0)},[s]),null}const WS=({isOpen:s,onClick:t})=>d.jsxs("button",{onClick:t,className:`
        fixed bottom-6 right-6 w-14 h-14 rounded-full shadow-2xl flex items-center justify-center transition-all duration-300 z-[98]
        ${s?"bg-gray-800 rotate-90":"bg-orange-500 hover:bg-orange-600 hover:scale-110"}
      `,"aria-label":"Toggle Chat",children:[s?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),!s&&d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500"})]})]}),XS=({sender:s,text:t})=>{const i=s==="bot";return d.jsx("div",{className:`flex w-full mb-4 ${i?"justify-start":"justify-end"}`,children:d.jsxs("div",{className:`flex max-w-[80%] ${i?"flex-row":"flex-row-reverse"}`,children:[d.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center overflow-hidden border border-gray-100 ${i?"mr-2 bg-primary-50":"ml-2 bg-gray-200"}`,children:i?d.jsx("img",{src:"https://ui-avatars.com/api/?name=Weaver+English&background=0D9488&color=fff",alt:"Bot",className:"h-full w-full object-cover"}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),d.jsx("div",{className:`
          p-3 rounded-2xl text-sm leading-relaxed shadow-sm font-medium
          ${i?"bg-gray-100 text-gray-900 rounded-tl-none border border-gray-200":"bg-orange-500 text-white rounded-tr-none shadow-md"}
        `,children:t})]})})},ZS=({messages:s,onSendMessage:t,onOptionClick:i,onClose:r,isConnecting:o=!1})=>{const[u,f]=jn.useState(""),m=U.useRef(null),v=()=>{m.current?.scrollIntoView({behavior:"smooth"})};U.useEffect(()=>{v()},[s]);const p=b=>{b.preventDefault(),u.trim()&&!o&&(t(u),f(""))};return d.jsxs("div",{className:"fixed bottom-24 right-6 w-[calc(100vw-3rem)] md:w-[380px] h-[calc(100vh-180px)] min-h-[350px] max-h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden z-[98] animate-fade-in-up border border-gray-200",children:[d.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4 flex items-center justify-between text-white shadow-md",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 ${o?"bg-yellow-400":"bg-green-400"} border-2 border-white rounded-full`}),d.jsx("div",{className:"h-10 w-10 bg-white rounded-full flex items-center justify-center text-primary-600 font-bold overflow-hidden",children:d.jsx("img",{src:"https://ui-avatars.com/api/?name=Weaver+English&background=fff&color=0D9488",alt:"Logo"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-sm",children:"Weaver Support"}),d.jsxs("p",{className:"text-xs text-primary-100 flex items-center",children:[d.jsx("span",{className:`w-1.5 h-1.5 ${o?"bg-yellow-400":"bg-green-400"} rounded-full mr-1`}),o?"Connecting...":"Online"]})]})]}),d.jsx("button",{onClick:r,className:"text-white hover:bg-white/10 p-1 rounded-full transition-colors",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 flex flex-col space-y-4",children:[s.map(b=>d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(XS,{sender:b.sender,text:b.text}),b.sender==="bot"&&b.options&&d.jsx("div",{className:"flex flex-wrap gap-2 ml-10",children:b.options.map(_=>d.jsx("button",{onClick:()=>i(_.actionId,_.label),className:"text-xs bg-white border border-orange-200 text-orange-700 px-3 py-1.5 rounded-full hover:bg-orange-50 transition-colors shadow-sm font-medium",disabled:o,children:_.label},_.actionId))})]},b.id)),d.jsx("div",{ref:m})]}),d.jsxs("div",{className:"p-3 bg-white border-t border-gray-100",children:[d.jsxs("form",{onSubmit:p,className:"flex items-center bg-gray-100 rounded-full px-4 py-2",children:[d.jsx("input",{type:"text",className:"bg-transparent flex-1 text-sm focus:outline-none text-gray-700 placeholder-gray-400 disabled:opacity-50",placeholder:o?"ang kt ni...":"Nhp tin nhn...",value:u,onChange:b=>f(b.target.value),disabled:o}),d.jsx("button",{type:"submit",disabled:!u.trim()||o,className:"ml-2 text-primary-600 disabled:text-gray-400 hover:text-primary-700 transition-colors p-1",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),d.jsx("div",{className:"text-center mt-1",children:d.jsx("span",{className:"text-[10px] text-gray-400",children:"Powered by Weaver Tech"})})]})]})},ad={welcome:{id:"welcome",text:"Cho bn! Mnh l tr l o ca Weaver English. Mnh c th gip g cho bn?",options:[{label:"Kha hc IELTS",actionId:"ielts"},{label:"Hc ph",actionId:"pricing"},{label:"Lin h t vn",actionId:"contact"}]},ielts:{id:"ielts",text:"Weaver English chuyn cc kha IELTS, TOEIC v Giao tip. Bn ang quan tm n mng no?",options:[{label:"IELTS Intensive",actionId:"ielts_detail"},{label:"Ting Anh Giao Tip",actionId:"contact"},{label:"Quay li",actionId:"welcome"}]},ielts_detail:{id:"ielts_detail",text:"L trnh IELTS tinh gn, cam kt u ra. Bn c mun ng k test trnh  min ph khng?",options:[{label:"ng k test ngay",actionId:"contact"},{label:"Xem thm thng tin",actionId:"welcome"}]},pricing:{id:"pricing",text:"Hc ph ch t 1.xxx.000/thng vi cam kt u ra bng vn bn.  nhn bo gi chi tit cho trnh  ca bn, vui lng lin h t vn vin nh!",options:[{label:"Gp t vn vin",actionId:"contact"},{label:"Quay li",actionId:"welcome"}]},contact:{id:"contact",text:"Bn vui lng  li S in thoi hoc gi hotline: 0909.xxx.xxx. Admin s lin h li ngay trong 5 pht!",options:[{label:"Quay li menu chnh",actionId:"welcome"}]},default:{id:"default",text:"Cm n bn  nhn tin. Nhn vin t vn ca Weaver English s phn hi bn trong giy lt. Vui lng gi kt ni nh!",options:[{label:"Gp nhn vin t vn ngay",actionId:"contact"},{label:"Xem kha hc",actionId:"ielts"}]}},JS=()=>{};var bv={};const nb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const L=function(s,t){if(!s)throw ya(t)},ya=function(s){return new Error("Firebase Database ("+nb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const ib=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},$S=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],f=s[i++],m=s[i++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const u=s[i++],f=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,v=o+2<s.length,p=v?s[o+2]:0,b=u>>2,_=(u&3)<<4|m>>4;let x=(m&15)<<2|p>>6,A=p&63;v||(A=64,f||(x=64)),r.push(i[b],i[_],i[x],i[A])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(ib(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):$S(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],m=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const _=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||m==null||p==null||_==null)throw new eE;const x=u<<2|m>>4;if(r.push(x),p!==64){const A=m<<4&240|p>>2;if(r.push(A),_!==64){const R=p<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class eE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sb=function(s){const t=ib(s);return rf.encodeByteArray(t,!0)},Po=function(s){return sb(s).replace(/\./g,"")},qo=function(s){try{return rf.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tE(s){return ab(void 0,s)}function ab(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!nE(i)||(s[i]=ab(s[i],t[i]));return s}function nE(s){return s!=="__proto__"}function iE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sE=()=>iE().__FIREBASE_DEFAULTS__,aE=()=>{if(typeof process>"u"||typeof bv>"u")return;const s=bv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&qo(s[1]);return t&&JSON.parse(t)},lf=()=>{try{return JS()||sE()||aE()||rE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rb=s=>lf()?.emulatorHosts?.[s],lb=s=>{const t=rb(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},ob=()=>lf()?.config,cb=s=>lf()?.[`_${s}`];class kn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Ai(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function of(s){return(await fetch(s,{credentials:"include"})).ok}function lE(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Po(JSON.stringify(i)),Po(JSON.stringify(f)),""].join(".")}const Nr={};function oE(){const s={prod:[],emulator:[]};for(const t of Object.keys(Nr))Nr[t]?s.emulator.push(t):s.prod.push(t);return s}function cE(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let _v=!1;function cf(s,t){if(typeof window>"u"||typeof document>"u"||!Ai(window.location.host)||Nr[s]===t||Nr[s]||_v)return;Nr[s]=t;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=oE().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{_v=!0,f()},x}function b(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function _(){const x=cE(r),A=i("text"),R=document.getElementById(A)||document.createElement("span"),D=i("learnmore"),B=document.getElementById(D)||document.createElement("a"),Q=i("preprendIcon"),ue=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;m(W),b(B,D);const Ae=p();v(ue,Q),W.append(ue,R,B,Ae),document.body.appendChild(W)}u?(R.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function uE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ub(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dE(){const s=lt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function fE(){return nb.NODE_ADMIN===!0}function mE(){try{return typeof indexedDB=="object"}catch{return!1}}function gE(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const pE="FirebaseError";class Vn extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=pE,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}}class Kr{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?vE(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Vn(o,m,r)}}function vE(s,t){return s.replace(yE,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const yE=/\{\$([^}]+)}/g;function Mr(s){return JSON.parse(s)}function We(s){return JSON.stringify(s)}const hb=function(s){let t={},i={},r={},o="";try{const u=s.split(".");t=Mr(qo(u[0])||""),i=Mr(qo(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},bE=function(s){const t=hb(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},_E=function(s){const t=hb(s).claims;return typeof t=="object"&&t.admin===!0};function cn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function ha(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Go(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Vo(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function es(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(xv(u)&&xv(f)){if(!es(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function xv(s){return s!==null&&typeof s=="object"}function ba(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class xE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)r[_]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let _=0;_<16;_++)r[_]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let _=16;_<80;_++){const x=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=(x<<1|x>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],m=this.chain_[3],v=this.chain_[4],p,b;for(let _=0;_<80;_++){_<40?_<20?(p=m^u&(f^m),b=1518500249):(p=u^f^m,b=1859775393):_<60?(p=u&f|m&(u|f),b=2400959708):(p=u^f^m,b=3395469782);const x=(o<<5|o>>>27)+p+v+b+r[_]&4294967295;v=m,m=f,f=(u<<30|u>>>2)&4294967295,u=o,o=x}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<i;){if(f===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[f]=t.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<i;)if(u[f]=t[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[o]>>u&255,++r;return t}}function TE(s,t){const i=new SE(s,t);return i.subscribe.bind(i)}class SE{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");EE(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=rd),o.error===void 0&&(o.error=rd),o.complete===void 0&&(o.complete=rd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EE(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function rd(){}function da(s,t){return`${s} failed: ${t} argument `}const wE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,L(r<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(r)-56320;o=65536+(u<<10)+f}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},gc=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};function Ge(s){return s&&s._delegate?s._delegate:s}class wi{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xi="[DEFAULT]";class NE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new kn;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AE(t))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Xi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xi){return this.instances.has(t)}getOptions(t=Xi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CE(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Xi){return this.component?this.component.multipleInstances?t:Xi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CE(s){return s===Xi?void 0:s}function AE(s){return s.instantiationMode==="EAGER"}class IE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new NE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var ye;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ye||(ye={}));const RE={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},kE=ye.INFO,jE={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},OE=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=jE[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hf{constructor(t){this.name=t,this._logLevel=kE,this._logHandler=OE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}const ME=(s,t)=>t.some(i=>s instanceof i);let Tv,Sv;function DE(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LE(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,Id=new WeakMap,fb=new WeakMap,ld=new WeakMap,df=new WeakMap;function zE(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(Ti(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&db.set(i,s)}).catch(()=>{}),df.set(t,s),t}function UE(s){if(Id.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Id.set(s,t)}let Rd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Id.get(s);if(t==="objectStoreNames")return s.objectStoreNames||fb.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ti(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function BE(s){Rd=s(Rd)}function HE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(od(this),t,...i);return fb.set(r,t.sort?t.sort():[t]),Ti(r)}:LE().includes(s)?function(...t){return s.apply(od(this),t),Ti(db.get(this))}:function(...t){return Ti(s.apply(od(this),t))}}function PE(s){return typeof s=="function"?HE(s):(s instanceof IDBTransaction&&UE(s),ME(s,DE())?new Proxy(s,Rd):s)}function Ti(s){if(s instanceof IDBRequest)return zE(s);if(ld.has(s))return ld.get(s);const t=PE(s);return t!==s&&(ld.set(s,t),df.set(t,s)),t}const od=s=>df.get(s);function qE(s,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),m=Ti(f);return r&&f.addEventListener("upgradeneeded",v=>{r(Ti(f.result),v.oldVersion,v.newVersion,Ti(f.transaction),v)}),i&&f.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),m.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const GE=["get","getKey","getAll","getAllKeys","count"],VE=["put","add","delete","clear"],cd=new Map;function Ev(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(cd.get(t))return cd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=VE.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||GE.includes(i)))return;const u=async function(f,...m){const v=this.transaction(f,o?"readwrite":"readonly");let p=v.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&v.done]))[0]};return cd.set(t,u),u}BE(s=>({...s,get:(t,i,r)=>Ev(t,i)||s.get(t,i,r),has:(t,i)=>!!Ev(t,i)||s.has(t,i)}));class FE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YE(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function YE(s){return s.getComponent()?.type==="VERSION"}const kd="@firebase/app",wv="0.14.7";const Un=new hf("@firebase/app"),KE="@firebase/app-compat",QE="@firebase/analytics-compat",WE="@firebase/analytics",XE="@firebase/app-check-compat",ZE="@firebase/app-check",JE="@firebase/auth",$E="@firebase/auth-compat",ew="@firebase/database",tw="@firebase/data-connect",nw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",aw="@firebase/installations",rw="@firebase/installations-compat",lw="@firebase/messaging",ow="@firebase/messaging-compat",cw="@firebase/performance",uw="@firebase/performance-compat",hw="@firebase/remote-config",dw="@firebase/remote-config-compat",fw="@firebase/storage",mw="@firebase/storage-compat",gw="@firebase/firestore",pw="@firebase/ai",vw="@firebase/firestore-compat",yw="firebase",bw="12.8.0";const jd="[DEFAULT]",_w={[kd]:"fire-core",[KE]:"fire-core-compat",[WE]:"fire-analytics",[QE]:"fire-analytics-compat",[ZE]:"fire-app-check",[XE]:"fire-app-check-compat",[JE]:"fire-auth",[$E]:"fire-auth-compat",[ew]:"fire-rtdb",[tw]:"fire-data-connect",[nw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[aw]:"fire-iid",[rw]:"fire-iid-compat",[lw]:"fire-fcm",[ow]:"fire-fcm-compat",[cw]:"fire-perf",[uw]:"fire-perf-compat",[hw]:"fire-rc",[dw]:"fire-rc-compat",[fw]:"fire-gcs",[mw]:"fire-gcs-compat",[gw]:"fire-fst",[vw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[yw]:"fire-js-all"};const Dr=new Map,xw=new Map,Od=new Map;function Nv(s,t){try{s.container.addComponent(t)}catch(i){Un.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ts(s){const t=s.name;if(Od.has(t))return Un.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,s);for(const i of Dr.values())Nv(i,s);for(const i of xw.values())Nv(i,s);return!0}function pc(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Rt(s){return s==null?!1:s.settings!==void 0}const Tw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Kr("app","Firebase",Tw);class Sw{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const _a=bw;function ff(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:jd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(i||(i=ob()),!i)throw Si.create("no-options");const u=Dr.get(o);if(u){if(es(i,u.options)&&es(r,u.config))return u;throw Si.create("duplicate-app",{appName:o})}const f=new IE(o);for(const v of Od.values())f.addComponent(v);const m=new Sw(i,r,f);return Dr.set(o,m),m}function vc(s=jd){const t=Dr.get(s);if(!t&&s===jd&&ob())return ff();if(!t)throw Si.create("no-app",{appName:s});return t}function mb(){return Array.from(Dr.values())}function rn(s,t,i){let r=_w[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Un.warn(f.join(" "));return}ts(new wi(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Ew="firebase-heartbeat-database",ww=1,Lr="firebase-heartbeat-store";let ud=null;function gb(){return ud||(ud=qE(Ew,ww,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Lr)}catch(i){console.warn(i)}}}}).catch(s=>{throw Si.create("idb-open",{originalErrorMessage:s.message})})),ud}async function Nw(s){try{const i=(await gb()).transaction(Lr),r=await i.objectStore(Lr).get(pb(s));return await i.done,r}catch(t){if(t instanceof Vn)Un.warn(t.message);else{const i=Si.create("idb-get",{originalErrorMessage:t?.message});Un.warn(i.message)}}}async function Cv(s,t){try{const r=(await gb()).transaction(Lr,"readwrite");await r.objectStore(Lr).put(t,pb(s)),await r.done}catch(i){if(i instanceof Vn)Un.warn(i.message);else{const r=Si.create("idb-set",{originalErrorMessage:i?.message});Un.warn(r.message)}}}function pb(s){return`${s.name}!${s.options.appId}`}const Cw=1024,Aw=30;class Iw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Aw){const o=jw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Un.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:i,unsentEntries:r}=Rw(this._heartbeatsCache.heartbeats),o=Po(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Un.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function Rw(s,t=Cw){const i=[];let r=s.slice();for(const o of s){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Iv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class kw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mE()?gE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Nw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Iv(s){return Po(JSON.stringify({version:2,heartbeats:s})).length}function jw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function Ow(s){ts(new wi("platform-logger",t=>new FE(t),"PRIVATE")),ts(new wi("heartbeat",t=>new Iw(t),"PRIVATE")),rn(kd,wv,s),rn(kd,wv,"esm2020"),rn("fire-js","")}Ow("");var Mw="firebase",Dw="12.8.0";rn(Mw,Dw,"app");var Rv={};const kv="@firebase/database",jv="1.1.0";let vb="";function Lw(s){vb=s}class zw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),We(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Mr(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Uw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return cn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const yb=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new zw(t)}}catch{}return new Uw},Ji=yb("localStorage"),Bw=yb("sessionStorage");const sa=new hf("@firebase/database"),Hw=(function(){let s=1;return function(){return s++}})(),bb=function(s){const t=wE(s),i=new xE;i.update(t);const r=i.digest();return rf.encodeByteArray(r)},Qr=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Qr.apply(null,r):typeof r=="object"?t+=We(r):t+=r,t+=" "}return t};let Cr=null,Ov=!0;const Pw=function(s,t){L(!0,"Can't turn on custom loggers persistently."),sa.logLevel=ye.VERBOSE,Cr=sa.log.bind(sa)},nt=function(...s){if(Ov===!0&&(Ov=!1,Cr===null&&Bw.get("logging_enabled")===!0&&Pw()),Cr){const t=Qr.apply(null,s);Cr(t)}},Wr=function(s){return function(...t){nt(s,...t)}},Md=function(...s){const t="FIREBASE INTERNAL ERROR: "+Qr(...s);sa.error(t)},Bn=function(...s){const t=`FIREBASE FATAL ERROR: ${Qr(...s)}`;throw sa.error(t),new Error(t)},bt=function(...s){const t="FIREBASE WARNING: "+Qr(...s);sa.warn(t)},qw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yc=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Gw=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},fa="[MIN_NAME]",ns="[MAX_NAME]",ls=function(s,t){if(s===t)return 0;if(s===fa||t===ns)return-1;if(t===fa||s===ns)return 1;{const i=Mv(s),r=Mv(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},Vw=function(s,t){return s===t?0:s<t?-1:1},xr=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+We(t))},mf=function(s){if(typeof s!="object"||s===null)return We(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=We(t[r]),i+=":",i+=mf(s[t[r]]);return i+="}",i},_b=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function st(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const xb=function(s){L(!yc(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,u,f,m,v;s===0?(u=0,f=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=m+r,f=Math.round(s*Math.pow(2,i-m)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-r-i))));const p=[];for(v=i;v;v-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(v=t;v;v-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const b=p.join("");let _="";for(v=0;v<64;v+=8){let x=parseInt(b.substr(v,8),2).toString(16);x.length===1&&(x="0"+x),_=_+x}return _.toLowerCase()},Fw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Yw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Kw(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+t._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const Qw=new RegExp("^-?(0*)\\d{1,10}$"),Ww=-2147483648,Xw=2147483647,Mv=function(s){if(Qw.test(s)){const t=Number(s);if(t>=Ww&&t<=Xw)return t}return null},xa=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw bt("Exception was thrown by user callback.",i),t},Math.floor(0))}},Zw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ar=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class Jw{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Rt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){bt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $w{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bt(t)}}class Lo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Lo.OWNER="owner";const gf="5",Tb="v",Sb="s",Eb="r",wb="f",Nb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cb="ls",Ab="p",Dd="ac",Ib="websocket",Rb="long_polling";class kb{constructor(t,i,r,o,u=!1,f="",m=!1,v=!1,p=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=v,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function eN(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function jb(s,t,i){L(typeof t=="string","typeof type must == string"),L(typeof i=="object","typeof params must == object");let r;if(t===Ib)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Rb)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);eN(s)&&(i.ns=s.namespace);const o=[];return st(i,(u,f)=>{o.push(u+"="+f)}),r+o.join("&")}class tN{constructor(){this.counters_={}}incrementCounter(t,i=1){cn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return tE(this.counters_)}}const hd={},dd={};function pf(s){const t=s.toString();return hd[t]||(hd[t]=new tN),hd[t]}function nN(s,t){const i=s.toString();return dd[i]||(dd[i]=t()),dd[i]}class iN{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&xa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Dv="start",sN="close",aN="pLPCommand",rN="pRTLPCB",Ob="id",Mb="pw",Db="ser",lN="cb",oN="seg",cN="ts",uN="d",hN="dframe",Lb=1870,zb=30,dN=Lb-zb,fN=25e3,mN=3e4;class $s{constructor(t,i,r,o,u,f,m){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wr(t),this.stats_=pf(i),this.urlFn=v=>(this.appCheckToken&&(v[Dd]=this.appCheckToken),jb(i,Rb,v))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new iN(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mN)),Gw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vf((...u)=>{const[f,m,v,p,b]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Dv)this.id=m,this.password=v;else if(f===sN)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[Dv]="t",r[Db]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Tb]=gf,this.transportSessionId&&(r[Sb]=this.transportSessionId),this.lastSessionId&&(r[Cb]=this.lastSessionId),this.applicationId&&(r[Ab]=this.applicationId),this.appCheckToken&&(r[Dd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Nb.test(location.hostname)&&(r[Eb]=wb);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$s.forceAllow_=!0}static forceDisallow(){$s.forceDisallow_=!0}static isAvailable(){return $s.forceAllow_?!0:!$s.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Fw()&&!Yw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=We(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=sb(i),o=_b(r,dN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[hN]="t",r[Ob]=t,r[Mb]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=We(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class vf{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Hw(),window[aN+this.uniqueCallbackIdentifier]=t,window[rN+this.uniqueCallbackIdentifier]=i,this.myIFrame=vf.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(m){nt("frame writing exception"),m.stack&&nt(m.stack),nt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||nt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Ob]=this.myID,t[Mb]=this.myPW,t[Db]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zb+r.length<=Lb;){const f=this.pendingSegs.shift();r=r+"&"+oN+o+"="+f.seg+"&"+cN+o+"="+f.ts+"&"+uN+o+"="+f.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(fN)),u=()=>{clearTimeout(o),r()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{nt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const gN=16384,pN=45e3;let Fo=null;typeof MozWebSocket<"u"?Fo=MozWebSocket:typeof WebSocket<"u"&&(Fo=WebSocket);class Wt{constructor(t,i,r,o,u,f,m){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wr(this.connId),this.stats_=pf(i),this.connURL=Wt.connectionURL_(i,f,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const f={};return f[Tb]=gf,typeof location<"u"&&location.hostname&&Nb.test(location.hostname)&&(f[Eb]=wb),i&&(f[Sb]=i),r&&(f[Cb]=r),o&&(f[Dd]=o),u&&(f[Ab]=u),jb(t,Ib,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ji.set("previous_websocket_failure",!0);try{let r;fE(),this.mySock=new Fo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Fo!==null&&!Wt.forceDisallow_}static previouslyFailed(){return Ji.isInMemoryStorage||Ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Mr(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(L(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=We(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=_b(i,gN);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pN))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;class zr{static get ALL_TRANSPORTS(){return[$s,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Wt&&Wt.isAvailable();let r=i&&!Wt.previouslyFailed();if(t.webSocketOnly&&(i||bt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{const o=this.transports_=[];for(const u of zr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);zr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zr.globalTransportInitialized_=!1;const vN=6e4,yN=5e3,bN=10*1024,_N=100*1024,fd="t",Lv="d",xN="s",zv="r",TN="e",Uv="o",Bv="a",Hv="n",Pv="p",SN="h";class EN{constructor(t,i,r,o,u,f,m,v,p,b){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=m,this.onDisconnect_=v,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wr("c:"+this.id+":"),this.transportManager_=new zr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ar(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_N?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(fd in t){const i=t[fd];i===Bv?this.upgradeIfSecondaryHealthy_():i===zv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Uv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=xr("t",t),r=xr("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Bv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=xr("t",t),r=xr("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=xr(fd,t);if(Lv in t){const r=t[Lv];if(i===SN){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Hv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===xN?this.onConnectionShutdown_(r):i===zv?this.onReset_(r):i===TN?Md("Server Error: "+r):i===Uv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Md("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),gf!==r&&bt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Ar(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vN))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ar(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pv,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ub{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}class Bb{constructor(t){this.allowedEvents_=t,this.listeners_={},L(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(t){L(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Yo extends Bb{static getInstance(){return new Yo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!uf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return L(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const qv=32,Gv=768;class me{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ce(){return new me("")}function J(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ni(s){return s.pieces_.length-s.pieceNum_}function _e(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new me(s.pieces_,t)}function yf(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function wN(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Ur(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Hb(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new me(t,0)}function Le(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof me)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new me(i,0)}function $(s){return s.pieceNum_>=s.pieces_.length}function pt(s,t){const i=J(s),r=J(t);if(i===null)return t;if(i===r)return pt(_e(s),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function NN(s,t){const i=Ur(s,0),r=Ur(t,0);for(let o=0;o<i.length&&o<r.length;o++){const u=ls(i[o],r[o]);if(u!==0)return u}return i.length===r.length?0:i.length<r.length?-1:1}function bf(s,t){if(Ni(s)!==Ni(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function Gt(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(Ni(s)>Ni(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class CN{constructor(t,i){this.errorPrefix_=i,this.parts_=Ur(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gc(this.parts_[r]);Pb(this)}}function AN(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=gc(t),Pb(s)}function IN(s){const t=s.parts_.pop();s.byteLength_-=gc(t),s.parts_.length>0&&(s.byteLength_-=1)}function Pb(s){if(s.byteLength_>Gv)throw new Error(s.errorPrefix_+"has a key path longer than "+Gv+" bytes ("+s.byteLength_+").");if(s.parts_.length>qv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qv+") or object contains a cycle "+Zi(s))}function Zi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class _f extends Bb{static getInstance(){return new _f}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return L(t==="visible","Unknown event type: "+t),[this.visible_]}}const Tr=1e3,RN=300*1e3,Vv=30*1e3,kN=1.3,jN=3e4,ON="server_kill",Fv=3;class Ln extends Ub{constructor(t,i,r,o,u,f,m,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=Ln.nextPersistentConnectionId_++,this.log_=Wr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tr,this.maxReconnectDelay_=RN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_f.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Yo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(We(u)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new kn,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const m=f.d;f.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},f="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(f,u,m=>{const v=m.d,p=m.s;Ln.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(p,v))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&cn(t,"w")){const r=ha(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();bt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||_E(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Vv)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=bE(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,f=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),L(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},f="n";o&&(u.q=r,u.t=o),this.sendRequest(f,u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const f={p:i,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+We(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Md("Unrecognized action received from server: "+We(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jN&&(this.reconnectDelay_=Tr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Ln.nextConnectionId_++,u=this.lastSessionId;let f=!1,m=null;const v=function(){m?m.close():(f=!0,r())},p=function(_){L(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(_)};this.realtime_={close:v,sendRequest:p};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,x]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);f?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=x&&x.token,m=new EN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,A=>{bt(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(ON)},u))}catch(_){this.log_("Failed to get token: "+_),f||(this.repoInfo_.nodeAdmin&&bt(_),v())}}}interrupt(t){nt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){nt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Go(this.interruptReasons_)&&(this.reconnectDelay_=Tr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(u=>mf(u)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new me(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){nt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Fv&&(this.reconnectDelay_=Vv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){nt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Fv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+vb.replace(/\./g,"-")]=1,uf()?t["framework.cordova"]=1:ub()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Yo.getInstance().currentlyOnline();return Go(this.interruptReasons_)&&t}}Ln.nextPersistentConnectionId_=0;Ln.nextConnectionId_=0;class ee{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ee(t,i)}}class bc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new ee(fa,t),o=new ee(fa,i);return this.compare(r,o)!==0}minPost(){return ee.MIN}}let Io;class qb extends bc{static get __EMPTY_NODE(){return Io}static set __EMPTY_NODE(t){Io=t}compare(t,i){return ls(t.name,i.name)}isDefinedOn(t){throw ya("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ee.MIN}maxPost(){return new ee(ns,Io)}makePost(t,i){return L(typeof t=="string","KeyIndex indexValue must always be a string."),new ee(t,Io)}toString(){return".key"}}const aa=new qb;class Ro{constructor(t,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=i?r(t.key,i):1,o&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Qe{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Qe.RED,this.left=o??vt.EMPTY_NODE,this.right=u??vt.EMPTY_NODE}copy(t,i,r,o,u){return new Qe(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class MN{copy(t,i,r,o,u){return this}insert(t,i,r){return new Qe(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(t,i=vt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new vt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(t){return new vt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ro(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Ro(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Ro(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Ro(this.root_,null,this.comparator_,!0,t)}}vt.EMPTY_NODE=new MN;function DN(s,t){return ls(s.name,t.name)}function xf(s,t){return ls(s,t)}let Ld;function LN(s){Ld=s}const Gb=function(s){return typeof s=="number"?"number:"+xb(s):"string:"+s},Vb=function(s){if(s.isLeafNode()){const t=s.val();L(typeof t=="string"||typeof t=="number"||typeof t=="object"&&cn(t,".sv"),"Priority must be a string or number.")}else L(s===Ld||s.isEmpty(),"priority of unexpected type.");L(s===Ld||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Yv;class Ke{static set __childrenNodeConstructor(t){Yv=t}static get __childrenNodeConstructor(){return Yv}constructor(t,i=Ke.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Vb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ke(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return $(t)?this:J(t)===".priority"?this.priorityNode_:Ke.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:Ke.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=J(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||Ni(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ke.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Gb(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=xb(this.value_):t+=this.value_,this.lazyHash_=bb(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ke.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ke.__childrenNodeConstructor?-1:(L(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=Ke.VALUE_TYPE_ORDER.indexOf(i),u=Ke.VALUE_TYPE_ORDER.indexOf(r);return L(o>=0,"Unknown leaf type: "+i),L(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Ke.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Fb,Yb;function zN(s){Fb=s}function UN(s){Yb=s}class BN extends bc{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?ls(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(ns,new Ke("[PRIORITY-POST]",Yb))}makePost(t,i){const r=Fb(t);return new ee(i,new Ke("[PRIORITY-POST]",r))}toString(){return".priority"}}const ke=new BN;const HN=Math.log(2);class PN{constructor(t){const i=u=>parseInt(Math.log(u)/HN,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ko=function(s,t,i,r){s.sort(t);const o=function(v,p){const b=p-v;let _,x;if(b===0)return null;if(b===1)return _=s[v],x=i?i(_):_,new Qe(x,_.node,Qe.BLACK,null,null);{const A=parseInt(b/2,10)+v,R=o(v,A),D=o(A+1,p);return _=s[A],x=i?i(_):_,new Qe(x,_.node,Qe.BLACK,R,D)}},u=function(v){let p=null,b=null,_=s.length;const x=function(R,D){const B=_-R,Q=_;_-=R;const ue=o(B+1,Q),W=s[B],Ae=i?i(W):W;A(new Qe(Ae,W.node,D,null,ue))},A=function(R){p?(p.left=R,p=R):(b=R,p=R)};for(let R=0;R<v.count;++R){const D=v.nextBitIsOne(),B=Math.pow(2,v.count-(R+1));D?x(B,Qe.BLACK):(x(B,Qe.BLACK),x(B,Qe.RED))}return b},f=new PN(s.length),m=u(f);return new vt(r||t,m)};let md;const Zs={};class On{static get Default(){return L(Zs&&ke,"ChildrenNode.ts has not been loaded"),md=md||new On({".priority":Zs},{".priority":ke}),md}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ha(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof vt?i:null}hasIndex(t){return cn(this.indexSet_,t.toString())}addIndex(t,i){L(t!==aa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(ee.Wrap);let f=u.getNext();for(;f;)o=o||t.isDefinedOn(f.node),r.push(f),f=u.getNext();let m;o?m=Ko(r,t.getCompare()):m=Zs;const v=t.toString(),p={...this.indexSet_};p[v]=t;const b={...this.indexes_};return b[v]=m,new On(b,p)}addToIndexes(t,i){const r=Vo(this.indexes_,(o,u)=>{const f=ha(this.indexSet_,u);if(L(f,"Missing index implementation for "+u),o===Zs)if(f.isDefinedOn(t.node)){const m=[],v=i.getIterator(ee.Wrap);let p=v.getNext();for(;p;)p.name!==t.name&&m.push(p),p=v.getNext();return m.push(t),Ko(m,f.getCompare())}else return Zs;else{const m=i.get(t.name);let v=o;return m&&(v=v.remove(new ee(t.name,m))),v.insert(t,t.node)}});return new On(r,this.indexSet_)}removeFromIndexes(t,i){const r=Vo(this.indexes_,o=>{if(o===Zs)return o;{const u=i.get(t.name);return u?o.remove(new ee(t.name,u)):o}});return new On(r,this.indexSet_)}}let Sr;class F{static get EMPTY_NODE(){return Sr||(Sr=new F(new vt(xf),null,On.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Vb(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sr}updatePriority(t){return this.children_.isEmpty()?this:new F(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Sr:i}}getChild(t){const i=J(t);return i===null?this:this.getImmediateChild(i).getChild(_e(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(L(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new ee(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?Sr:this.priorityNode_;return new F(o,f,u)}}updateChild(t,i){const r=J(t);if(r===null)return i;{L(J(t)!==".priority"||Ni(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(_e(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(ke,(f,m)=>{i[f]=m.val(t),r++,u&&F.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!t&&u&&o<2*r){const f=[];for(const m in i)f[m]=i[m];return f}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Gb(this.getPriority().val())+":"),this.forEachChild(ke,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":bb(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ee(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ee(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ee(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ee.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ee.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xr?-1:0}withIndex(t){if(t===aa||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new F(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===aa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(ke),o=i.getIterator(ke);let u=r.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===aa?null:this.indexMap_.get(t.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qN extends F{constructor(){super(new vt(xf),F.EMPTY_NODE,On.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return F.EMPTY_NODE}isEmpty(){return!1}}const Xr=new qN;Object.defineProperties(ee,{MIN:{value:new ee(fa,F.EMPTY_NODE)},MAX:{value:new ee(ns,Xr)}});qb.__EMPTY_NODE=F.EMPTY_NODE;Ke.__childrenNodeConstructor=F;LN(Xr);UN(Xr);const GN=!0;function Pe(s,t=null){if(s===null)return F.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),L(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new Ke(i,Pe(t))}if(!(s instanceof Array)&&GN){const i=[];let r=!1;if(st(s,(f,m)=>{if(f.substring(0,1)!=="."){const v=Pe(m);v.isEmpty()||(r=r||!v.getPriority().isEmpty(),i.push(new ee(f,v)))}}),i.length===0)return F.EMPTY_NODE;const u=Ko(i,DN,f=>f.name,xf);if(r){const f=Ko(i,ke.getCompare());return new F(u,Pe(t),new On({".priority":f},{".priority":ke}))}else return new F(u,Pe(t),On.Default)}else{let i=F.EMPTY_NODE;return st(s,(r,o)=>{if(cn(s,r)&&r.substring(0,1)!=="."){const u=Pe(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(Pe(t))}}zN(Pe);class VN extends bc{constructor(t){super(),this.indexPath_=t,L(!$(t)&&J(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?ls(t.name,i.name):u}makePost(t,i){const r=Pe(t),o=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(i,o)}maxPost(){const t=F.EMPTY_NODE.updateChild(this.indexPath_,Xr);return new ee(ns,t)}toString(){return Ur(this.indexPath_,0).join("/")}}class FN extends bc{compare(t,i){const r=t.node.compareTo(i.node);return r===0?ls(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(t,i){const r=Pe(t);return new ee(i,r)}toString(){return".value"}}const YN=new FN;function Kb(s){return{type:"value",snapshotNode:s}}function ma(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Br(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Hr(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function KN(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}class Tf{constructor(t){this.index_=t}updateChild(t,i,r,o,u,f){L(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?t.hasChild(i)?f.trackChildChange(Br(i,m)):L(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?f.trackChildChange(ma(i,r)):f.trackChildChange(Hr(i,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ke,(o,u)=>{i.hasChild(o)||r.trackChildChange(Br(o,u))}),i.isLeafNode()||i.forEachChild(ke,(o,u)=>{if(t.hasChild(o)){const f=t.getImmediateChild(o);f.equals(u)||r.trackChildChange(Hr(o,u,f))}else r.trackChildChange(ma(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?F.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pr{constructor(t){this.indexedFilter_=new Tf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pr.getStartPost_(t),this.endPost_=Pr.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,u,f){return this.matches(new ee(i,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,u,f)}updateFullNode(t,i,r){i.isLeafNode()&&(i=F.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(F.EMPTY_NODE);const u=this;return i.forEachChild(ke,(f,m)=>{u.matches(new ee(f,m))||(o=o.updateImmediateChild(f,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class QN{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Pr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,u,f){return this.rangedFilter_.matches(new ee(i,r))||(r=F.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,u,f):this.fullLimitUpdateChild_(t,i,r,u,f)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=F.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),f++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(F.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const m=u.getNext();f<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?f++:o=o.updateImmediateChild(m.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,u){let f;if(this.reverse_){const _=this.index_.getCompare();f=(x,A)=>_(A,x)}else f=this.index_.getCompare();const m=t;L(m.numChildren()===this.limit_,"");const v=new ee(i,r),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),b=this.rangedFilter_.matches(v);if(m.hasChild(i)){const _=m.getImmediateChild(i);let x=o.getChildAfterChild(this.index_,p,this.reverse_);for(;x!=null&&(x.name===i||m.hasChild(x.name));)x=o.getChildAfterChild(this.index_,x,this.reverse_);const A=x==null?1:f(x,v);if(b&&!r.isEmpty()&&A>=0)return u?.trackChildChange(Hr(i,r,_)),m.updateImmediateChild(i,r);{u?.trackChildChange(Br(i,_));const D=m.updateImmediateChild(i,F.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(u?.trackChildChange(ma(x.name,x.node)),D.updateImmediateChild(x.name,x.node)):D}}else return r.isEmpty()?t:b&&f(p,v)>=0?(u!=null&&(u.trackChildChange(Br(p.name,p.node)),u.trackChildChange(ma(i,r))),m.updateImmediateChild(i,r).updateImmediateChild(p.name,F.EMPTY_NODE)):t}}class Sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fa}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ns}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){const t=new Sf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function WN(s){return s.loadsAllData()?new Tf(s.getIndex()):s.hasLimit()?new QN(s):new Pr(s)}function XN(s,t){const i=s.copy();return i.limitSet_=!0,i.limit_=t,i.viewFrom_="r",i}function Kv(s){const t={};if(s.isDefault())return t;let i;if(s.index_===ke?i="$priority":s.index_===YN?i="$value":s.index_===aa?i="$key":(L(s.index_ instanceof VN,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=We(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=We(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+We(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=We(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+We(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function Qv(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==ke&&(t.i=s.index_.toString()),t}class Qo extends Ub{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(L(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Wr("p:rest:"),this.listens_={}}listen(t,i,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=Qo.getListenId_(t,r),m={};this.listens_[f]=m;const v=Kv(t._queryParams);this.restRequest_(u+".json",v,(p,b)=>{let _=b;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(u,_,!1,r),ha(this.listens_,f)===m){let x;p?p===401?x="permission_denied":x="rest_error:"+p:x="ok",o(x,null)}})}unlisten(t,i){const r=Qo.getListenId_(t,i);delete this.listens_[r]}get(t){const i=Kv(t._queryParams),r=t._path.toString(),o=new kn;return this.restRequest_(r+".json",i,(u,f)=>{let m=f;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ba(i);this.log_("Sending REST request for "+f);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+f+" received. status:",m.status,"response:",m.responseText);let v=null;if(m.status>=200&&m.status<300){try{v=Mr(m.responseText)}catch{bt("Failed to parse JSON response for "+f+": "+m.responseText)}r(null,v)}else m.status!==401&&m.status!==404&&bt("Got unsuccessful REST response for "+f+" Status: "+m.status),r(m.status);r=null}},m.open("GET",f,!0),m.send()})}}class ZN{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function Wo(){return{value:null,children:new Map}}function Ta(s,t,i){if($(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=J(t);s.children.has(r)||s.children.set(r,Wo());const o=s.children.get(r);t=_e(t),Ta(o,t,i)}}function zd(s,t){if($(t))return s.value=null,s.children.clear(),!0;if(s.value!==null){if(s.value.isLeafNode())return!1;{const i=s.value;return s.value=null,i.forEachChild(ke,(r,o)=>{Ta(s,new me(r),o)}),zd(s,t)}}else if(s.children.size>0){const i=J(t);return t=_e(t),s.children.has(i)&&zd(s.children.get(i),t)&&s.children.delete(i),s.children.size===0}else return!0}function Ud(s,t,i){s.value!==null?i(t,s.value):JN(s,(r,o)=>{const u=new me(t.toString()+"/"+r);Ud(o,u,i)})}function JN(s,t){s.children.forEach((i,r)=>{t(r,i)})}class $N{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&st(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}const Wv=10*1e3,eC=30*1e3,tC=300*1e3;class nC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new $N(t);const r=Wv+(eC-Wv)*Math.random();Ar(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;st(t,(o,u)=>{u>0&&cn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Ar(this.reportStats_.bind(this),Math.floor(Math.random()*2*tC))}}var Zt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zt||(Zt={}));function Qb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ef(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Xo{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=Zt.ACK_USER_WRITE,this.source=Qb()}operationForChild(t){if($(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new me(t));return new Xo(ce(),i,this.revert)}}else return L(J(this.path)===t,"operationForChild called for unrelated child."),new Xo(_e(this.path),this.affectedTree,this.revert)}}class qr{constructor(t,i){this.source=t,this.path=i,this.type=Zt.LISTEN_COMPLETE}operationForChild(t){return $(this.path)?new qr(this.source,ce()):new qr(this.source,_e(this.path))}}class is{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=Zt.OVERWRITE}operationForChild(t){return $(this.path)?new is(this.source,ce(),this.snap.getImmediateChild(t)):new is(this.source,_e(this.path),this.snap)}}class Gr{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=Zt.MERGE}operationForChild(t){if($(this.path)){const i=this.children.subtree(new me(t));return i.isEmpty()?null:i.value?new is(this.source,ce(),i.value):new Gr(this.source,ce(),i)}else return L(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Gr(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ss{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;const i=J(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class iC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sC(s,t,i,r){const o=[],u=[];return t.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(KN(f.childName,f.snapshotNode))}),Er(s,o,"child_removed",t,r,i),Er(s,o,"child_added",t,r,i),Er(s,o,"child_moved",u,r,i),Er(s,o,"child_changed",t,r,i),Er(s,o,"value",t,r,i),o}function Er(s,t,i,r,o,u){const f=r.filter(m=>m.type===i);f.sort((m,v)=>rC(s,m,v)),f.forEach(m=>{const v=aC(s,m,u);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(v,s.query_))})})}function aC(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function rC(s,t,i){if(t.childName==null||i.childName==null)throw ya("Should only compare child_ events.");const r=new ee(t.childName,t.snapshotNode),o=new ee(i.childName,i.snapshotNode);return s.index_.compare(r,o)}function _c(s,t){return{eventCache:s,serverCache:t}}function Ir(s,t,i,r){return _c(new ss(t,i,r),s.serverCache)}function Wb(s,t,i,r){return _c(s.eventCache,new ss(t,i,r))}function Bd(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function as(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let gd;const lC=()=>(gd||(gd=new vt(Vw)),gd);class Ce{static fromObject(t){let i=new Ce(null);return st(t,(r,o)=>{i=i.set(new me(r),o)}),i}constructor(t,i=lC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ce(),value:this.value};if($(t))return null;{const r=J(t),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(_e(t),i);return u!=null?{path:Le(new me(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($(t))return this;{const i=J(t),r=this.children.get(i);return r!==null?r.subtree(_e(t)):new Ce(null)}}set(t,i){if($(t))return new Ce(i,this.children);{const r=J(t),u=(this.children.get(r)||new Ce(null)).set(_e(t),i),f=this.children.insert(r,u);return new Ce(this.value,f)}}remove(t){if($(t))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const i=J(t),r=this.children.get(i);if(r){const o=r.remove(_e(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Ce(null):new Ce(this.value,u)}else return this}}get(t){if($(t))return this.value;{const i=J(t),r=this.children.get(i);return r?r.get(_e(t)):null}}setTree(t,i){if($(t))return i;{const r=J(t),u=(this.children.get(r)||new Ce(null)).setTree(_e(t),i);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new Ce(this.value,f)}}fold(t){return this.fold_(ce(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Le(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,ce(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if($(t))return null;{const u=J(t),f=this.children.get(u);return f?f.findOnPath_(_e(t),Le(i,u),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ce(),i)}foreachOnPath_(t,i,r){if($(t))return this;{this.value&&r(i,this.value);const o=J(t),u=this.children.get(o);return u?u.foreachOnPath_(_e(t),Le(i,o),r):new Ce(null)}}foreach(t){this.foreach_(ce(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_(Le(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}class $t{constructor(t){this.writeTree_=t}static empty(){return new $t(new Ce(null))}}function Rr(s,t,i){if($(t))return new $t(new Ce(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let u=r.value;const f=pt(o,t);return u=u.updateChild(f,i),new $t(s.writeTree_.set(o,u))}else{const o=new Ce(i),u=s.writeTree_.setTree(t,o);return new $t(u)}}}function Xv(s,t,i){let r=s;return st(i,(o,u)=>{r=Rr(r,Le(t,o),u)}),r}function Zv(s,t){if($(t))return $t.empty();{const i=s.writeTree_.setTree(t,new Ce(null));return new $t(i)}}function Hd(s,t){return os(s,t)!=null}function os(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(pt(i.path,t)):null}function Jv(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(ke,(r,o)=>{t.push(new ee(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new ee(r,o.value))}),t}function Ei(s,t){if($(t))return s;{const i=os(s,t);return i!=null?new $t(new Ce(i)):new $t(s.writeTree_.subtree(t))}}function Pd(s){return s.writeTree_.isEmpty()}function ga(s,t){return Xb(ce(),s.writeTree_,t)}function Xb(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(L(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=Xb(Le(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(Le(s,".priority"),r)),i}}function Nf(s,t){return e_(t,s)}function oC(s,t,i,r,o){L(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=Rr(s.visibleWrites,t,i)),s.lastWriteId=r}function cC(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function uC(s,t){const i=s.allWrites.findIndex(m=>m.writeId===t);L(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,f=s.allWrites.length-1;for(;o&&f>=0;){const m=s.allWrites[f];m.visible&&(f>=i&&hC(m,r.path)?o=!1:Gt(r.path,m.path)&&(u=!0)),f--}if(o){if(u)return dC(s),!0;if(r.snap)s.visibleWrites=Zv(s.visibleWrites,r.path);else{const m=r.children;st(m,v=>{s.visibleWrites=Zv(s.visibleWrites,Le(r.path,v))})}return!0}else return!1}function hC(s,t){if(s.snap)return Gt(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&Gt(Le(s.path,i),t))return!0;return!1}function dC(s){s.visibleWrites=Zb(s.allWrites,fC,ce()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function fC(s){return s.visible}function Zb(s,t,i){let r=$t.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const f=u.path;let m;if(u.snap)Gt(i,f)?(m=pt(i,f),r=Rr(r,m,u.snap)):Gt(f,i)&&(m=pt(f,i),r=Rr(r,ce(),u.snap.getChild(m)));else if(u.children){if(Gt(i,f))m=pt(i,f),r=Xv(r,m,u.children);else if(Gt(f,i))if(m=pt(f,i),$(m))r=Xv(r,ce(),u.children);else{const v=ha(u.children,J(m));if(v){const p=v.getChild(_e(m));r=Rr(r,ce(),p)}}}else throw ya("WriteRecord should have .snap or .children")}}return r}function Jb(s,t,i,r,o){if(!r&&!o){const u=os(s.visibleWrites,t);if(u!=null)return u;{const f=Ei(s.visibleWrites,t);if(Pd(f))return i;if(i==null&&!Hd(f,ce()))return null;{const m=i||F.EMPTY_NODE;return ga(f,m)}}}else{const u=Ei(s.visibleWrites,t);if(!o&&Pd(u))return i;if(!o&&i==null&&!Hd(u,ce()))return null;{const f=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(Gt(p.path,t)||Gt(t,p.path))},m=Zb(s.allWrites,f,t),v=i||F.EMPTY_NODE;return ga(m,v)}}}function mC(s,t,i){let r=F.EMPTY_NODE;const o=os(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ke,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(i){const u=Ei(s.visibleWrites,t);return i.forEachChild(ke,(f,m)=>{const v=ga(Ei(u,new me(f)),m);r=r.updateImmediateChild(f,v)}),Jv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=Ei(s.visibleWrites,t);return Jv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function gC(s,t,i,r,o){L(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Le(t,i);if(Hd(s.visibleWrites,u))return null;{const f=Ei(s.visibleWrites,u);return Pd(f)?o.getChild(i):ga(f,o.getChild(i))}}function pC(s,t,i,r){const o=Le(t,i),u=os(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const f=Ei(s.visibleWrites,o);return ga(f,r.getNode().getImmediateChild(i))}else return null}function vC(s,t){return os(s.visibleWrites,t)}function yC(s,t,i,r,o,u,f){let m;const v=Ei(s.visibleWrites,t),p=os(v,ce());if(p!=null)m=p;else if(i!=null)m=ga(v,i);else return[];if(m=m.withIndex(f),!m.isEmpty()&&!m.isLeafNode()){const b=[],_=f.getCompare(),x=u?m.getReverseIteratorFrom(r,f):m.getIteratorFrom(r,f);let A=x.getNext();for(;A&&b.length<o;)_(A,r)!==0&&b.push(A),A=x.getNext();return b}else return[]}function bC(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Zo(s,t,i,r){return Jb(s.writeTree,s.treePath,t,i,r)}function Cf(s,t){return mC(s.writeTree,s.treePath,t)}function $v(s,t,i,r){return gC(s.writeTree,s.treePath,t,i,r)}function Jo(s,t){return vC(s.writeTree,Le(s.treePath,t))}function _C(s,t,i,r,o,u){return yC(s.writeTree,s.treePath,t,i,r,o,u)}function Af(s,t,i){return pC(s.writeTree,s.treePath,t,i)}function $b(s,t){return e_(Le(s.treePath,t),s.writeTree)}function e_(s,t){return{treePath:s,writeTree:t}}class xC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;L(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Hr(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Br(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,ma(r,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Hr(r,t.snapshotNode,o.oldSnap));else throw ya("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}class TC{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const t_=new TC;class If{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Af(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:as(this.viewCache_),u=_C(this.writes_,o,i,1,r,t);return u.length===0?null:u[0]}}function SC(s){return{filter:s}}function EC(s,t){L(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),L(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function wC(s,t,i,r,o){const u=new xC;let f,m;if(i.type===Zt.OVERWRITE){const p=i;p.source.fromUser?f=qd(s,t,p.path,p.snap,r,o,u):(L(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!$(p.path),f=$o(s,t,p.path,p.snap,r,o,m,u))}else if(i.type===Zt.MERGE){const p=i;p.source.fromUser?f=CC(s,t,p.path,p.children,r,o,u):(L(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),f=Gd(s,t,p.path,p.children,r,o,m,u))}else if(i.type===Zt.ACK_USER_WRITE){const p=i;p.revert?f=RC(s,t,p.path,r,o,u):f=AC(s,t,p.path,p.affectedTree,r,o,u)}else if(i.type===Zt.LISTEN_COMPLETE)f=IC(s,t,i.path,r,u);else throw ya("Unknown operation type: "+i.type);const v=u.getChanges();return NC(t,f,v),{viewCache:f,changes:v}}function NC(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Bd(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(Kb(Bd(t)))}}function n_(s,t,i,r,o,u){const f=t.eventCache;if(Jo(r,i)!=null)return t;{let m,v;if($(i))if(L(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=as(t),b=p instanceof F?p:F.EMPTY_NODE,_=Cf(r,b);m=s.filter.updateFullNode(t.eventCache.getNode(),_,u)}else{const p=Zo(r,as(t));m=s.filter.updateFullNode(t.eventCache.getNode(),p,u)}else{const p=J(i);if(p===".priority"){L(Ni(i)===1,"Can't have a priority with additional path components");const b=f.getNode();v=t.serverCache.getNode();const _=$v(r,i,b,v);_!=null?m=s.filter.updatePriority(b,_):m=f.getNode()}else{const b=_e(i);let _;if(f.isCompleteForChild(p)){v=t.serverCache.getNode();const x=$v(r,i,f.getNode(),v);x!=null?_=f.getNode().getImmediateChild(p).updateChild(b,x):_=f.getNode().getImmediateChild(p)}else _=Af(r,p,t.serverCache);_!=null?m=s.filter.updateChild(f.getNode(),p,_,b,o,u):m=f.getNode()}}return Ir(t,m,f.isFullyInitialized()||$(i),s.filter.filtersNodes())}}function $o(s,t,i,r,o,u,f,m){const v=t.serverCache;let p;const b=f?s.filter:s.filter.getIndexedFilter();if($(i))p=b.updateFullNode(v.getNode(),r,null);else if(b.filtersNodes()&&!v.isFiltered()){const A=v.getNode().updateChild(i,r);p=b.updateFullNode(v.getNode(),A,null)}else{const A=J(i);if(!v.isCompleteForPath(i)&&Ni(i)>1)return t;const R=_e(i),B=v.getNode().getImmediateChild(A).updateChild(R,r);A===".priority"?p=b.updatePriority(v.getNode(),B):p=b.updateChild(v.getNode(),A,B,R,t_,null)}const _=Wb(t,p,v.isFullyInitialized()||$(i),b.filtersNodes()),x=new If(o,_,u);return n_(s,_,i,o,x,m)}function qd(s,t,i,r,o,u,f){const m=t.eventCache;let v,p;const b=new If(o,t,u);if($(i))p=s.filter.updateFullNode(t.eventCache.getNode(),r,f),v=Ir(t,p,!0,s.filter.filtersNodes());else{const _=J(i);if(_===".priority")p=s.filter.updatePriority(t.eventCache.getNode(),r),v=Ir(t,p,m.isFullyInitialized(),m.isFiltered());else{const x=_e(i),A=m.getNode().getImmediateChild(_);let R;if($(x))R=r;else{const D=b.getCompleteChild(_);D!=null?yf(x)===".priority"&&D.getChild(Hb(x)).isEmpty()?R=D:R=D.updateChild(x,r):R=F.EMPTY_NODE}if(A.equals(R))v=t;else{const D=s.filter.updateChild(m.getNode(),_,R,x,b,f);v=Ir(t,D,m.isFullyInitialized(),s.filter.filtersNodes())}}}return v}function ey(s,t){return s.eventCache.isCompleteForChild(t)}function CC(s,t,i,r,o,u,f){let m=t;return r.foreach((v,p)=>{const b=Le(i,v);ey(t,J(b))&&(m=qd(s,m,b,p,o,u,f))}),r.foreach((v,p)=>{const b=Le(i,v);ey(t,J(b))||(m=qd(s,m,b,p,o,u,f))}),m}function ty(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Gd(s,t,i,r,o,u,f,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v=t,p;$(i)?p=r:p=new Ce(null).setTree(i,r);const b=t.serverCache.getNode();return p.children.inorderTraversal((_,x)=>{if(b.hasChild(_)){const A=t.serverCache.getNode().getImmediateChild(_),R=ty(s,A,x);v=$o(s,v,new me(_),R,o,u,f,m)}}),p.children.inorderTraversal((_,x)=>{const A=!t.serverCache.isCompleteForChild(_)&&x.value===null;if(!b.hasChild(_)&&!A){const R=t.serverCache.getNode().getImmediateChild(_),D=ty(s,R,x);v=$o(s,v,new me(_),D,o,u,f,m)}}),v}function AC(s,t,i,r,o,u,f){if(Jo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),v=t.serverCache;if(r.value!=null){if($(i)&&v.isFullyInitialized()||v.isCompleteForPath(i))return $o(s,t,i,v.getNode().getChild(i),o,u,m,f);if($(i)){let p=new Ce(null);return v.getNode().forEachChild(aa,(b,_)=>{p=p.set(new me(b),_)}),Gd(s,t,i,p,o,u,m,f)}else return t}else{let p=new Ce(null);return r.foreach((b,_)=>{const x=Le(i,b);v.isCompleteForPath(x)&&(p=p.set(b,v.getNode().getChild(x)))}),Gd(s,t,i,p,o,u,m,f)}}function IC(s,t,i,r,o){const u=t.serverCache,f=Wb(t,u.getNode(),u.isFullyInitialized()||$(i),u.isFiltered());return n_(s,f,i,r,t_,o)}function RC(s,t,i,r,o,u){let f;if(Jo(r,i)!=null)return t;{const m=new If(r,t,o),v=t.eventCache.getNode();let p;if($(i)||J(i)===".priority"){let b;if(t.serverCache.isFullyInitialized())b=Zo(r,as(t));else{const _=t.serverCache.getNode();L(_ instanceof F,"serverChildren would be complete if leaf node"),b=Cf(r,_)}b=b,p=s.filter.updateFullNode(v,b,u)}else{const b=J(i);let _=Af(r,b,t.serverCache);_==null&&t.serverCache.isCompleteForChild(b)&&(_=v.getImmediateChild(b)),_!=null?p=s.filter.updateChild(v,b,_,_e(i),m,u):t.eventCache.getNode().hasChild(b)?p=s.filter.updateChild(v,b,F.EMPTY_NODE,_e(i),m,u):p=v,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Zo(r,as(t)),f.isLeafNode()&&(p=s.filter.updateFullNode(p,f,u)))}return f=t.serverCache.isFullyInitialized()||Jo(r,ce())!=null,Ir(t,p,f,s.filter.filtersNodes())}}class kC{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Tf(r.getIndex()),u=WN(r);this.processor_=SC(u);const f=i.serverCache,m=i.eventCache,v=o.updateFullNode(F.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(F.EMPTY_NODE,m.getNode(),null),b=new ss(v,f.isFullyInitialized(),o.filtersNodes()),_=new ss(p,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=_c(_,b),this.eventGenerator_=new iC(this.query_)}get query(){return this.query_}}function jC(s){return s.viewCache_.serverCache.getNode()}function OC(s,t){const i=as(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!$(t)&&!i.getImmediateChild(J(t)).isEmpty())?i.getChild(t):null}function ny(s){return s.eventRegistrations_.length===0}function MC(s,t){s.eventRegistrations_.push(t)}function iy(s,t,i){const r=[];if(i){L(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,o);f&&r.push(f)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(t))o.push(f);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function sy(s,t,i,r){t.type===Zt.MERGE&&t.source.queryId!==null&&(L(as(s.viewCache_),"We should always have a full cache before handling merges"),L(Bd(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=wC(s.processor_,o,t,i,r);return EC(s.processor_,u.viewCache),L(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,i_(s,u.changes,u.viewCache.eventCache.getNode(),null)}function DC(s,t){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(ke,(u,f)=>{r.push(ma(u,f))}),i.isFullyInitialized()&&r.push(Kb(i.getNode())),i_(s,r,i.getNode(),t)}function i_(s,t,i,r){const o=r?[r]:s.eventRegistrations_;return sC(s.eventGenerator_,t,i,o)}let ec;class LC{constructor(){this.views=new Map}}function zC(s){L(!ec,"__referenceConstructor has already been defined"),ec=s}function UC(){return L(ec,"Reference.ts has not been loaded"),ec}function BC(s){return s.views.size===0}function Rf(s,t,i,r){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return L(u!=null,"SyncTree gave us an op for an invalid query."),sy(u,t,i,r)}else{let u=[];for(const f of s.views.values())u=u.concat(sy(f,t,i,r));return u}}function HC(s,t,i,r,o){const u=t._queryIdentifier,f=s.views.get(u);if(!f){let m=Zo(i,o?r:null),v=!1;m?v=!0:r instanceof F?(m=Cf(i,r),v=!1):(m=F.EMPTY_NODE,v=!1);const p=_c(new ss(m,v,!1),new ss(r,o,!1));return new kC(t,p)}return f}function PC(s,t,i,r,o,u){const f=HC(s,t,r,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,f),MC(f,i),DC(f,i)}function qC(s,t,i,r){const o=t._queryIdentifier,u=[];let f=[];const m=Ci(s);if(o==="default")for(const[v,p]of s.views.entries())f=f.concat(iy(p,i,r)),ny(p)&&(s.views.delete(v),p.query._queryParams.loadsAllData()||u.push(p.query));else{const v=s.views.get(o);v&&(f=f.concat(iy(v,i,r)),ny(v)&&(s.views.delete(o),v.query._queryParams.loadsAllData()||u.push(v.query)))}return m&&!Ci(s)&&u.push(new(UC())(t._repo,t._path)),{removed:u,events:f}}function s_(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function ra(s,t){let i=null;for(const r of s.views.values())i=i||OC(r,t);return i}function a_(s,t){if(t._queryParams.loadsAllData())return xc(s);{const r=t._queryIdentifier;return s.views.get(r)}}function r_(s,t){return a_(s,t)!=null}function Ci(s){return xc(s)!=null}function xc(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let tc;function GC(s){L(!tc,"__referenceConstructor has already been defined"),tc=s}function VC(){return L(tc,"Reference.ts has not been loaded"),tc}let FC=1;class ay{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=bC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function l_(s,t,i,r,o){return oC(s.pendingWriteTree_,t,i,r,o),o?Zr(s,new is(Qb(),t,i)):[]}function $i(s,t,i=!1){const r=cC(s.pendingWriteTree_,t);if(uC(s.pendingWriteTree_,t)){let u=new Ce(null);return r.snap!=null?u=u.set(ce(),!0):st(r.children,f=>{u=u.set(new me(f),!0)}),Zr(s,new Xo(r.path,u,i))}else return[]}function Tc(s,t,i){return Zr(s,new is(Ef(),t,i))}function YC(s,t,i){const r=Ce.fromObject(i);return Zr(s,new Gr(Ef(),t,r))}function KC(s,t){return Zr(s,new qr(Ef(),t))}function QC(s,t,i){const r=jf(s,i);if(r){const o=Of(r),u=o.path,f=o.queryId,m=pt(u,t),v=new qr(wf(f),m);return Mf(s,u,v)}else return[]}function Vd(s,t,i,r,o=!1){const u=t._path,f=s.syncPointTree_.get(u);let m=[];if(f&&(t._queryIdentifier==="default"||r_(f,t))){const v=qC(f,t,i,r);BC(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const p=v.removed;if(m=v.events,!o){const b=p.findIndex(x=>x._queryParams.loadsAllData())!==-1,_=s.syncPointTree_.findOnPath(u,(x,A)=>Ci(A));if(b&&!_){const x=s.syncPointTree_.subtree(u);if(!x.isEmpty()){const A=ZC(x);for(let R=0;R<A.length;++R){const D=A[R],B=D.query,Q=u_(s,D);s.listenProvider_.startListening(kr(B),nc(s,B),Q.hashFn,Q.onComplete)}}}!_&&p.length>0&&!r&&(b?s.listenProvider_.stopListening(kr(t),null):p.forEach(x=>{const A=s.queryToTagMap.get(Sc(x));s.listenProvider_.stopListening(kr(x),A)}))}JC(s,p)}return m}function WC(s,t,i,r){const o=jf(s,r);if(o!=null){const u=Of(o),f=u.path,m=u.queryId,v=pt(f,t),p=new is(wf(m),v,i);return Mf(s,f,p)}else return[]}function XC(s,t,i,r){const o=jf(s,r);if(o){const u=Of(o),f=u.path,m=u.queryId,v=pt(f,t),p=Ce.fromObject(i),b=new Gr(wf(m),v,p);return Mf(s,f,b)}else return[]}function ry(s,t,i,r=!1){const o=t._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(o,(x,A)=>{const R=pt(x,o);u=u||ra(A,R),f=f||Ci(A)});let m=s.syncPointTree_.get(o);m?(f=f||Ci(m),u=u||ra(m,ce())):(m=new LC,s.syncPointTree_=s.syncPointTree_.set(o,m));let v;u!=null?v=!0:(v=!1,u=F.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((A,R)=>{const D=ra(R,ce());D&&(u=u.updateImmediateChild(A,D))}));const p=r_(m,t);if(!p&&!t._queryParams.loadsAllData()){const x=Sc(t);L(!s.queryToTagMap.has(x),"View does not exist, but we have a tag");const A=$C();s.queryToTagMap.set(x,A),s.tagToQueryMap.set(A,x)}const b=Nf(s.pendingWriteTree_,o);let _=PC(m,t,i,b,u,v);if(!p&&!f&&!r){const x=a_(m,t);_=_.concat(e2(s,t,x))}return _}function kf(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(f,m)=>{const v=pt(f,t),p=ra(m,v);if(p)return p});return Jb(o,t,u,i,!0)}function Zr(s,t){return o_(t,s.syncPointTree_,null,Nf(s.pendingWriteTree_,ce()))}function o_(s,t,i,r){if($(s.path))return c_(s,t,i,r);{const o=t.get(ce());i==null&&o!=null&&(i=ra(o,ce()));let u=[];const f=J(s.path),m=s.operationForChild(f),v=t.children.get(f);if(v&&m){const p=i?i.getImmediateChild(f):null,b=$b(r,f);u=u.concat(o_(m,v,p,b))}return o&&(u=u.concat(Rf(o,s,r,i))),u}}function c_(s,t,i,r){const o=t.get(ce());i==null&&o!=null&&(i=ra(o,ce()));let u=[];return t.children.inorderTraversal((f,m)=>{const v=i?i.getImmediateChild(f):null,p=$b(r,f),b=s.operationForChild(f);b&&(u=u.concat(c_(b,m,v,p)))}),o&&(u=u.concat(Rf(o,s,r,i))),u}function u_(s,t){const i=t.query,r=nc(s,i);return{hashFn:()=>(jC(t)||F.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?QC(s,i._path,r):KC(s,i._path);{const u=Kw(o,i);return Vd(s,i,null,u)}}}}function nc(s,t){const i=Sc(t);return s.queryToTagMap.get(i)}function Sc(s){return s._path.toString()+"$"+s._queryIdentifier}function jf(s,t){return s.tagToQueryMap.get(t)}function Of(s){const t=s.indexOf("$");return L(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new me(s.substr(0,t))}}function Mf(s,t,i){const r=s.syncPointTree_.get(t);L(r,"Missing sync point for query tag that we're tracking");const o=Nf(s.pendingWriteTree_,t);return Rf(r,i,o,null)}function ZC(s){return s.fold((t,i,r)=>{if(i&&Ci(i))return[xc(i)];{let o=[];return i&&(o=s_(i)),st(r,(u,f)=>{o=o.concat(f)}),o}})}function kr(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(VC())(s._repo,s._path):s}function JC(s,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=Sc(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function $C(){return FC++}function e2(s,t,i){const r=t._path,o=nc(s,t),u=u_(s,i),f=s.listenProvider_.startListening(kr(t),o,u.hashFn,u.onComplete),m=s.syncPointTree_.subtree(r);if(o)L(!Ci(m.value),"If we're adding a query, it shouldn't be shadowed");else{const v=m.fold((p,b,_)=>{if(!$(p)&&b&&Ci(b))return[xc(b).query];{let x=[];return b&&(x=x.concat(s_(b).map(A=>A.query))),st(_,(A,R)=>{x=x.concat(R)}),x}});for(let p=0;p<v.length;++p){const b=v[p];s.listenProvider_.stopListening(kr(b),nc(s,b))}}return f}class Df{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Df(i)}node(){return this.node_}}class Lf{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Le(this.path_,t);return new Lf(this.syncTree_,i)}node(){return kf(this.syncTree_,this.path_)}}const t2=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},ly=function(s,t,i){if(!s||typeof s!="object")return s;if(L(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return n2(s[".sv"],t,i);if(typeof s[".sv"]=="object")return i2(s[".sv"],t);L(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},n2=function(s,t,i){if(s==="timestamp")return i.timestamp;L(!1,"Unexpected server value: "+s)},i2=function(s,t,i){s.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const o=t.node();if(L(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},s2=function(s,t,i,r){return zf(t,new Lf(i,s),r)},h_=function(s,t,i){return zf(s,new Df(t),i)};function zf(s,t,i){const r=s.getPriority().val(),o=ly(r,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,m=ly(f.getValue(),t,i);return m!==f.getValue()||o!==f.getPriority().val()?new Ke(m,Pe(o)):s}else{const f=s;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new Ke(o))),f.forEachChild(ke,(m,v)=>{const p=zf(v,t.getImmediateChild(m),i);p!==v&&(u=u.updateImmediateChild(m,p))}),u}}class Uf{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function Bf(s,t){let i=t instanceof me?t:new me(t),r=s,o=J(i);for(;o!==null;){const u=ha(r.node.children,o)||{children:{},childCount:0};r=new Uf(o,r,u),i=_e(i),o=J(i)}return r}function Sa(s){return s.node.value}function d_(s,t){s.node.value=t,Fd(s)}function f_(s){return s.node.childCount>0}function a2(s){return Sa(s)===void 0&&!f_(s)}function Ec(s,t){st(s.node.children,(i,r)=>{t(new Uf(i,s,r))})}function m_(s,t,i,r){i&&t(s),Ec(s,o=>{m_(o,t,!0)})}function r2(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Jr(s){return new me(s.parent===null?s.name:Jr(s.parent)+"/"+s.name)}function Fd(s){s.parent!==null&&l2(s.parent,s.name,s)}function l2(s,t,i){const r=a2(i),o=cn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,Fd(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,Fd(s))}const o2=/[\[\].#$\/\u0000-\u001F\u007F]/,c2=/[\[\].#$\u0000-\u001F\u007F]/,pd=10*1024*1024,Hf=function(s){return typeof s=="string"&&s.length!==0&&!o2.test(s)},g_=function(s){return typeof s=="string"&&s.length!==0&&!c2.test(s)},u2=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),g_(s)},p_=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!yc(s)||s&&typeof s=="object"&&cn(s,".sv")},ic=function(s,t,i,r){r&&t===void 0||wc(da(s,"value"),t,i)},wc=function(s,t,i){const r=i instanceof me?new CN(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Zi(r));if(typeof t=="function")throw new Error(s+"contains a function "+Zi(r)+" with contents = "+t.toString());if(yc(t))throw new Error(s+"contains "+t.toString()+" "+Zi(r));if(typeof t=="string"&&t.length>pd/3&&gc(t)>pd)throw new Error(s+"contains a string greater than "+pd+" utf8 bytes "+Zi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(st(t,(f,m)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Hf(f)))throw new Error(s+" contains an invalid key ("+f+") "+Zi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);AN(r,f),wc(s,m,r),IN(r)}),o&&u)throw new Error(s+' contains ".value" child '+Zi(r)+" in addition to actual children.")}},h2=function(s,t){let i,r;for(i=0;i<t.length;i++){r=t[i];const u=Ur(r);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!Hf(u[f]))throw new Error(s+"contains an invalid key ("+u[f]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(NN);let o=null;for(i=0;i<t.length;i++){if(r=t[i],o!==null&&Gt(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},d2=function(s,t,i,r){const o=da(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];st(t,(f,m)=>{const v=new me(f);if(wc(o,m,Le(i,v)),yf(v)===".priority"&&!p_(m))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(v)}),h2(o,u)},f2=function(s,t,i){if(yc(t))throw new Error(da(s,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!p_(t))throw new Error(da(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},v_=function(s,t,i,r){if(!g_(i))throw new Error(da(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},m2=function(s,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),v_(s,t,i)},ea=function(s,t){if(J(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},g2=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Hf(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!u2(i))throw new Error(da(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class p2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pf(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();i!==null&&!bf(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function y_(s,t,i){Pf(s,i),b_(s,r=>bf(r,t))}function Hn(s,t,i){Pf(s,i),b_(s,r=>Gt(r,t)||Gt(t,r))}function b_(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;t(u)?(v2(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function v2(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();Cr&&nt("event: "+i.toString()),xa(r)}}}const y2="repo_interrupt",b2=25;class _2{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new p2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wo(),this.transactionQueueTree_=new Uf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function x2(s,t,i){if(s.stats_=pf(s.repoInfo_),s.forceRestClient_||Zw())s.server_=new Qo(s.repoInfo_,(r,o,u,f)=>{oy(s,r,o,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>cy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Ln(s.repoInfo_,t,(r,o,u,f)=>{oy(s,r,o,u,f)},r=>{cy(s,r)},r=>{T2(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=nN(s.repoInfo_,()=>new nC(s.stats_,s.server_)),s.infoData_=new ZN,s.infoSyncTree_=new ay({startListening:(r,o,u,f)=>{let m=[];const v=s.infoData_.getNode(r._path);return v.isEmpty()||(m=Tc(s.infoSyncTree_,r._path,v),setTimeout(()=>{f("ok")},0)),m},stopListening:()=>{}}),Gf(s,"connected",!1),s.serverSyncTree_=new ay({startListening:(r,o,u,f)=>(s.server_.listen(r,u,o,(m,v)=>{const p=f(m,v);Hn(s.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function __(s){const i=s.infoData_.getNode(new me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function qf(s){return t2({timestamp:__(s)})}function oy(s,t,i,r,o){s.dataUpdateCount++;const u=new me(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let f=[];if(o)if(r){const v=Vo(i,p=>Pe(p));f=XC(s.serverSyncTree_,u,v,o)}else{const v=Pe(i);f=WC(s.serverSyncTree_,u,v,o)}else if(r){const v=Vo(i,p=>Pe(p));f=YC(s.serverSyncTree_,u,v)}else{const v=Pe(i);f=Tc(s.serverSyncTree_,u,v)}let m=u;f.length>0&&(m=Nc(s,u)),Hn(s.eventQueue_,m,f)}function cy(s,t){Gf(s,"connected",t),t===!1&&E2(s)}function T2(s,t){st(t,(i,r)=>{Gf(s,i,r)})}function Gf(s,t,i){const r=new me("/.info/"+t),o=Pe(i);s.infoData_.updateSnapshot(r,o);const u=Tc(s.infoSyncTree_,r,o);Hn(s.eventQueue_,r,u)}function x_(s){return s.nextWriteId_++}function S2(s,t,i,r,o){Vf(s,"set",{path:t.toString(),value:i,priority:r});const u=qf(s),f=Pe(i,r),m=kf(s.serverSyncTree_,t),v=h_(f,m,u),p=x_(s),b=l_(s.serverSyncTree_,t,v,p,!0);Pf(s.eventQueue_,b),s.server_.put(t.toString(),f.val(!0),(x,A)=>{const R=x==="ok";R||bt("set at "+t+" failed: "+x);const D=$i(s.serverSyncTree_,p,!R);Hn(s.eventQueue_,t,D),pa(s,o,x,A)});const _=N_(s,t);Nc(s,_),Hn(s.eventQueue_,_,[])}function E2(s){Vf(s,"onDisconnectEvents");const t=qf(s),i=Wo();Ud(s.onDisconnect_,ce(),(o,u)=>{const f=s2(o,u,s.serverSyncTree_,t);Ta(i,o,f)});let r=[];Ud(i,ce(),(o,u)=>{r=r.concat(Tc(s.serverSyncTree_,o,u));const f=N_(s,o);Nc(s,f)}),s.onDisconnect_=Wo(),Hn(s.eventQueue_,ce(),r)}function w2(s,t,i){s.server_.onDisconnectCancel(t.toString(),(r,o)=>{r==="ok"&&zd(s.onDisconnect_,t),pa(s,i,r,o)})}function uy(s,t,i,r){const o=Pe(i);s.server_.onDisconnectPut(t.toString(),o.val(!0),(u,f)=>{u==="ok"&&Ta(s.onDisconnect_,t,o),pa(s,r,u,f)})}function N2(s,t,i,r,o){const u=Pe(i,r);s.server_.onDisconnectPut(t.toString(),u.val(!0),(f,m)=>{f==="ok"&&Ta(s.onDisconnect_,t,u),pa(s,o,f,m)})}function C2(s,t,i,r){if(Go(i)){nt("onDisconnect().update() called with empty data.  Don't do anything."),pa(s,r,"ok",void 0);return}s.server_.onDisconnectMerge(t.toString(),i,(o,u)=>{o==="ok"&&st(i,(f,m)=>{const v=Pe(m);Ta(s.onDisconnect_,Le(t,f),v)}),pa(s,r,o,u)})}function A2(s,t,i){let r;J(t._path)===".info"?r=ry(s.infoSyncTree_,t,i):r=ry(s.serverSyncTree_,t,i),y_(s.eventQueue_,t._path,r)}function hy(s,t,i){let r;J(t._path)===".info"?r=Vd(s.infoSyncTree_,t,i):r=Vd(s.serverSyncTree_,t,i),y_(s.eventQueue_,t._path,r)}function I2(s){s.persistentConnection_&&s.persistentConnection_.interrupt(y2)}function Vf(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),nt(i,...t)}function pa(s,t,i,r){t&&xa(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const f=new Error(u);f.code=o,t(f)}})}function T_(s,t,i){return kf(s.serverSyncTree_,t,i)||F.EMPTY_NODE}function Ff(s,t=s.transactionQueueTree_){if(t||Cc(s,t),Sa(t)){const i=E_(s,t);L(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&R2(s,Jr(t),i)}else f_(t)&&Ec(t,i=>{Ff(s,i)})}function R2(s,t,i){const r=i.map(p=>p.currentWriteId),o=T_(s,t,r);let u=o;const f=o.hash();for(let p=0;p<i.length;p++){const b=i[p];L(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const _=pt(t,b.path);u=u.updateChild(_,b.currentOutputSnapshotRaw)}const m=u.val(!0),v=t;s.server_.put(v.toString(),m,p=>{Vf(s,"transaction put response",{path:v.toString(),status:p});let b=[];if(p==="ok"){const _=[];for(let x=0;x<i.length;x++)i[x].status=2,b=b.concat($i(s.serverSyncTree_,i[x].currentWriteId)),i[x].onComplete&&_.push(()=>i[x].onComplete(null,!0,i[x].currentOutputSnapshotResolved)),i[x].unwatcher();Cc(s,Bf(s.transactionQueueTree_,t)),Ff(s,s.transactionQueueTree_),Hn(s.eventQueue_,t,b);for(let x=0;x<_.length;x++)xa(_[x])}else{if(p==="datastale")for(let _=0;_<i.length;_++)i[_].status===3?i[_].status=4:i[_].status=0;else{bt("transaction at "+v.toString()+" failed: "+p);for(let _=0;_<i.length;_++)i[_].status=4,i[_].abortReason=p}Nc(s,t)}},f)}function Nc(s,t){const i=S_(s,t),r=Jr(i),o=E_(s,i);return k2(s,o,r),r}function k2(s,t,i){if(t.length===0)return;const r=[];let o=[];const f=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const v=t[m],p=pt(i,v.path);let b=!1,_;if(L(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)b=!0,_=v.abortReason,o=o.concat($i(s.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=b2)b=!0,_="maxretry",o=o.concat($i(s.serverSyncTree_,v.currentWriteId,!0));else{const x=T_(s,v.path,f);v.currentInputSnapshot=x;const A=t[m].update(x.val());if(A!==void 0){wc("transaction failed: Data returned ",A,v.path);let R=Pe(A);typeof A=="object"&&A!=null&&cn(A,".priority")||(R=R.updatePriority(x.getPriority()));const B=v.currentWriteId,Q=qf(s),ue=h_(R,x,Q);v.currentOutputSnapshotRaw=R,v.currentOutputSnapshotResolved=ue,v.currentWriteId=x_(s),f.splice(f.indexOf(B),1),o=o.concat(l_(s.serverSyncTree_,v.path,ue,v.currentWriteId,v.applyLocally)),o=o.concat($i(s.serverSyncTree_,B,!0))}else b=!0,_="nodata",o=o.concat($i(s.serverSyncTree_,v.currentWriteId,!0))}Hn(s.eventQueue_,i,o),o=[],b&&(t[m].status=2,(function(x){setTimeout(x,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(_==="nodata"?r.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):r.push(()=>t[m].onComplete(new Error(_),!1,null))))}Cc(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)xa(r[m]);Ff(s,s.transactionQueueTree_)}function S_(s,t){let i,r=s.transactionQueueTree_;for(i=J(t);i!==null&&Sa(r)===void 0;)r=Bf(r,i),t=_e(t),i=J(t);return r}function E_(s,t){const i=[];return w_(s,t,i),i.sort((r,o)=>r.order-o.order),i}function w_(s,t,i){const r=Sa(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);Ec(t,o=>{w_(s,o,i)})}function Cc(s,t){const i=Sa(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,d_(t,i.length>0?i:void 0)}Ec(t,r=>{Cc(s,r)})}function N_(s,t){const i=Jr(S_(s,t)),r=Bf(s.transactionQueueTree_,t);return r2(r,o=>{vd(s,o)}),vd(s,r),m_(r,o=>{vd(s,o)}),i}function vd(s,t){const i=Sa(t);if(i){const r=[];let o=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(L(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(L(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),o=o.concat($i(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?d_(t,void 0):i.length=u+1,Hn(s.eventQueue_,Jr(t),o);for(let f=0;f<r.length;f++)xa(r[f])}}function j2(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function O2(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bt(`Invalid query segment '${i}' in query '${s}'`)}return t}const dy=function(s,t){const i=M2(s),r=i.namespace;i.domain==="firebase.com"&&Bn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||qw();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new kb(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new me(i.pathString)}},M2=function(s){let t="",i="",r="",o="",u="",f=!0,m="https",v=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let b=s.indexOf("/");b===-1&&(b=s.length);let _=s.indexOf("?");_===-1&&(_=s.length),t=s.substring(0,Math.min(b,_)),b<_&&(o=j2(s.substring(b,_)));const x=O2(s.substring(Math.min(s.length,_)));p=t.indexOf(":"),p>=0?(f=m==="https"||m==="wss",v=parseInt(t.substring(p+1),10)):p=t.length;const A=t.slice(0,p);if(A.toLowerCase()==="localhost")i="localhost";else if(A.split(".").length<=2)i=A;else{const R=t.indexOf(".");r=t.substring(0,R).toLowerCase(),i=t.substring(R+1),u=r}"ns"in x&&(u=x.ns)}return{host:t,port:v,domain:i,subdomain:r,secure:f,scheme:m,pathString:o,namespace:u}};const fy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",D2=(function(){let s=0;const t=[];return function(i){const r=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=fy.charAt(i%64),i=Math.floor(i/64);L(i===0,"Cannot push at time == 0");let f=u.join("");if(r){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=fy.charAt(t[o]);return L(f.length===20,"nextPushId: Length should be 20."),f}})();class L2{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class z2{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class U2{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class B2{constructor(t,i){this._repo=t,this._path=i}cancel(){const t=new kn;return w2(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ea("OnDisconnect.remove",this._path);const t=new kn;return uy(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ea("OnDisconnect.set",this._path),ic("OnDisconnect.set",t,this._path,!1);const i=new kn;return uy(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}setWithPriority(t,i){ea("OnDisconnect.setWithPriority",this._path),ic("OnDisconnect.setWithPriority",t,this._path,!1),f2("OnDisconnect.setWithPriority",i);const r=new kn;return N2(this._repo,this._path,t,i,r.wrapCallback(()=>{})),r.promise}update(t){ea("OnDisconnect.update",this._path),d2("OnDisconnect.update",t,this._path);const i=new kn;return C2(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}}class Ac{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return $(this._path)?null:yf(this._path)}get ref(){return new Ii(this._repo,this._path)}get _queryIdentifier(){const t=Qv(this._queryParams),i=mf(t);return i==="{}"?"default":i}get _queryObject(){return Qv(this._queryParams)}isEqual(t){if(t=Ge(t),!(t instanceof Ac))return!1;const i=this._repo===t._repo,r=bf(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+wN(this._path)}}class Ii extends Ac{constructor(t,i){super(t,i,new Sf,!1)}get parent(){const t=Hb(this._path);return t===null?null:new Ii(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class sc{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new me(t),r=Vr(this.ref,t);return new sc(this._node.getChild(i),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new sc(o,Vr(this.ref,r),ke)))}hasChild(t){const i=new me(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rn(s,t){return s=Ge(s),s._checkNotDeleted("ref"),t!==void 0?Vr(s._root,t):s._root}function Vr(s,t){return s=Ge(s),J(s._path)===null?m2("child","path",t):v_("child","path",t),new Ii(s._repo,Le(s._path,t))}function my(s){return s=Ge(s),new B2(s._repo,s._path)}function Yd(s,t){s=Ge(s),ea("push",s._path),ic("push",t,s._path,!0);const i=__(s._repo),r=D2(i),o=Vr(s,r),u=Vr(s,r);let f;return f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function wr(s,t){s=Ge(s),ea("set",s._path),ic("set",t,s._path,!1);const i=new kn;return S2(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}class Yf{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new L2("value",this,new sc(t.snapshotNode,new Ii(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new z2(this,t,i):null}matches(t){return t instanceof Yf?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function H2(s,t,i,r,o){let u;if(typeof r=="object"&&(u=void 0,o=r),typeof r=="function"&&(u=r),o&&o.onlyOnce){const v=i,p=(b,_)=>{hy(s._repo,s,m),v(b,_)};p.userCallback=i.userCallback,p.context=i.context,i=p}const f=new U2(i,u||void 0),m=new Yf(f);return A2(s._repo,s,m),()=>hy(s._repo,s,m)}function ac(s,t,i,r){return H2(s,"value",t,i,r)}class P2{}class q2 extends P2{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ac(t._repo,t._path,XN(t._queryParams,this._limit),t._orderByCalled)}}function C_(s){if(typeof s!="number"||Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new q2(s)}function A_(s,...t){let i=Ge(s);for(const r of t)i=r._apply(i);return i}zC(Ii);GC(Ii);const G2="FIREBASE_DATABASE_EMULATOR_HOST",Kd={};let V2=!1;function F2(s,t,i,r){const o=t.lastIndexOf(":"),u=t.substring(0,o),f=Ai(u);s.repoInfo_=new kb(t,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function Y2(s,t,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=dy(u,o),m=f.repoInfo,v;typeof process<"u"&&Rv&&(v=Rv[G2]),v?(u=`http://${v}?ns=${m.namespace}`,f=dy(u,o),m=f.repoInfo):f.repoInfo.secure;const p=new $w(s.name,s.options,t);g2("Invalid Firebase Database URL",f),$(f.path)||Bn("Database URL must point to the root of a Firebase Database (not including a child path).");const b=Q2(m,s,p,new Jw(s,i));return new W2(b,s)}function K2(s,t){const i=Kd[t];(!i||i[s.key]!==s)&&Bn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),I2(s),delete i[s.key]}function Q2(s,t,i,r){let o=Kd[t.name];o||(o={},Kd[t.name]=o);let u=o[s.toURLString()];return u&&Bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new _2(s,V2,i,r),o[s.toURLString()]=u,u}class W2{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(x2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ii(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(K2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Bn("Cannot call "+t+" on a deleted database.")}}function I_(s=vc(),t){const i=pc(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=lb("database");r&&X2(i,...r)}return i}function X2(s,t,i,r={}){s=Ge(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&es(r,u.repoInfo_.emulatorOptions))return;Bn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Lo(Lo.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:lE(r.mockUserToken,s.app.options.projectId);f=new Lo(m)}Ai(t)&&(of(t),cf("Database",!0)),F2(u,o,r,f)}function Z2(s){Lw(_a),ts(new wi("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return Y2(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),rn(kv,jv,s),rn(kv,jv,"esm2020")}const J2={".sv":"timestamp"};function yd(){return J2}Ln.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Ln.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};Z2();function R_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $2=R_,k_=new Kr("auth","Firebase",R_());const rc=new hf("@firebase/auth");function eA(s,...t){rc.logLevel<=ye.WARN&&rc.warn(`Auth (${_a}): ${s}`,...t)}function zo(s,...t){rc.logLevel<=ye.ERROR&&rc.error(`Auth (${_a}): ${s}`,...t)}function Pn(s,...t){throw Kf(s,...t)}function ln(s,...t){return Kf(s,...t)}function j_(s,t,i){const r={...$2(),[t]:i};return new Kr("auth","Firebase",r).create(t,{appName:s.name})}function zn(s){return j_(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kf(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return k_.create(s,...t)}function Y(s,t,...i){if(!s)throw Kf(t,...i)}function Mn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw zo(t),new Error(t)}function qn(s,t){s||Mn(t)}function Qd(){return typeof self<"u"&&self.location?.href||""}function tA(){return gy()==="http:"||gy()==="https:"}function gy(){return typeof self<"u"&&self.location?.protocol||null}function nA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tA()||hE()||"connection"in navigator)?navigator.onLine:!0}function iA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class $r{constructor(t,i){this.shortDelay=t,this.longDelay=i,qn(i>t,"Short delay should be less than long delay!"),this.isMobile=uf()||ub()}get(){return nA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qf(s,t){qn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class O_{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rA=new $r(3e4,6e4);function el(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ea(s,t,i,r,o={}){return M_(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const m=ba({key:s.config.apiKey,...f}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const p={method:t,headers:v,...u};return uE()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Ai(s.emulatorConfig.host)&&(p.credentials="include"),O_.fetch()(await D_(s,s.config.apiHost,i,m),p)})}async function M_(s,t,i){s._canInitEmulator=!1;const r={...sA,...t};try{const o=new lA(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ko(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[v,p]=m.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw ko(s,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw ko(s,"email-already-in-use",f);if(v==="USER_DISABLED")throw ko(s,"user-disabled",f);const b=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw j_(s,b,p);Pn(s,b)}}catch(o){if(o instanceof Vn)throw o;Pn(s,"network-request-failed",{message:String(o)})}}async function Wf(s,t,i,r,o={}){const u=await Ea(s,t,i,r,o);return"mfaPendingCredential"in u&&Pn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function D_(s,t,i,r){const o=`${t}${i}?${r}`,u=s,f=u.config.emulator?Qf(s.config,o):`${s.config.apiScheme}://${o}`;return aA.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class lA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),rA.get())})}}function ko(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=ln(s,t,r);return o.customData._tokenResponse=i,o}async function oA(s,t){return Ea(s,"POST","/v1/accounts:delete",t)}async function lc(s,t){return Ea(s,"POST","/v1/accounts:lookup",t)}function jr(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cA(s,t=!1){const i=Ge(s),r=await i.getIdToken(t),o=Xf(r);Y(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:jr(bd(o.auth_time)),issuedAtTime:jr(bd(o.iat)),expirationTime:jr(bd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bd(s){return Number(s)*1e3}function Xf(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return zo("JWT malformed, contained fewer than 3 sections"),null;try{const o=qo(i);return o?JSON.parse(o):(zo("Failed to decode base64 JWT payload"),null)}catch(o){return zo("Caught error parsing JWT payload as JSON",o?.toString()),null}}function py(s){const t=Xf(s);return Y(t,"internal-error"),Y(typeof t.exp<"u","internal-error"),Y(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Fr(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Vn&&uA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function uA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class hA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jr(this.lastLoginAt),this.creationTime=jr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oc(s){const t=s.auth,i=await s.getIdToken(),r=await Fr(s,lc(t,{idToken:i}));Y(r?.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=o.providerUserInfo?.length?L_(o.providerUserInfo):[],f=fA(s.providerData,u),m=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!f?.length,p=m?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,b)}async function dA(s){const t=Ge(s);await oc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fA(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function L_(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function mA(s,t){const i=await M_(s,{},async()=>{const r=ba({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await D_(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:m,body:r};return s.emulatorConfig&&Ai(s.emulatorConfig.host)&&(v.credentials="include"),O_.fetch()(f,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function gA(s,t){return Ea(s,"POST","/v2/accounts:revokeToken",el(s,t))}class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Y(t.idToken,"internal-error"),Y(typeof t.idToken<"u","internal-error"),Y(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):py(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Y(t.length!==0,"internal-error");const i=py(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await mA(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,f=new la;return r&&(Y(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Y(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Y(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return Mn("not implemented")}}function vi(s,t){Y(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Jt{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new hA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Fr(this,this.stsTokenManager.getToken(this.auth,t));return Y(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return cA(this,t)}reload(){return dA(this)}_assign(t){this!==t&&(Y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jt({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await oc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(zn(this.auth));const t=await this.getIdToken();return await Fr(this,oA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,m=i.tenantId??void 0,v=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:_,emailVerified:x,isAnonymous:A,providerData:R,stsTokenManager:D}=i;Y(_&&D,t,"internal-error");const B=la.fromJSON(this.name,D);Y(typeof _=="string",t,"internal-error"),vi(r,t.name),vi(o,t.name),Y(typeof x=="boolean",t,"internal-error"),Y(typeof A=="boolean",t,"internal-error"),vi(u,t.name),vi(f,t.name),vi(m,t.name),vi(v,t.name),vi(p,t.name),vi(b,t.name);const Q=new Jt({uid:_,auth:t,email:o,emailVerified:x,displayName:r,isAnonymous:A,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:p,lastLoginAt:b});return R&&Array.isArray(R)&&(Q.providerData=R.map(ue=>({...ue}))),v&&(Q._redirectEventId=v),Q}static async _fromIdTokenResponse(t,i,r=!1){const o=new la;o.updateFromServerResponse(i);const u=new Jt({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await oc(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];Y(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?L_(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new la;m.updateFromIdToken(r);const v=new Jt({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,p),v}}const vy=new Map;function Dn(s){qn(s instanceof Function,"Expected a class definition");let t=vy.get(s);return t?(qn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,vy.set(s,t),t)}class z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}z_.type="NONE";const yy=z_;function Uo(s,t,i){return`firebase:${s}:${t}:${i}`}class oa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Uo(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uo("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await lc(this.auth,{idToken:t}).catch(()=>{});return i?Jt._fromGetAccountInfoResponse(this.auth,i,t):null}return Jt._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new oa(Dn(yy),t,r);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Dn(yy);const f=Uo(r,t.config.apiKey,t.name);let m=null;for(const p of i)try{const b=await p._get(f);if(b){let _;if(typeof b=="string"){const x=await lc(t,{idToken:b}).catch(()=>{});if(!x)break;_=await Jt._fromGetAccountInfoResponse(t,x,b)}else _=Jt._fromJSON(t,b);p!==u&&(m=_),u=p;break}}catch{}const v=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new oa(u,t,r):(u=v[0],m&&await u._set(f,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new oa(u,t,r))}}function by(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G_(t))return"Blackberry";if(V_(t))return"Webos";if(B_(t))return"Safari";if((t.includes("chrome/")||H_(t))&&!t.includes("edge/"))return"Chrome";if(q_(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function U_(s=lt()){return/firefox\//i.test(s)}function B_(s=lt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H_(s=lt()){return/crios\//i.test(s)}function P_(s=lt()){return/iemobile/i.test(s)}function q_(s=lt()){return/android/i.test(s)}function G_(s=lt()){return/blackberry/i.test(s)}function V_(s=lt()){return/webos/i.test(s)}function Zf(s=lt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pA(s=lt()){return Zf(s)&&!!window.navigator?.standalone}function vA(){return dE()&&document.documentMode===10}function F_(s=lt()){return Zf(s)||q_(s)||V_(s)||G_(s)||/windows phone/i.test(s)||P_(s)}function Y_(s,t=[]){let i;switch(s){case"Browser":i=by(lt());break;case"Worker":i=`${by(lt())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${_a}/${r}`}class yA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((f,m)=>{try{const v=t(u);f(v)}catch(v){m(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function bA(s,t={}){return Ea(s,"GET","/v2/passwordPolicy",el(s,t))}const _A=6;class xA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_A,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class TA{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _y(this),this.idTokenSubscription=new _y(this),this.beforeStateQueue=new yA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Dn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await lc(this,{idToken:t}),r=await Jt._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Rt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Rt(this.app))return Promise.reject(zn(this));const i=t?Ge(t):null;return i&&Y(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Rt(this.app)?Promise.reject(zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bA(this),i=new xA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kr("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await gA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Dn(t)||this._popupRedirectResolver;Y(i,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[Dn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,o);return()=>{f=!0,v()}}else{const v=t.addObserver(i);return()=>{f=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&eA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function tl(s){return Ge(s)}class _y{constructor(t){this.auth=t,this.observer=null,this.addObserver=TE(i=>this.observer=i)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SA(s){Jf=s}function EA(s){return Jf.loadJS(s)}function wA(){return Jf.gapiScript}function NA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function CA(s,t){const i=pc(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(es(u,t??{}))return o;Pn(o,"already-initialized")}return i.initialize({options:t})}function AA(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Dn);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function IA(s,t,i){const r=tl(s);Y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=K_(t),{host:f,port:m}=RA(t),v=m===null?"":`:${m}`,p={url:`${u}//${f}${v}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(es(p,r.config.emulator)&&es(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Ai(f)?(of(`${u}//${f}${v}`),cf("Auth",!0)):kA()}function K_(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function RA(s){const t=K_(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:xy(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:xy(f)}}}function xy(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function kA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Q_{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Mn("not implemented")}_getIdTokenResponse(t){return Mn("not implemented")}_linkToIdToken(t,i){return Mn("not implemented")}_getReauthenticationResolver(t){return Mn("not implemented")}}async function ca(s,t){return Wf(s,"POST","/v1/accounts:signInWithIdp",el(s,t))}const jA="http://localhost";class rs extends Q_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new rs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Pn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const f=new rs(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const i=this.buildRequest();return ca(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ca(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ca(t,i)}buildRequest(){const t={requestUri:jA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ba(i)}return t}}class W_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nl extends W_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class yi extends nl{constructor(){super("facebook.com")}static credential(t){return rs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";class bi extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return rs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return bi.credential(i,r)}catch{return null}}}bi.GOOGLE_SIGN_IN_METHOD="google.com";bi.PROVIDER_ID="google.com";class _i extends nl{constructor(){super("github.com")}static credential(t){return rs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";class xi extends nl{constructor(){super("twitter.com")}static credential(t,i){return rs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return xi.credential(i,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";async function OA(s,t){return Wf(s,"POST","/v1/accounts:signUp",el(s,t))}class Gn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await Jt._fromIdTokenResponse(t,r,o),f=Ty(r);return new Gn({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=Ty(r);return new Gn({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function Ty(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function MA(s){if(Rt(s.app))return Promise.reject(zn(s));const t=tl(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Gn({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await OA(t,{returnSecureToken:!0}),r=await Gn._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class cc extends Vn{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new cc(t,i,r,o)}}function X_(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(s,u,t,r):u})}async function DA(s,t,i=!1){const r=await Fr(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Gn._forOperation(s,"link",r)}async function LA(s,t,i=!1){const{auth:r}=s;if(Rt(r.app))return Promise.reject(zn(r));const o="reauthenticate";try{const u=await Fr(s,X_(r,o,t,s),i);Y(u.idToken,r,"internal-error");const f=Xf(u.idToken);Y(f,r,"internal-error");const{sub:m}=f;return Y(s.uid===m,r,"user-mismatch"),Gn._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pn(r,"user-mismatch"),u}}async function zA(s,t,i=!1){if(Rt(s.app))return Promise.reject(zn(s));const r="signIn",o=await X_(s,r,t),u=await Gn._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}async function UA(s,t){return Wf(s,"POST","/v1/accounts:signInWithCustomToken",el(s,t))}async function BA(s,t){if(Rt(s.app))return Promise.reject(zn(s));const i=tl(s),r=await UA(i,{token:t,returnSecureToken:!0}),o=await Gn._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(o.user),o}function HA(s,t,i,r){return Ge(s).onIdTokenChanged(t,i,r)}function PA(s,t,i){return Ge(s).beforeAuthStateChanged(t,i)}function Z_(s,t,i,r){return Ge(s).onAuthStateChanged(t,i,r)}function qA(s){return Ge(s).signOut()}const uc="__sak";class J_{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const GA=1e3,VA=10;class $_ extends J_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F_(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((f,m,v)=>{this.notifyListeners(f,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);vA()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,VA):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},GA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}$_.type="LOCAL";const FA=$_;class ex extends J_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}ex.type="SESSION";const tx=ex;function YA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ic{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new Ic(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async p=>p(i.origin,u)),v=await YA(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ic.receivers=[];function $f(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class KA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,v)=>{const p=$f("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(_){const x=_;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function on(){return window}function QA(s){on().location.href=s}function nx(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}async function WA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XA(){return navigator?.serviceWorker?.controller||null}function ZA(){return nx()?self:null}const ix="firebaseLocalStorageDb",JA=1,hc="firebaseLocalStorage",sx="fbase_key";class il{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rc(s,t){return s.transaction([hc],t?"readwrite":"readonly").objectStore(hc)}function $A(){const s=indexedDB.deleteDatabase(ix);return new il(s).toPromise()}function Xd(){const s=indexedDB.open(ix,JA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hc,{keyPath:sx})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hc)?t(r):(r.close(),await $A(),t(await Xd()))})})}async function Sy(s,t,i){const r=Rc(s,!0).put({[sx]:t,value:i});return new il(r).toPromise()}async function eI(s,t){const i=Rc(s,!1).get(t),r=await new il(i).toPromise();return r===void 0?null:r.value}function Ey(s,t){const i=Rc(s,!0).delete(t);return new il(i).toPromise()}const tI=800,nI=3;class ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>nI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ic._getInstance(ZA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WA(),!this.activeServiceWorker)return;this.sender=new KA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xd();return await Sy(t,uc,"1"),await Ey(t,uc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sy(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>eI(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ey(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Rc(o,!1).getAll();return new il(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ax.type="LOCAL";const iI=ax;new $r(3e4,6e4);function sI(s,t){return t?Dn(t):(Y(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class em extends Q_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ca(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ca(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ca(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function aI(s){return zA(s.auth,new em(s),s.bypassAuthState)}function rI(s){const{auth:t,user:i}=s;return Y(i,t,"internal-error"),LA(i,new em(s),s.bypassAuthState)}async function lI(s){const{auth:t,user:i}=s;return Y(i,t,"internal-error"),DA(i,new em(s),s.bypassAuthState)}class rx{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(v))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aI;case"linkViaPopup":case"linkViaRedirect":return lI;case"reauthViaPopup":case"reauthViaRedirect":return rI;default:Pn(this.auth,"internal-error")}}resolve(t){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oI=new $r(2e3,1e4);class ta extends rx{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Y(t,this.auth,"internal-error"),t}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const t=$f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oI.get())};t()}}ta.currentPopupAction=null;const cI="pendingRedirect",Bo=new Map;class uI extends rx{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Bo.get(this.auth._key());if(!t){try{const r=await hI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Bo.set(this.auth._key(),t)}return this.bypassAuthState||Bo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hI(s,t){const i=mI(t),r=fI(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function dI(s,t){Bo.set(s._key(),t)}function fI(s){return Dn(s._redirectPersistence)}function mI(s){return Uo(cI,s.config.apiKey,s.name)}async function gI(s,t,i=!1){if(Rt(s.app))return Promise.reject(zn(s));const r=tl(s),o=sI(r,t),f=await new uI(r,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}const pI=600*1e3;class vI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!lx(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ln(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pI&&this.cachedEventUids.clear(),this.cachedEventUids.has(wy(t))}saveEventToCache(t){this.cachedEventUids.add(wy(t)),this.lastProcessedEventTime=Date.now()}}function wy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function lx({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function yI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lx(s);default:return!1}}async function bI(s,t={}){return Ea(s,"GET","/v1/projects",t)}const _I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xI=/^https?/;async function TI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await bI(s);for(const i of t)try{if(SI(i))return}catch{}Pn(s,"unauthorized-domain")}function SI(s){const t=Qd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!xI.test(i))return!1;if(_I.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const EI=new $r(3e4,6e4);function Ny(){const s=on().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function wI(s){return new Promise((t,i)=>{function r(){Ny(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ny(),i(ln(s,"network-request-failed"))},timeout:EI.get()})}if(on().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(on().gapi?.load)r();else{const o=NA("iframefcb");return on()[o]=()=>{gapi.load?r():i(ln(s,"network-request-failed"))},EA(`${wA()}?onload=${o}`).catch(u=>i(u))}}).catch(t=>{throw Ho=null,t})}let Ho=null;function NI(s){return Ho=Ho||wI(s),Ho}const CI=new $r(5e3,15e3),AI="__/auth/iframe",II="emulator/auth/iframe",RI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(s){const t=s.config;Y(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Qf(t,II):`https://${s.config.authDomain}/${AI}`,r={apiKey:t.apiKey,appName:s.name,v:_a},o=kI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${ba(r).slice(1)}`}async function OI(s){const t=await NI(s),i=on().gapi;return Y(i,s,"internal-error"),t.open({where:document.body,url:jI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ln(s,"network-request-failed"),m=on().setTimeout(()=>{u(f)},CI.get());function v(){on().clearTimeout(m),o(r)}r.ping(v).then(v,()=>{u(f)})}))}const MI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DI=500,LI=600,zI="_blank",UI="http://localhost";class Cy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BI(s,t,i,r=DI,o=LI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const v={...MI,width:r.toString(),height:o.toString(),top:u,left:f},p=lt().toLowerCase();i&&(m=H_(p)?zI:i),U_(p)&&(t=t||UI,v.scrollbars="yes");const b=Object.entries(v).reduce((x,[A,R])=>`${x}${A}=${R},`,"");if(pA(p)&&m!=="_self")return HI(t||"",m),new Cy(null);const _=window.open(t||"",m,b);Y(_,s,"popup-blocked");try{_.focus()}catch{}return new Cy(_)}function HI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const PI="__/auth/handler",qI="emulator/auth/handler",GI=encodeURIComponent("fac");async function Ay(s,t,i,r,o,u){Y(s.config.authDomain,s,"auth-domain-config-required"),Y(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:_a,eventId:o};if(t instanceof W_){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",Go(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,_]of Object.entries({}))f[b]=_}if(t instanceof nl){const b=t.getScopes().filter(_=>_!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const v=await s._getAppCheckToken(),p=v?`#${GI}=${encodeURIComponent(v)}`:"";return`${VI(s)}?${ba(m).slice(1)}${p}`}function VI({config:s}){return s.emulator?Qf(s,qI):`https://${s.authDomain}/${PI}`}const _d="webStorageSupport";class FI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tx,this._completeRedirectFn=gI,this._overrideRedirectResult=dI}async _openPopup(t,i,r,o){qn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ay(t,i,r,Qd(),o);return BI(t,u,$f())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await Ay(t,i,r,Qd(),o);return QA(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(qn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await OI(t),r=new vI(t);return i.register("authEvent",o=>(Y(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(_d,{type:_d},o=>{const u=o?.[0]?.[_d];u!==void 0&&i(!!u),Pn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=TI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return F_()||B_()||Zf()}}const YI=FI;var Iy="@firebase/auth",Ry="1.12.0";class KI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(s){ts(new wi("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Y(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y_(s)},p=new TA(r,o,u,v);return AA(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),ts(new wi("auth-internal",t=>{const i=tl(t.getProvider("auth").getImmediate());return(r=>new KI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rn(Iy,Ry,QI(s)),rn(Iy,Ry,"esm2020")}const XI=300,ZI=cb("authIdTokenMaxAge")||XI;let ky=null;const JI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>ZI)return;const o=i?.token;ky!==o&&(ky=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ox(s=vc()){const t=pc(s,"auth");if(t.isInitialized())return t.getImmediate();const i=CA(s,{popupRedirectResolver:YI,persistence:[iI,FA,tx]}),r=cb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=JI(u.toString());PA(i,f,()=>f(i.currentUser)),HA(i,m=>f(m))}}const o=rb("auth");return o&&IA(i,`http://${o}`),i}function $I(){return document.getElementsByTagName("head")?.[0]??document}SA({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=ln("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",$I().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");const eR="type.googleapis.com/google.protobuf.Int64Value",tR="type.googleapis.com/google.protobuf.UInt64Value";function cx(s,t){const i={};for(const r in s)s.hasOwnProperty(r)&&(i[r]=t(s[r]));return i}function dc(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(t=>dc(t));if(typeof s=="function"||typeof s=="object")return cx(s,t=>dc(t));throw new Error("Data cannot be encoded in JSON: "+s)}function va(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case eR:case tR:{const t=Number(s.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+s);return t}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(t=>va(t)):typeof s=="function"||typeof s=="object"?cx(s,t=>va(t)):s}const tm="functions";const jy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Vn{constructor(t,i,r){super(`${tm}/${t}`,i||""),this.details=r,Object.setPrototypeOf(this,yt.prototype)}}function nR(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fc(s,t){let i=nR(s),r=i,o;try{const u=t&&t.error;if(u){const f=u.status;if(typeof f=="string"){if(!jy[f])return new yt("internal","internal");i=jy[f],r=f}const m=u.message;typeof m=="string"&&(r=m),o=u.details,o!==void 0&&(o=va(o))}}catch{}return i==="ok"?null:new yt(i,r,o)}class iR{constructor(t,i,r,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Rt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||i.get().then(u=>this.auth=u,()=>{}),this.messaging||r.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(t){const i=await this.getAuthToken(),r=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:i,messagingToken:r,appCheckToken:o}}}const Zd="us-central1",sR=/^data: (.*?)(?:\n|$)/;function aR(s){let t=null;return{promise:new Promise((i,r)=>{t=setTimeout(()=>{r(new yt("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{t&&clearTimeout(t)}}}class rR{constructor(t,i,r,o,u=Zd,f=(...m)=>fetch(...m)){this.app=t,this.fetchImpl=f,this.emulatorOrigin=null,this.contextProvider=new iR(t,i,r,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=Zd}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(t){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${i}.cloudfunctions.net/${t}`}}function lR(s,t,i){const r=Ai(t);s.emulatorOrigin=`http${r?"s":""}://${t}:${i}`,r&&(of(s.emulatorOrigin+"/backends"),cf("Functions",!0))}function oR(s,t,i){const r=o=>uR(s,t,o,{});return r.stream=(o,u)=>dR(s,t,o,u),r}function ux(s){return s.emulatorOrigin&&Ai(s.emulatorOrigin)?"include":void 0}async function cR(s,t,i,r,o){i["Content-Type"]="application/json";let u;try{u=await r(s,{method:"POST",body:JSON.stringify(t),headers:i,credentials:ux(o)})}catch{return{status:0,json:null}}let f=null;try{f=await u.json()}catch{}return{status:u.status,json:f}}async function hx(s,t){const i={},r=await s.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(i.Authorization="Bearer "+r.authToken),r.messagingToken&&(i["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=r.appCheckToken),i}function uR(s,t,i,r){const o=s._url(t);return hR(s,o,i,r)}async function hR(s,t,i,r){i=dc(i);const o={data:i},u=await hx(s,r),f=r.timeout||7e4,m=aR(f),v=await Promise.race([cR(t,o,u,s.fetchImpl,s),m.promise,s.cancelAllRequests]);if(m.cancel(),!v)throw new yt("cancelled","Firebase Functions instance was deleted.");const p=fc(v.status,v.json);if(p)throw p;if(!v.json)throw new yt("internal","Response is not valid JSON object.");let b=v.json.data;if(typeof b>"u"&&(b=v.json.result),typeof b>"u")throw new yt("internal","Response is missing data field.");return{data:va(b)}}function dR(s,t,i,r){const o=s._url(t);return fR(s,o,i,r||{})}async function fR(s,t,i,r){i=dc(i);const o={data:i},u=await hx(s,r);u["Content-Type"]="application/json",u.Accept="text/event-stream";let f;try{f=await s.fetchImpl(t,{method:"POST",body:JSON.stringify(o),headers:u,signal:r?.signal,credentials:ux(s)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const R=new yt("cancelled","Request was cancelled.");return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}const A=fc(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let m,v;const p=new Promise((x,A)=>{m=x,v=A});r?.signal?.addEventListener("abort",()=>{const x=new yt("cancelled","Request was cancelled.");v(x)});const b=f.body.getReader(),_=mR(b,m,v,r?.signal);return{stream:{[Symbol.asyncIterator](){const x=_.getReader();return{async next(){const{value:A,done:R}=await x.read();return{value:A,done:R}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:p}}function mR(s,t,i,r){const o=(f,m)=>{const v=f.match(sR);if(!v)return;const p=v[1];try{const b=JSON.parse(p);if("result"in b){t(va(b.result));return}if("message"in b){m.enqueue(va(b.message));return}if("error"in b){const _=fc(0,b);m.error(_),i(_);return}}catch(b){if(b instanceof yt){m.error(b),i(b);return}}},u=new TextDecoder;return new ReadableStream({start(f){let m="";return v();async function v(){if(r?.aborted){const p=new yt("cancelled","Request was cancelled");return f.error(p),i(p),Promise.resolve()}try{const{value:p,done:b}=await s.read();if(b){m.trim()&&o(m.trim(),f),f.close();return}if(r?.aborted){const x=new yt("cancelled","Request was cancelled");f.error(x),i(x),await s.cancel();return}m+=u.decode(p,{stream:!0});const _=m.split(`
`);m=_.pop()||"";for(const x of _)x.trim()&&o(x.trim(),f);return v()}catch(p){const b=p instanceof yt?p:fc(0,null);f.error(b),i(b)}}},cancel(){return s.cancel()}})}const Oy="@firebase/functions",My="0.13.1";const gR="auth-internal",pR="app-check-internal",vR="messaging-internal";function yR(s){const t=(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),u=i.getProvider(gR),f=i.getProvider(vR),m=i.getProvider(pR);return new rR(o,u,f,m,r)};ts(new wi(tm,t,"PUBLIC").setMultipleInstances(!0)),rn(Oy,My,s),rn(Oy,My,"esm2020")}function bR(s=vc(),t=Zd){const r=pc(Ge(s),tm).getImmediate({identifier:t}),o=lb("functions");return o&&_R(r,...o),r}function _R(s,t,i){lR(Ge(s),t,i)}function xR(s,t,i){return oR(Ge(s),t)}yR();const dx={apiKey:"AIzaSyAl1hiaAAeoiJhjp90V7zW-413aYt6-Uf4",authDomain:"weaver-crm.firebaseapp.com",databaseURL:"https://weaver-crm-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"weaver-crm",storageBucket:"weaver-crm.appspot.com",messagingSenderId:"707203151294",appId:"1:707203151294:web:8ac5f113d4d32109fa75ef",measurementId:"G-TD6Q923QBC"},nm=mb().length>0?vc():ff(dx),xd=I_(nm),Jd=ox(nm),TR=bR(nm),fx=mb().find(s=>s.name==="GuestChatApp")||ff(dx,"GuestChatApp"),Td=ox(fx),Js=I_(fx),Sd="weaver_chat_uid",jo="weaver_chat_messages",SR=()=>{const[s,t]=U.useState([]),[i,r]=U.useState(null),[o,u]=U.useState(!1),f=U.useRef(0),m=U.useRef(null);U.useEffect(()=>{const b=localStorage.getItem(Sd),_=Z_(Td,async x=>{if(x){const A=x.uid;if(r(A),m.current=A,b!==A)console.info("Session mismatch: Clearing old guest data."),t([]),localStorage.removeItem(jo),localStorage.setItem(Sd,A);else{const W=localStorage.getItem(jo);if(W)try{const Ae=JSON.parse(W);t(Ae),Ae.length>0&&(f.current=Ae[Ae.length-1].timestamp)}catch(Ae){console.error("Failed to parse cached messages",Ae)}}const R=Rn(Js,`/status/${A}/connections`),D=Rn(Js,`/status/${A}/last_changed`),B=Rn(Js,".info/connected"),Q=Yd(R);ac(B,W=>{W.val()===!0?(wr(Q,!0),my(Q).remove(),wr(D,yd()),my(D).set(yd()),u(!0)):u(!1)});const ue=localStorage.getItem(jo);if(ue)try{const W=JSON.parse(ue);t(W),W.length>0&&(f.current=W[W.length-1].timestamp)}catch(W){console.error("Failed to parse cached messages",W)}}});return()=>{if(_(),m.current){const x=Rn(Js,`/status/${m.current}`);wr(x,{state:"offline",last_changed:yd()})}}},[]);const v=async()=>{if(!i&&!Td.currentUser)try{const b=await MA(Td);localStorage.setItem(Sd,b.user.uid)}catch(b){console.error("Failed to initiate chat",b)}};return U.useEffect(()=>{if(!i)return;const b=Rn(Js,`chats/${i}/messages`),_=A_(b,C_(50)),x=ac(_,A=>{const R=A.val();if(R){const D=Object.entries(R).map(([B,Q])=>({id:B,...Q}));D.sort((B,Q)=>B.timestamp-Q.timestamp),t(D),localStorage.setItem(jo,JSON.stringify(D))}},A=>{console.error("Firebase Read Error:",A)});return()=>x()},[i]),{messages:s,sendMessage:async(b,_="user",x)=>{if(!i){console.error("Chat Error: Cannot send message. Guest ID not ready (Auth in progress?)");return}try{const A=Rn(Js,`chats/${i}/messages`),R=Yd(A),D={text:b,sender:_,options:x||null,timestamp:Date.now()};await wr(R,D)}catch(A){console.error("Firebase Write Error (Check Rules):",A)}},guestId:i,isConnected:o,initiateChat:v}},ER=()=>{const[s,t]=U.useState(!1),[i,r]=U.useState([]),[o,u]=U.useState(!0),{messages:f,sendMessage:m,initiateChat:v,guestId:p}=SR();U.useEffect(()=>{s&&v()},[s]),U.useEffect(()=>{if(f.length>0){const R=f.map(D=>({id:D.id,text:D.text,sender:D.sender==="admin"?"bot":D.sender,options:D.options,timestamp:D.timestamp}));r(D=>{const B=new Set(D.map(W=>W.id)),Q=R.filter(W=>!B.has(W.id));return Q.length===0?D:[...D,...Q].sort((W,Ae)=>{const Vt=W.timestamp||parseInt(W.id)||0,it=Ae.timestamp||parseInt(Ae.id)||0;return Vt-it})})}},[f]),U.useEffect(()=>{if(p&&o&&s&&i.length===0){const R=ad.welcome;R&&(m(R.text,"bot",R.options),u(!1))}},[s,o,i.length,p]);const b=(R,D,B)=>{m(R,D,B)},_=R=>{setTimeout(()=>{const D=ad[R]||ad.default;b(D.text,"bot",D.options)},600)},x=R=>{if(b(R,"user"),f.some(ue=>ue.sender==="admin"))return;const B=R.toLowerCase();let Q="default";B.includes("ielts")||B.includes("hc")?Q="ielts":B.includes("gi")||B.includes("ph")||B.includes("tin")?Q="pricing":(B.includes("t vn")||B.includes("lin h")||B.includes("gi"))&&(Q="contact"),_(Q)},A=(R,D)=>{b(D,"user"),_(R)};return d.jsxs(d.Fragment,{children:[s&&d.jsx(ZS,{messages:i,onSendMessage:x,onOptionClick:A,onClose:()=>t(!1),isConnecting:!p}),d.jsx(WS,{isOpen:s,onClick:()=>t(!s)})]})},wR=({pageId:s})=>{const t=s||"vo.quocanh.568";return d.jsxs("a",{href:`https://m.me/${t}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-24 right-6 w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center transition-transform duration-300 hover:scale-110 z-[90] group border border-blue-100","aria-label":"Chat on Messenger",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 800 800",className:"w-7 h-7",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"messenger-grad",x1:"50%",y1:"0%",x2:"50%",y2:"100%",children:[d.jsx("stop",{offset:"0%",style:{stopColor:"#00B2FF",stopOpacity:1}}),d.jsx("stop",{offset:"100%",style:{stopColor:"#006AFF",stopOpacity:1}})]})}),d.jsx("path",{fill:"url(#messenger-grad)",d:"M400,0C176.6,0,0,166.4,0,378.8c0,111.4,48.2,212,126,281.8V796l135.2-74.2c35.6,9.8,77.4,17,121,17c240.6,0,417.8-166.4,417.8-378.8S623.4,0,400,0z M456.2,504.6L363.8,406l-180,100l197.6-212.8L474,392l180-101.4L456.2,504.6z"})]}),d.jsx("span",{className:"absolute right-full mr-3 bg-gray-800 text-white text-xs font-semibold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrappointer-events-none",children:"Chat Facebook"}),d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})]})},NR=({phone:s})=>{const t=s||"0908911680";return d.jsxs("a",{href:`https://zalo.me/${t}`,target:"_blank",rel:"noopener noreferrer",className:"fixed right-6 w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center transition-transform duration-300 hover:scale-110 z-[90] group border border-blue-100 overflow-hidden","aria-label":"Chat on Zalo",style:{bottom:"10rem"},children:[d.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/9/91/Icon_of_Zalo.svg",alt:"Zalo",className:"w-full h-full object-cover rounded-full"}),d.jsx("span",{className:"absolute right-full mr-3 bg-gray-800 text-white text-xs font-semibold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Chat Zalo"})]})},tt=[{x:60,y:80,icon:ua,label:"Learn"},{x:220,y:40,icon:$T,label:"Practice"},{x:380,y:80,icon:qy,label:"Test"},{x:540,y:40,icon:mc,label:"Succeed"}];function CR({onComplete:s,onStartExiting:t}){const[i,r]=U.useState(!1),[o,u]=U.useState(!1);U.useEffect(()=>{const p=()=>setTimeout(()=>u(!0),100);return document.readyState==="complete"?setTimeout(()=>u(!0),100):window.addEventListener("load",p),()=>window.removeEventListener("load",p)},[]),U.useEffect(()=>{if(!o)return;const p=setTimeout(()=>{r(!0),t(),setTimeout(s,800)},1100);return()=>clearTimeout(p)},[o]);const[f,m]=U.useState(!1);U.useEffect(()=>{if(!o)return;const p=setTimeout(()=>m(!0),300);return()=>clearTimeout(p)},[o]);const v=`
        M ${tt[0].x},${tt[0].y} 
        C ${tt[0].x+80},${tt[0].y} ${tt[1].x-80},${tt[1].y} ${tt[1].x},${tt[1].y}
        S ${tt[2].x-80},${tt[2].y} ${tt[2].x},${tt[2].y}
        S ${tt[3].x-80},${tt[3].y} ${tt[3].x},${tt[3].y}
    `;return d.jsx(V.div,{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center overflow-hidden pointer-events-none bg-zinc-950",initial:{clipPath:"circle(150% at 50% 50%)"},animate:i?{clipPath:"circle(0% at 50% 50%)"}:{clipPath:"circle(150% at 50% 50%)"},transition:{duration:1.2,ease:[.22,1,.36,1]},children:d.jsxs("div",{className:"relative z-10 text-center w-full max-w-4xl px-4 flex flex-col items-center",children:[d.jsx(V.div,{initial:{opacity:0,scale:.95},animate:i?"exit":"visible",variants:{visible:{opacity:1,scale:1},exit:{opacity:1,scale:1}},transition:{duration:.4},className:"relative z-20 flex flex-col items-center justify-center origin-center",children:d.jsxs("div",{className:"flex items-center justify-center text-7xl md:text-9xl font-black tracking-tighter text-white h-40",children:[d.jsx(V.span,{className:"z-10 flex-shrink-0",children:"W"}),d.jsx(V.div,{initial:{width:0,opacity:0},animate:f?{width:"auto",opacity:1}:{width:0,opacity:0},transition:{duration:.8,ease:[.16,1,.3,1]},className:"overflow-hidden flex items-center pt-2 pb-4 will-change-[width,opacity]",children:d.jsx("span",{className:"whitespace-pre text-5xl md:text-7xl font-bold tracking-tight text-brand-orange inline-block pl-1",children:"eaver "})}),d.jsx(V.span,{className:"z-10 flex-shrink-0",children:"E"}),d.jsx(V.div,{initial:{width:0,opacity:0},animate:f?{width:"auto",opacity:1}:{width:0,opacity:0},transition:{duration:.8,ease:[.16,1,.3,1]},className:"overflow-hidden flex items-center pt-2 pb-4 will-change-[width,opacity]",children:d.jsx("span",{className:"text-5xl md:text-7xl font-bold tracking-tight text-brand-orange inline-block pl-1",children:"nglish"})})]})}),d.jsx(V.p,{initial:{opacity:0},animate:i?{opacity:0,y:20}:{opacity:1,y:0},transition:{duration:.4},className:"text-gray-500 uppercase tracking-[0.5em] text-sm mt-0 relative z-20",children:"Education Concept"}),d.jsxs(V.div,{animate:i?{opacity:0,y:20}:{opacity:1,y:0},transition:{duration:.4},className:"relative h-32 w-full max-w-[600px] mx-auto z-10",children:[d.jsxs("svg",{className:"absolute inset-0 w-full h-full overflow-visible",viewBox:"0 0 600 120",children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"pathGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"#f97316"}),d.jsx("stop",{offset:"100%",stopColor:"#ea580c"})]})}),d.jsx("path",{d:v,fill:"none",stroke:"#e5e7eb",strokeWidth:"2",strokeDasharray:"8 8",className:"w-full h-full vector-effect-non-scaling-stroke"}),d.jsx(V.path,{d:v,fill:"none",stroke:"url(#pathGradient)",strokeWidth:"4",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.8,ease:"easeInOut"}})]}),tt.map((p,b)=>d.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2",style:{left:`${p.x/600*100}%`,top:`${p.y/120*100}%`},children:d.jsxs(V.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1+b*.15,duration:.3,type:"spring",stiffness:200},className:"relative z-10 flex flex-col items-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-white border-[3px] border-brand-orange text-brand-orange flex items-center justify-center shadow-lg",children:d.jsx(p.icon,{size:20,strokeWidth:2.5})}),d.jsx(V.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.2+b*.15},className:"absolute top-14 text-[10px] font-bold uppercase tracking-widest text-gray-500 whitespace-nowrap",children:p.label})]})},b))]})]})})}const AR=()=>{const s=ef(),[t,i]=U.useState(!0),[r,o]=U.useState(!1),[u,f]=U.useState(null),v=!["/roadmap"].includes(s.pathname);return d.jsxs("div",{className:"min-h-screen bg-white text-gray-900 font-sans selection:bg-brand-orange/20 selection:text-brand-orange",children:[d.jsx(QS,{}),t&&d.jsx(CR,{onComplete:()=>i(!1),onStartExiting:()=>o(!0),targetRect:u}),d.jsx(zy,{children:!t&&d.jsx(V.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,ease:[.16,1,.3,1],delay:.2},className:"fixed top-0 left-0 right-0 z-[100]",children:d.jsx(VS,{})})}),d.jsxs("main",{className:"relative z-10 min-h-screen",children:[d.jsx(qT,{context:{setLogoRect:f,startHeroAnimation:r}}),d.jsx(KS,{showCTA:v})]}),d.jsx(ER,{}),d.jsx(wR,{}),d.jsx(NR,{})]})};function sl(s=1536){const[t,i]=U.useState(!1);return U.useEffect(()=>{const r=()=>i(window.innerWidth>=s);return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[s]),t}const IR=({logoRef:s})=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},i={hidden:{y:"100%",opacity:0},visible:{y:0,opacity:1,transition:{duration:.4,ease:[.33,1,.68,1]}}},r={hidden:{scale:0,rotate:-45,opacity:0},visible:{scale:1,rotate:0,opacity:1,transition:{type:"spring",stiffness:260,damping:20,duration:.4}}};return d.jsxs(V.div,{className:"flex items-center gap-3 mb-4 inline-flex overflow-hidden",variants:t,initial:"hidden",animate:"visible",children:[d.jsxs(V.div,{variants:r,className:"relative group",children:[d.jsxs("div",{className:"w-10 h-10 bg-brand-orange rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-brand-orange/30 relative z-10 overflow-hidden",children:[d.jsx("span",{className:"relative z-10",children:"W"}),d.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 bg-white/10 rotate-45 transform translate-x-2 -translate-y-2"})]}),d.jsx("div",{className:"absolute inset-0 border-2 border-brand-orange/30 rounded-xl transform rotate-6 scale-110 -z-10 group-hover:rotate-12 transition-transform duration-500"})]}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsx("div",{className:"overflow-hidden h-8 flex items-center",children:d.jsx(V.span,{ref:s,variants:i,className:"text-xl md:text-2xl font-bold tracking-tight text-gray-900 block",children:"Weaver English"})}),d.jsx("div",{className:"overflow-hidden h-4 flex items-center",children:d.jsx(V.span,{variants:i,className:"text-[10px] uppercase tracking-[0.2em] text-gray-500 font-medium ml-0.5 block",children:"Master Your Future"})})]})]})};function RR({startAnimation:s=!0,onLogoMapped:t}){const i=U.useRef(null),r=U.useRef(null),o=BT(),u=sl();U.useEffect(()=>{if(r.current&&t){const m=setTimeout(()=>{const v=r.current?.getBoundingClientRect();v&&t(v)},100);return()=>clearTimeout(m)}},[t]),U.useEffect(()=>{s&&o.start("visible")},[s,o]);const f=u?{brand:{hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.4}}},headline:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},buttons:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},visual1:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},visual2:{hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},visual3:{hidden:{opacity:0,x:20},visible:{opacity:1,x:0}}}:{brand:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},headline:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},buttons:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.4}}},visual1:{hidden:{opacity:0},visible:{opacity:1}},visual2:{hidden:{opacity:0},visible:{opacity:1}},visual3:{hidden:{opacity:0},visible:{opacity:1}}};return d.jsxs(V.section,{ref:i,className:`relative min-h-screen flex items-center pt-32 overflow-hidden bg-white/50 backdrop-blur-xl shadow-xl z-10 ${u?"sticky top-0":""}`,children:[d.jsx(tb,{count:15}),d.jsx("div",{className:"max-w-7xl mx-auto px-6 relative w-full z-10",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs(V.div,{className:"space-y-8 relative z-10",initial:"hidden",animate:o,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.5}}},children:[d.jsx(V.div,{variants:f.brand,children:d.jsx(IR,{logoRef:r})}),d.jsxs(V.div,{variants:f.headline,children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-black leading-[1.1] mb-6 text-gray-900 tracking-tight",children:["Chinh Phc ",d.jsx("br",{}),d.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange to-red-500",children:["IELTS & ",d.jsx("br",{}),"Ting Anh"]})]}),d.jsx("p",{className:"text-lg text-gray-600 max-w-md leading-relaxed font-medium",children:"Nng tm k nng ngn ng ca bn vi phng php o to hin i v l trnh c nhn ha ti Weaver English."})]}),d.jsx(V.div,{variants:f.buttons,children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsx(gt,{to:"/courses",className:"px-8 py-4 rounded-full bg-gray-900 text-white font-bold hover:bg-brand-orange hover:scale-105 transition-all duration-300 shadow-xl",children:"Khm ph kha hc"}),d.jsxs(gt,{to:"/roadmap",className:"px-8 py-4 rounded-full border border-black/10 hover:bg-white text-gray-900 transition-colors flex items-center gap-2 group backdrop-blur-sm",children:["Xem l trnh ",d.jsx(Yr,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})}),d.jsx(V.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:1}}},children:d.jsxs("div",{className:"pt-8 flex items-center gap-8 border-t border-black/5",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-black text-gray-900",children:"300+"}),d.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest font-semibold",children:"Hc vin t Target"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-black text-gray-900",children:"98%"}),d.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-widest font-semibold",children:"T l hi lng"})]})]})})]}),d.jsx("div",{className:"relative hidden lg:block h-[600px]",children:d.jsxs(V.div,{className:"relative w-full h-full grid grid-cols-2 gap-4 p-4",initial:"hidden",animate:o,variants:{hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1,transition:{staggerChildren:.2,delayChildren:.8}}},children:[d.jsx(V.div,{variants:f.visual1,className:"col-span-2 row-span-2 bg-white rounded-3xl shadow-2xl border border-black/5 overflow-hidden relative group",children:d.jsx("div",{className:"absolute inset-0 bg-zinc-100 flex items-center justify-center",children:d.jsxs("div",{className:"w-full h-full relative",children:[d.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center z-10",children:[d.jsx("div",{className:"px-3 py-1 bg-red-500 text-white text-[10px] font-bold rounded-full animate-pulse",children:"LIVE"}),d.jsx("div",{className:"px-2 py-1 bg-black/20 backdrop-blur text-white text-[10px] rounded",children:"Online Class"})]}),d.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-100 to-orange-50 flex items-end justify-center pb-0",children:d.jsx("img",{src:"https://images.unsplash.com/photo-1544717305-2782549b5136?auto=format&fit=crop&q=80&w=400",alt:"Tutor",className:"w-[80%] rounded-t-3xl shadow-lg transform translate-y-4 group-hover:translate-y-2 transition-transform duration-500"})})]})})}),d.jsxs(V.div,{variants:f.visual2,className:"bg-white rounded-3xl shadow-xl border border-black/5 p-3 flex flex-col justify-between hover:scale-105 transition-transform origin-bottom-left",children:[d.jsxs("div",{className:"h-full w-full rounded-2xl overflow-hidden mb-3 relative",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&q=80&w=400",alt:"Modern Center",className:"object-cover w-full h-full transform hover:scale-110 transition-transform duration-700"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),d.jsxs("div",{className:"px-1",children:[d.jsxs("p",{className:"text-sm font-bold text-green-600 flex items-center gap-1",children:["+1.5 ",d.jsx("span",{className:"text-[10px] text-gray-500 font-normal",children:"Band Score"})]}),d.jsx("p",{className:"text-[10px] text-gray-500",children:"Average Improvement"})]})]}),d.jsxs(V.div,{variants:f.visual3,className:"bg-gray-900 rounded-3xl shadow-xl p-4 text-white flex flex-col justify-center items-center gap-3 hover:scale-105 transition-transform origin-bottom-right",children:[d.jsx(Gy,{size:32,className:"text-brand-orange"}),d.jsx("p",{className:"text-xs font-medium text-center opacity-80",children:"Video gii thiu"})]}),d.jsx(V.div,{variants:{hidden:{opacity:0,scale:0},visible:{opacity:1,scale:1}},className:"absolute -top-4 -right-4 w-16 h-16 bg-brand-orange rounded-full blur-2xl opacity-40 z-0"})]})})]})})]})}const kR=[{label:"Hc vin t Target",value:"300+"},{label:"Lp hc  m",value:"50+"},{label:"Ging vin 8.0+",value:"15+"},{label:"T l hi lng",value:"98%"}];function jR(){return d.jsx("section",{className:"relative z-20 bg-brand-orange text-white py-20 border-y border-white/10 shadow-xl",children:d.jsx("div",{className:"container mx-auto px-6",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:kR.map((s,t)=>d.jsx(xe,{animation:"zoom-in",delay:t*.1,children:d.jsxs("div",{children:[d.jsx("p",{className:"text-4xl md:text-6xl font-black mb-2 tracking-tighter text-white",children:s.value}),d.jsx("p",{className:"text-xs md:text-sm uppercase tracking-widest opacity-80 font-bold",children:s.label})]})},t))})})})}const OR=[{name:"IELTS Intensive 1",price:"Cp tc",desc:"Dnh cho hc vin cn tng band cp tc trong 2 thng.",features:["Cam kt tng 0.5 - 1.0 Band","Lch hc linh hot","Chm cha bi chi tit","Thi th min ph"],cta:"Xem chi tit",link:"/courses/intensive-1",popular:!1},{name:"IELTS Intensive 2",price:"Chuyn su",desc:"Tp trung vo 2 k nng Speaking & Writing chuyn su.",features:["1 km 1 vi Gio vin 8.0+","Gio trnh c nhn ha","Sa bi khng gii hn","Feedback hng ngy","Support 24/7"],cta:"Xem chi tit",link:"/courses/intensive-2",popular:!0},{name:"Gia s 1-1",price:"Premium",desc:"Gii php ti u nht cho ngi bn rn.",features:["L trnh ring bit","Thi gian linh hot 100%","Cam kt u ra bng vn bn","Hc online hoc offline"],cta:"Lin h ngay",link:"/customer-support",popular:!1}],MR=[{icon:ua,title:"Pre-IELTS",desc:"Xy dng nn tng vng chc cho ngi mi bt u (Band 0 - 3.0+).",category:"Foundation",link:"/courses/kick-start"},{icon:mc,title:"IELTS Foundation",desc:"Cng c ng php, t vng v lm quen dng bi (Band 3.0 - 5.0).",category:"IELTS",link:"/courses/avenger-1"},{icon:Vy,title:"IELTS Advanced",desc:"Bt ph im s vi chin thut chuyn su (Band 5.0 - 6.5+).",category:"IELTS",link:"/courses/elite-1"},{icon:tf,title:"IELTS Cp Tc",desc:"Luyn  cng  cao, rt ngn thi gian n luyn.",category:"Intensive",link:"/courses/intensive-1"},{icon:nf,title:"Gia s 1-1",desc:"L trnh c nhn ha 100%, bm st mc tiu ring bit.",category:"Private",link:"/courses/private-tutoring"},{icon:sf,title:"Xem tt c",desc:"Khm ph danh sch hn 10+ kha hc cht lng cao.",category:"Catalog",isAction:!0,link:"/courses"}],DR=[{icon:eS,title:"ng k t vn",desc:"Lin h vi chng ti  c kim tra trnh  v t vn l trnh min ph."},{icon:Gy,title:"Bt u hc",desc:"Tham gia cc lp hc tng tc cao vi gio trnh chun quc t."},{icon:Fy,title:"nh gi & Chng ch",desc:"Kim tra nh k  theo di tin  v cam kt u ra bng vn bn."},{icon:tS,title:"t mc tiu",desc:"Chinh phc im s IELTS m c v m ra c hi tng lai."}];function LR(){const s=U.useRef(null),t=sl();return d.jsx(V.section,{id:"courses",ref:s,className:`relative min-h-screen flex items-center w-full py-24 bg-white/80 backdrop-blur-xl border-t border-black/5 shadow-2xl z-30 ${t?"sticky top-0":""}`,children:d.jsxs("div",{className:"container mx-auto px-6 w-full",children:[d.jsx("div",{className:"mb-16 text-center md:text-left",children:d.jsxs(xe,{animation:"fade-up",children:[d.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-900",children:["Khm ph ",d.jsx("span",{className:"text-brand-orange italic",children:"Kha hc tiu biu."})]}),d.jsx("div",{className:"w-full h-px bg-black/10"})]})}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:MR.map((i,r)=>d.jsx(xe,{animation:"zoom-in",delay:r*.1,children:d.jsx(gt,{to:i.link,className:"block h-full",children:d.jsxs(V.div,{whileHover:{y:-5,rotateY:5},className:`group p-8 rounded-2xl border transition-all duration-300 relative overflow-hidden h-full 
                                        ${i.isAction?"bg-brand-orange border-brand-orange text-white shadow-xl shadow-brand-orange/20":"bg-white border-black/5 hover:border-brand-orange hover:shadow-lg"}
                                        lg:hover:-translate-y-2 lg:hover:shadow-2xl lg:transition-transform
                                    `,children:[!i.isAction&&d.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:d.jsx(sf,{className:"text-brand-orange"})}),d.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-6 transition-colors ${i.isAction?"bg-white/20 text-white":"bg-orange-50 text-brand-orange group-hover:bg-brand-orange group-hover:text-white"}`,children:d.jsx(i.icon,{size:24})}),d.jsx("h3",{className:`text-xl font-bold mb-3 ${i.isAction?"text-white":"text-gray-900"}`,children:i.title}),d.jsx("p",{className:`text-sm leading-relaxed ${i.isAction?"text-white/90":"text-gray-500"}`,children:i.desc}),d.jsxs("div",{className:`mt-8 pt-8 border-t flex justify-between items-center text-xs font-semibold uppercase tracking-wider ${i.isAction?"border-white/20 text-white/90":"border-black/5 text-gray-500 group-hover:border-brand-orange/20"}`,children:[d.jsx("span",{children:i.category}),!i.isAction&&d.jsx("span",{className:"text-brand-orange group-hover:translate-x-1 transition-transform",children:"Xem chi tit"})]})]})})},r))})]})})}function zR({progress:s}){const t=Ed(s,{stiffness:50,damping:20}),i=Oo(t,[0,1],[0,-200]),r=Oo(t,[0,1],[0,-400]),o=Oo(t,[0,.9],[0,1]);return d.jsxs("div",{className:"fixed inset-0 z-[-2] pointer-events-none overflow-hidden opacity-30",children:[d.jsxs("svg",{className:"w-full h-full absolute inset-0",viewBox:"0 0 1440 1000",preserveAspectRatio:"none",children:[d.jsx(V.path,{d:"M-200,100 C400,300 800,0 1600,400",fill:"none",stroke:"#f97316",strokeWidth:"30",strokeLinecap:"round",style:{y:i,pathLength:o},className:"opacity-40"}),d.jsx(V.path,{d:"M1000,-100 C800,500 1200,800 1000,1200",fill:"none",stroke:"#fed7aa",strokeWidth:"1",strokeDasharray:"5 5",style:{y:i},className:"opacity-20"}),d.jsx(V.path,{d:"M-400,800 C400,600 1000,900 1800,200",fill:"none",stroke:"#ea580c",strokeWidth:"50",strokeLinecap:"round",style:{y:r,pathLength:o},className:"opacity-15"})]}),d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,white_100%)] opacity-80"})]})}const UR=[{id:1,title:"KHI NG & LM QUEN",subtitle:"Pre-IELTS (Band 0 - 3.0)",duration:"3 Thng",sessions:"24 Bui",description:"Giai on lm quen vi ting Anh, xy dng tnh yu ngn ng v chun ha pht m ngay t u.",icon:d.jsx(ua,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),color:"bg-sky-400",courses:["Kick-start","Runner-up"],outcomes:["Xy dng vn t vng c bn","Chun ha pht m IPA","Nm vng ng php nn tng","T tin giao tip c bn"]},{id:2,title:"XY NN",subtitle:"Band 3.0 - 4.0",duration:"3 Thng",sessions:"24 Bui",description:"Cng c nn tng ng php v t vng, bt u tip xc vi cc bi c/nghe n gin ca IELTS.",icon:d.jsx(nS,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),color:"bg-blue-600",courses:["Avenger 1","Avenger 2"],outcomes:["Cng c ng php chuyn su","M rng t vng theo ch ","Lm quen dng bi Listening/Reading","Ni tri chy cc ch  quen thuc"]},{id:3,title:"TNG TC",subtitle:"Band 4.0 - 5.0",duration:"3 Thng",sessions:"24 Bui",description:"Pht trin ton din 4 k nng, tp trung vo chin thut lm bi v t duy logic.",icon:d.jsx(tf,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),color:"bg-brand-blue",courses:["Voyager 1","Voyager 2"],outcomes:["Nm vng chin thut Reading/Listening","Vit cu/on vn mch lc","Phn x Speaking t nhin","Kim sot thi gian lm bi"]},{id:4,title:"BT PH",subtitle:"Band 5.0 - 6.0",duration:"3 Thng",sessions:"24 Bui",description:"Nng cao band im vi cc bi tp kh, hon thin k nng Writing v Speaking chuyn su.",icon:d.jsx(Vy,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),color:"bg-amber-500",courses:["Elite 1","Elite 2"],outcomes:["X l cc dng bi kh","Vit bi lun Essay hon chnh","S dng Idioms/Collocations linh hot","Ti u im s tng k nng"]},{id:5,title:"NC RT",subtitle:"Band 6.0 - 6.5+",duration:"3 Thng",sessions:"24 Bui",description:"Giai on v ch, luyn  cng  cao v sa li chi tit  t target mong mun.",icon:d.jsx(iS,{className:"w-6 h-6 md:w-8 md:h-8 text-white"}),color:"bg-orange-600",courses:["Plus 1","Plus 2"],outcomes:["Thc chin vi b  d on","Chm cha Writing/Speaking chi tit","Khc phc im yu c nhn","Tm l phng thi vng vng"]}],BR=[{id:1,title:"IELTS Intensive 1",target:"Mc tiu: t 5.0 - 5.5+",desc:"Ly li cn bn & lm quen  thi cp tc."},{id:2,title:"IELTS Intensive 2",target:"Mc tiu: t 6.0 - 6.5+",desc:"Chin thut lm bi & ti u im s."},{id:3,title:"IELTS Intensive 3",target:"Mc tiu: t 7.0+",desc:"Luyn  chuyn su & sa li Writing/Speaking chi tit."}];function mx(){const s=U.useRef(null),[t,i]=U.useState(null),{scrollYProgress:r}=Ly({target:s,offset:["start center","end center"]}),o=Oo(r,[0,.8],[0,1]);return d.jsxs(V.section,{ref:s,className:"relative min-h-screen flex items-center py-32 bg-gray-50 overflow-hidden z-70 shadow-2xl",children:[d.jsx(zR,{progress:r}),d.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[d.jsx("div",{className:"text-center mb-24",children:d.jsxs(xe,{animation:"fade-up",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white border border-gray-100 shadow-sm mb-6",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-orange animate-pulse"}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-500",children:"L Trnh Hc Tp"})]}),d.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-800",children:["Hnh Trnh Chinh Phc ",d.jsx("span",{className:"text-brand-blue italic",children:"IELTS 7.5+"})]}),d.jsx("p",{className:"max-w-2xl mx-auto text-lg text-gray-600",children:"L trnh c c nhn ha, ti u theo tng giai on  m bo bn t c mc tiu nhanh nht."})]})}),d.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[d.jsxs("div",{className:"absolute left-8 md:left-1/2 top-4 bottom-4 w-1 -translate-x-1/2 md:translate-x-[-1px] z-0",children:[d.jsx("div",{className:"absolute inset-0 w-full h-full border-l-2 border-dashed border-gray-300",style:{left:"50%"}}),d.jsx(V.div,{className:"absolute top-0 left-1/2 w-[3px] -translate-x-1/2 bg-gradient-to-b from-brand-orange to-red-500 rounded-full origin-top",style:{height:"100%",scaleY:o}})]}),d.jsx("div",{className:"space-y-24",children:UR.map((u,f)=>{const m=f%2===0,v=t===f;return d.jsxs("div",{className:`relative flex items-center md:justify-between ${m?"md:flex-row":"md:flex-row-reverse"} gap-8`,onMouseEnter:()=>i(f),onMouseLeave:()=>i(null),children:[d.jsx("div",{className:`absolute left-8 md:left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-white border-[3px] shadow-lg z-20 flex items-center justify-center transition-colors duration-300 ${v?"border-brand-orange":"border-brand-orange/50"}`,children:d.jsx("div",{className:`w-2.5 h-2.5 rounded-full transition-colors duration-300 ${v?"bg-brand-orange":"bg-brand-orange/50"}`})}),d.jsx("div",{className:"pl-20 md:pl-0 w-full md:w-[45%] md:shrink-0",children:d.jsx(xe,{animation:m?"fade-right":"fade-left",delay:f*.1,children:d.jsxs(V.div,{whileHover:{y:-5},className:`group p-8 bg-white rounded-3xl border shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden relative ${v?"border-orange-200 ring-4 ring-orange-100 ":"border-black/5"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-6",children:[d.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center ${u.color} shadow-md transition-transform group-hover:scale-105 duration-300`,children:u.icon}),d.jsx("div",{className:"px-3 py-1 rounded-full bg-gray-100 text-[10px] md:text-xs font-bold uppercase tracking-wider text-gray-500 self-start",children:u.subtitle})]}),d.jsx("h3",{className:"text-2xl font-bold mb-3 text-gray-800 group-hover:text-brand-blue transition-colors",children:u.title}),d.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:u.description}),d.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[d.jsx("span",{className:"text-xs font-semibold bg-blue-50 text-blue-600 px-2 py-1 rounded border border-blue-100",children:u.duration}),d.jsx("span",{className:"text-xs font-semibold bg-purple-50 text-purple-600 px-2 py-1 rounded border border-purple-100",children:u.sessions})]}),d.jsx("div",{className:`absolute -bottom-4 -right-4 w-24 h-24 rounded-full opacity-10 z-[-1] ${u.color}`})]})})}),d.jsx("div",{className:"hidden md:block md:w-[45%] h-full relative min-h-[200px] flex flex-col justify-center",children:d.jsx(zy,{children:v&&d.jsxs("div",{className:`flex flex-col gap-4 ${m?"items-start":"items-end"}`,children:[d.jsxs(V.div,{initial:{opacity:0,x:m?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:m?-10:10},transition:{duration:.2},className:"bg-white/95 backdrop-blur-sm p-5 rounded-2xl border border-gray-200 shadow-xl w-[90%]",children:[d.jsxs("h4",{className:"text-xs font-bold uppercase text-brand-blue mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-brand-blue"}),"Kha hc tiu biu"]}),d.jsx("ul",{className:"space-y-2",children:u.courses.map((p,b)=>d.jsx("li",{className:"text-sm font-medium text-gray-700 pl-4 relative before:absolute before:left-0 before:top-2 before:w-1 before:h-1 before:rounded-full before:bg-gray-300",children:p},b))})]}),d.jsxs(V.div,{initial:{opacity:0,x:m?-20:20,y:10},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:m?-10:10,y:10},transition:{duration:.2,delay:.05},className:"bg-gradient-to-r from-brand-orange to-red-500 p-5 rounded-2xl shadow-lg w-[85%] text-white",children:[d.jsxs("p",{className:"text-xs font-bold uppercase opacity-90 mb-2 flex items-center gap-2",children:[d.jsx(Or,{className:"w-4 h-4"}),"Mc tiu u ra"]}),d.jsx("ul",{className:"space-y-1",children:u.outcomes.slice(0,3).map((p,b)=>d.jsxs("li",{className:"text-sm font-medium opacity-95",children:[" ",p]},b))})]})]})})})]},u.id)})})]})]})]})}const Te={"nguyen-to-nga":{id:"nguyen-to-nga",name:"Nguyn T Nga",title:"Gio vin IELTS ti WEAVER IELTS",ielts:"8.5 IELTS Overall",role:"Linearthinking Ambassador",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",quote:"Mt lp hc s l mt th gii nh an ton ni mi ngi c quan tm v t do ni ln suy ngh ca mnh."},"tran-minh-tam":{id:"tran-minh-tam",name:"Trn Minh Tm",title:"Gio vin IELTS thm nin",ielts:"8.0 IELTS Overall",role:"Head of Teaching Quality",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",quote:"Hc ngoi ng khng ch l hc ngn ng, m l hc v t duy v vn ha mi."},"david-smith":{id:"david-smith",name:"David Smith",title:"Former IELTS Examiner",ielts:"9.0 IELTS Overall",role:"Expert Speaking Coach",image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",quote:"Practice makes perfect, but feedback makes permanent."}};function HR(){const s=U.useRef(null),t=sl(),i=Object.values(Te);return d.jsx(V.section,{id:"mentors",ref:s,className:`relative min-h-screen flex items-center bg-white/80 backdrop-blur-xl border-t border-black/5 shadow-2xl z-[80] py-24 overflow-hidden ${t?"sticky top-0":""}`,children:d.jsxs("div",{className:"container mx-auto px-6 w-full",children:[d.jsx("div",{className:"mb-16 max-w-2xl",children:d.jsxs(xe,{animation:"fade-up",children:[d.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-900",children:["i ng ",d.jsx("span",{className:"text-brand-orange italic",children:"Ging vin."})]}),d.jsx("div",{className:"w-full h-px bg-black/10 mb-6"}),d.jsx("p",{className:"text-gray-500 text-lg leading-relaxed",children:"Hc hi trc tip t nhng gio vin c chuyn mn cao v kinh nghim thc chin."})]})}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((r,o)=>d.jsx(xe,{animation:"fade-right",delay:o*.1,children:d.jsx(V.div,{whileHover:{y:-10,rotateX:5},className:"group relative perspective-1000",children:d.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl h-full border border-black/5 hover:border-brand-orange/20 hover:shadow-xl transition-all duration-300",children:[d.jsxs("div",{className:"relative mb-6 overflow-hidden rounded-xl aspect-[4/5]",children:[d.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 grayscale group-hover:grayscale-0"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4",children:d.jsxs("div",{className:"flex gap-3",children:[d.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/20 hover:bg-white text-white hover:text-black transition-colors backdrop-blur-md",children:d.jsx(Py,{size:16})}),d.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/20 hover:bg-white text-white hover:text-black transition-colors backdrop-blur-md",children:d.jsx(sS,{size:16})})]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.name}),d.jsx("p",{className:"text-sm text-brand-orange font-medium",children:r.role})]}),d.jsx(sf,{size:16,className:"text-brand-orange opacity-0 group-hover:opacity-100 transition-opacity"})]}),d.jsx("p",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:r.ielts}),d.jsxs("div",{className:"text-sm text-gray-600 leading-relaxed pt-2 border-t border-black/5 mt-3 italic",children:['"',r.quote,'"']})]})]})})},o))})]})})}function PR(){const s=U.useRef(null),t=sl();return d.jsx(V.section,{id:"pricing",ref:s,className:`relative min-h-screen flex items-center bg-white/80 backdrop-blur-xl border-t border-black/5 shadow-2xl z-[60] py-24 ${t?"sticky top-0":""}`,children:d.jsxs("div",{className:"container mx-auto px-6 w-full",children:[d.jsx("div",{className:"text-center max-w-3xl mx-auto mb-20",children:d.jsxs(xe,{animation:"fade-up",children:[d.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-900",children:["Kha hc ",d.jsx("span",{className:"text-brand-orange",children:"Trng tm."})]}),d.jsx("p",{className:"text-gray-500 text-lg",children:"u t cho tng lai vi cc kha hc c thit k ti u cho tng giai on."})]})}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:OR.map((i,r)=>d.jsx(xe,{animation:"blur-in",delay:r*.2,children:d.jsxs(V.div,{whileHover:{y:-10},className:`relative rounded-3xl p-8 border transition-all duration-300 flex flex-col h-full 
                                    ${i.popular?"bg-white border-brand-orange shadow-2xl shadow-brand-orange/10 scale-105 z-10":"bg-transparent border-black/5 hover:bg-white hover:border-black/10"}
                                    /* Removed CSS hover translate to use Framer Motion */
                                    lg:hover:shadow-xl
                                `,children:[i.popular&&d.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 bg-brand-orange rounded-full text-xs font-bold text-white uppercase tracking-wider shadow-lg",children:"Ph bin nht"}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:i.name}),d.jsx("div",{className:"flex items-baseline gap-1",children:d.jsx("span",{className:"text-2xl font-bold text-gray-900",children:i.price})}),d.jsx("p",{className:"text-sm text-gray-500 mt-4 leading-relaxed",children:i.desc})]}),d.jsx("div",{className:"flex-grow space-y-4 mb-8",children:i.features.map((o,u)=>d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-1 rounded-full ${i.popular?"bg-brand-orange/10 text-brand-orange":"bg-black/5 text-gray-500"}`,children:d.jsx(Mo,{size:12,strokeWidth:3})}),d.jsx("span",{className:"text-sm text-gray-500",children:o})]},u))}),d.jsx(gt,{to:i.link,className:`w-full py-4 rounded-xl font-bold transition-all duration-300 text-center block ${i.popular?"bg-brand-orange text-white hover:bg-brand-orange/90 shadow-lg shadow-brand-orange/25":"bg-gray-900 text-white hover:bg-gray-800"}`,children:i.cta})]})},r))})]})})}function qR(){const s=U.useRef(null),t=sl();return d.jsxs(V.section,{id:"process",ref:s,className:`relative min-h-screen flex items-center bg-white/80 backdrop-blur-xl border-t border-black/5 shadow-2xl z-[90] py-24 overflow-hidden ${t?"sticky top-0":""}`,children:[d.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-brand-orange/20 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2 pointer-events-none"}),d.jsx("div",{className:"container mx-auto px-6 w-full",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[d.jsx("div",{className:"h-fit",children:d.jsxs(xe,{animation:"fade-up",children:[d.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-8 text-gray-900",children:["Quy trnh ",d.jsx("span",{className:"text-brand-orange",children:"Hc tp."})]}),d.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-12",children:"L trnh tinh gn gip bn i t mt gc n thnh tho ngoi ng trong thi gian ngn nht."}),d.jsx("button",{className:"px-8 py-4 rounded-full bg-gray-900 text-white font-bold hover:bg-gray-800 transition-colors shadow-lg",children:"ng k ngay"})]})}),d.jsx("div",{className:"space-y-12",children:DR.map((i,r)=>d.jsx(xe,{animation:"fade-right",delay:r*.1,children:d.jsxs("div",{className:"flex gap-6 group hover:translate-x-2 transition-transform duration-300",children:[d.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-2xl bg-gray-50 border border-black/5 flex items-center justify-center text-brand-orange group-hover:bg-brand-orange group-hover:text-white transition-all duration-300 shadow-sm",children:d.jsx(i.icon,{size:32})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-900",children:i.title}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.desc})]})]})},r))})]})})]})}function GR(){const s=U.useRef(null);return U.useEffect(()=>{const t=s.current;if(!t)return;const i=t.getContext("2d");if(!i)return;let r=[],o={x:0,y:0},u;const f=()=>{t.width=window.innerWidth,t.height=window.innerHeight},m=p=>{o.x=p.clientX,o.y=p.clientY,r.push({x:o.x,y:o.y,age:0})},v=()=>{if(i){if(i.clearRect(0,0,t.width,t.height),i.lineJoin="round",i.lineCap="round",i.shadowBlur=15,i.shadowColor="#f97316",r=r.filter(p=>p.age<50),r.forEach(p=>p.age++),r.length<2){u=requestAnimationFrame(v);return}i.beginPath(),i.moveTo(r[0].x,r[0].y);for(let p=1;p<r.length;p++){const b=r[p],_=r[p-1],x=(1-b.age/50)*.3;i.beginPath(),i.moveTo(_.x,_.y),i.lineTo(b.x,b.y),i.strokeStyle=`rgba(249, 115, 22, ${x})`,i.lineWidth=2*x,i.stroke()}u=requestAnimationFrame(v)}};return window.addEventListener("resize",f),window.addEventListener("mousemove",m),f(),v(),()=>{window.removeEventListener("resize",f),window.removeEventListener("mousemove",m),cancelAnimationFrame(u)}},[]),typeof window<"u"&&window.matchMedia("(hover: none)").matches?null:d.jsx("canvas",{ref:s,className:"fixed inset-0 z-[9999] pointer-events-none"})}function VR(){const s=U.useRef(null);return U.useEffect(()=>{const t=s.current;if(!t)return;const i=t.getContext("2d");if(!i)return;let r=[],o,u={x:0,y:0,radius:150};const f=["#f97316","#fb923c","#18181b","#d4d4d8"],m=()=>{t.width=window.innerWidth,t.height=window.innerHeight,v()},v=()=>{r=[];const _=Math.floor(t.width*t.height/25e3);for(let x=0;x<_;x++){const A=Math.random()*2+.5,R=Math.random()*t.width,D=Math.random()*t.height,B=Math.random()*1-.5,Q=Math.random()*1-.5,ue=f[Math.floor(Math.random()*f.length)];r.push({x:R,y:D,vx:B,vy:Q,size:A,color:ue,baseX:R,baseY:D,density:Math.random()*20+1})}},p=()=>{if(i){i.clearRect(0,0,t.width,t.height);for(let _=0;_<r.length;_++){let x=r[_];const A=u.x-x.x,R=u.y-x.y,D=Math.sqrt(A*A+R*R),B=A/D,Q=R/D,ue=u.radius,W=(ue-D)/ue,Ae=B*W*x.density,Vt=Q*W*x.density;if(D<u.radius)x.x-=Ae,x.y-=Vt;else{if(x.x!==x.baseX){const it=x.x-x.baseX;x.x-=it/10}if(x.y!==x.baseY){const it=x.y-x.baseY;x.y-=it/10}}i.beginPath(),i.arc(x.x,x.y,x.size,0,Math.PI*2),i.fillStyle=x.color,i.fill()}o=requestAnimationFrame(p)}},b=_=>{u.x=_.clientX,u.y=_.clientY};return window.addEventListener("resize",m),window.addEventListener("mousemove",b),m(),p(),()=>{window.removeEventListener("resize",m),window.removeEventListener("mousemove",b),cancelAnimationFrame(o)}},[]),d.jsx("div",{className:"fixed inset-0 z-[1] pointer-events-none overflow-hidden",children:d.jsx("canvas",{ref:s,className:"absolute inset-0 w-full h-full opacity-60"})})}const Dy=()=>{const{setLogoRect:s,startHeroAnimation:t}=GT();return d.jsxs(d.Fragment,{children:[d.jsx(GR,{}),d.jsx(VR,{}),d.jsx(RR,{startAnimation:t,onLogoMapped:s}),d.jsx(jR,{}),d.jsx(LR,{}),d.jsx(mx,{}),d.jsx(PR,{}),d.jsx(HR,{}),d.jsx(qR,{})]})},FR={"intensive-1":{id:"intensive-1",title:"IELTS Intensive 1",level:"IELTS 5.0+  6.0+",target:"Band 6.0+ (Hng 6.5)",duration:"2 Thng",sessions:"24 Bui",description:"Kha luyn thi IELTS cng  cao (Test-Prep Training), thit k cho hc vin  c nn tng, cn lm quen su vi  thi tht Cambridge & ti u ha im s.",outcomes:["Thnh tho cu trc  thi IELTS Cambridge chun","Tng tc  lm bi Reading & Listening di p lc thi gian","Vit Task 1 & Task 2 ng tiu ch band 6.06.5","Tr li Speaking Part 123 c chin lc, r  v ng trng tm","Nhn din im mnh  yu c nhn qua mock tests v feedback chi tit"],introduction:["INTENSIVE 1 l kha **luyn thi IELTS cng  cao**, c thit k cho hc vin  c nn tng IELTS c bn v cn lm quen su vi ** thi tht Cambridge**, ng thi ci thin ** chnh xc  tc   chin lc** phng thi  c 4 k nng.","Kha hc tp trung vo **Practice  Analysis  Feedback**, gip hc vin: - Lm quen p lc thi gian tht - Nhn din li c nhn lp li - iu chnh chin lc  **tng band mt cch thc t**"],targetAudience:["Hc vin  t IELTS ~5.06.0 cn duy tr v tng band","Ngi chun b thi IELTS trong thi gian ngn (cp tc)","Ngi cn luyn  tht v nhn feedback c th  ln band nhanh"],entryRequirements:["Trnh  u vo tng ng IELTS 5.0+"," hon thnh kha nn tng (Voyager / tng ng)","C kh nng t hc tt v chu c cng  luyn thi cao"],methodology:["Hc thng qua: Lm  tht -> Phn tch -> Sa li -> p dng li","Khng dy li ng php nn tng, tp trung ti a vo Application & Accuracy","Writing v Speaking c chm cha k theo Band Descriptors","Gio vin theo st tin  qua Lesson Diary v kt qu Mock Test"],teachers:[Te["nguyen-to-nga"],Te["tran-minh-tam"]],outputCommitment:"Band score tng t +0.5 n +1.0 so vi u vo.",curriculum:[{title:"GIAI ON 1: FOUNDATION & FAMILIARIZATION",type:"stage",time:"Bui 1 - 8",content:["Bui 1: Listening Test 1 (Part 1, 4) & Writing Task 2 (Time condition)","Bui 2: Reading Test 1 (Part 1, 2) & Speaking Part 1 (Topic strategy)","Bui 3: Listening Test 1 (Part 2, 3) & Writing Task 1 (Criteria analysis)","Bui 4: Reading Test 1 (Part 3) & Speaking Part 2, 3 (Develop ideas)","Bui 5-8: Thc hnh chuyn su vi Cambridge Test 2 & Vocabulary Unit 1-3"]},{title:"MID-TERM TEST: NH GI TIN ",type:"test",time:"Bui 9 - 10",content:["Bui 9: Mock Test 1 - Full 4 k nng (p lc phng thi tht)","Bui 10: Tr bi chi tit, phn tch li & iu chnh l trnh"]},{title:"GIAI ON 2: SKILL MASTERY & ACCELERATION",type:"stage",time:"Bui 11 - 22",content:["Cambridge Test 3, 4, 5: Xoay vng rn luyn 4 k nng","Listening: X l dng kh (Multiple Choice, Matching)","Reading: K thut x l bi c di & cu hi kh","Writing: Luyn tc  Task 1 & Task 2 song song","Speaking: Tng  tri chy (Coherence) & T vng (Lexical)","Vocabulary Correction: Unit 4  Unit 9"]},{title:"FINAL TEST: NH GI U RA",type:"test",time:"Bui 23 - 24",content:["Bui 23: Mock Test 2 - M phng 100% k thi tht","Bui 24: nh gi Band Score & T vn chin lc thi"]}],price:"Lin h",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"intensive-2":{id:"intensive-2",title:"IELTS Intensive 2",level:"IELTS 6.0+  6.5+",target:"Band 6.5+ (Hng 7.0)",duration:"2 Thng",sessions:"24 Bui",description:"Chin thut lm bi & ti u im s. Tp trung x l cc dng bi kh v nng cao vn t vng hc thut.",introduction:["INTENSIVE 2 tp trung vo **chin thut lm bi chuyn su** v ti u ha im s. Kha hc gii quyt dt im cc dng bi kh nh **Headings, T/F/NG** trong Reading  bt ph band im.","Hc vin s c **nng cp vn t vng hc thut** v rn luyn **t duy phn bin (Critical Thinking)**  bi Speaking & Writing t  su sc v **thuyt phc gim kho**."],outcomes:["Nm vng chin thut x l cc dng bi Reading kh (Headings, T/F/NG)","Nng cp Vocabulary Writing & Speaking ln band 7.0+","T duy phn bin logic trong Writing Task 2","Luyn  Cambridge mi nht di p lc thi gian"],targetAudience:["Hc vin ang kt  band 6.0 mun bt ph ln 6.5 - 7.0","Ngi cn rn luyn t duy logic v critical thinking","Hc vin cn sa li sai h thng trong Writing & Speaking"],entryRequirements:[" t IELTS 6.0 hoc tng ng","C kh nng t hc tt","Cam kt lm bi tp y "],methodology:["Tp trung vo Advanced Strategies cho tng dng bi kh","Phn tch li sai (Error Analysis) chi tit","T duy phn bin (Critical Thinking) trong Writing/Speaking","Luyn  p lc cao (Exam Pressure Simulation)"],outputCommitment:"Cam kt u ra 6.5+ (Hng ti 7.0)",curriculum:[{title:"GIAI ON 1: ADVANCED STRATEGIES & SKILL REFINEMENT",type:"stage",time:"Bui 1 - 10",content:["Writing: Advanced Cohesion & Coherence, Topic Vocabulary","Reading: Speed Reading & Keywords Strategy cho bi c di","Listening: X l distraction trong Section 3 & 4","Speaking: Idiomatic Expressions & Complex Structures Part 2-3","Mini-tests nh k  kim tra tin "]},{title:"MID-TERM TEST: NH GI NNG LC",type:"test",time:"Bui 11 - 12",content:["Mock Test 1: Full test 4 k nng chun Cambridge","Feedback chi tit & T vn chin lc giai on 2"]},{title:"GIAI ON 2: INTENSIVE PRACTICE & EXAM SIMULATION",type:"stage",time:"Bui 13 - 22",content:["Luyn  Cambridge mi nht (16-18)","Writing: Cha bi 1:1, tp trung vo Task Response & LR","Speaking: Mock Speaking 1:1 vi gio vin, sa pht m & ng iu","Reading & Listening: Phn tch li sai & khc phc im yu","Qun l thi gian & tm l phng thi"]},{title:"FINAL TEST: NH GI U RA",type:"test",time:"Bui 23 - 24",content:["Mock Test 2: Full test m phng thi tht 100%","nh gi band im d kin & Li khuyn trc khi thi"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"Lin h"},"intensive-3":{id:"intensive-3",title:"IELTS Intensive 3",level:"IELTS 7.0+",target:"Band 7.0+ (Hng 7.5 - 8.0)",duration:"2.5 Thng",sessions:"30 Bui",description:"Luyn  chuyn su & sa li Writing/Speaking chi tit. Dnh cho hc vin aiming band im cao.",introduction:["INTENSIVE 3 l b phng cho **mc tiu Band 7.0+**. Kha hc mi gia k nng Writing & Speaking t mc  **t nhin nh ngi bn x (Native-like)** v x l cc ch  tru tng kh.","Thng qua **Deep Dive Analysis** (phn tch su) v feedback chi tit tng cu ch, hc vin s hon thin t duy logic sc bn  **ti a ha im s**  c 4 k nng."],outcomes:["Hon thin k nng Writing & Speaking mc  Native-like","X l cc ch  Abstract kh trong Speaking Part 3","Mi gia t duy Writing sc bn, logic cht ch","Ti a ha im s Listening & Reading (hng ti 8.5-9.0)"],targetAudience:["Hc vin  c nn tng vng (7.0), mun chinh phc band cao (7.5 - 8.0+)","Gio vin ting Anh mun nng cao trnh ","Du hc sinh cn im cao  xin hc bng"],entryRequirements:["IELTS 7.0+ (u vo bt buc)","T duy ngn ng tt","S kin tr v k lut cao"],methodology:["Deep Dive Analysis: Phn tch su cc bi mu band 9.0","Personalized Feedback: Sa bi chi tit tng cu ch","Advanced Vocabulary & Grammar: Collocations, Idioms, Nuances","Critical Reading & Listening"],outputCommitment:"Cam kt u ra 7.5+ (Ty nng lc u vo)",curriculum:[{title:"GIAI ON 1: MASTERY & REFINEMENT",type:"stage",time:"Bui 1 - 12",content:["Writing: Nng cp style vit, academic tone & vocabulary","Speaking: Luyn tp cc topic kh, abstract ideas","Reading: Chin thut x l cc bi bo khoa hc, vn hc","Listening: Nghe cc accent kh, tc  nhanh (TED Talks, BBC)","Phn tch chuyn su cc tiu ch chm im nng cao"]},{title:"MID-TERM REVIEW: NH GI & IU CHNH",type:"test",time:"Bui 13 - 14",content:["Mock Test 1: Full test p lc cao","Review 1:1: Phn tch im mnh/yu & Chin lc c nhn ha"]},{title:"GIAI ON 2: EXAM SIMULATION & PERFORMANCE OPTIMIZATION",type:"stage",time:"Bui 15 - 28",content:["Luyn  thi tht cc nm gn y","Writing: Timed Essays vi feedback chi tit","Speaking: Mock Interviews lin tc","Ti u ha chin thut lm bi  t im ti a","X l cc tnh hung kh trong phng thi"]},{title:"FINAL CHALLENGE: V CH",type:"test",time:"Bui 29 - 30",content:["Mock Test 2: Final Assessment","T vn tm l & chin thut pht cht"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"Lin h"},"kick-start":{id:"kick-start",title:"Kick-start",level:"0 - 1.5",target:"Band 1.5+",duration:"1.5 Thng",sessions:"12 Bui",description:"Kha hc khi ng dnh cho ngi mt gc hon ton, tp trung xy dng tnh yu ngn ng v pht m chun.",introduction:["Kha hc Kick-start c thit k c bit dnh ring cho **ngi mt gc ting Anh hon ton**. y l bc khi u nh nhng nhng vng chc, tp trung xy dng tnh yu ngn ng v **chun ha nn tng pht m** ngay t u.","Ti lp hc ny, hc vin khng ch hc ting Anh m cn c **'ti nh hnh' t duy ngn ng**, xa b ni s ni sai v t tin giao tip cc ch  c bn nht."],outcomes:["Chun ha pht m IPA c bn","Xy dng 500+ t vng thng dng","Nm vng cu trc cu n gin","Xa b ni s ting Anh"],targetAudience:["Ngi mt gc ting Anh hon ton","Ngi mun hc li t u nhng cha bit bt u t u","Hc vin cn chun ha pht m"],entryRequirements:["Khng yu cu u vo","Thi  hc tp tch cc"],methodology:["Hc qua hnh nh & m thanh (Multi-sensory)","Phn x giao tip (Call & Response)","Gamification (Hc qua tr chi)","Correction trc tip ti lp"],outputCommitment:"Nm vng IPA v giao tip c bn",curriculum:[{title:"GIAI ON 1: PRONUNCIATION & VOCABULARY",type:"stage",time:"Bui 1 - 5",content:["Bng phin m IPA: Nguyn m n & i","Ph m & Cch t li chun","T vng ch : Greeting, Family, Numbers, Colors","Ng php: To be, Nouns, Pronouns"]},{title:"MID-TERM CHECK: KIM TRA PHT M",type:"test",time:"Bui 6",content:["Kim tra pht m 1:1 vi gio vin","Sa li sai cn bn"]},{title:"GIAI ON 2: BASIC COMMUNICATION",type:"stage",time:"Bui 7 - 11",content:["Ng php: Present Simple, Present Continuous","T vng: Daily Routine, Hobbies, Jobs","Luyn nghe: Bt t kha n gin","Luyn ni: Gii thiu bn thn, hi p thng tin c bn"]},{title:"FINAL TEST: NH GI CUI KHA",type:"test",time:"Bui 12",content:["Bi thi tng hp: T vng, Ng php, Nghe, Ni","nh hng l trnh ln Runner-up"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"3.500.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"runner-up":{id:"runner-up",title:"Runner-up",level:"1.5 - 3.0",target:"Band 3.0+",duration:"1.5 Thng",sessions:"12 Bui",description:"Bc m quan trng trc khi vo IELTS chnh thc. Cng c ng php nn tng vng chc.",introduction:["RUNNER-UP l **bc m quan trng** trc khi chnh thc bc vo luyn thi IELTS. Kha hc gip hc vin **cng c dt im l hng ng php** v xy dng s t tin khi s dng ting Anh.","Tp trung vo 12 th c bn v **giao tip ng dng**, Runner-up gip bn chuyn t vic 'bit' ting Anh sang **'hiu v dng'** c ting Anh mt cch chnh xc."],outcomes:["Nm vng 12 th c bn trong ting Anh","Nghe hiu on hi thoi ngn","c hiu vn bn n gin","Giao tip t tin ch  hng ngy"],targetAudience:["Hc vin  bit s qua ting Anh nhng hng ng php","Ngi mun cng c nn tng  hc IELTS","Hc vin cn m rng vn t vng"],entryRequirements:["u vo khong 1.5 (Test xp lp)"," bit bng IPA c bn"],methodology:["Communicative Approach (Giao tip)","Grammar in context (Ng php ng dng)","Repetition & Practice","Interactive activities (Hot ng tng tc)"],outputCommitment:" trnh   bt u l trnh IELTS (Avenger)",curriculum:[{title:"GIAI ON 1: GRAMMAR FOUNDATION",type:"stage",time:"Bui 1 - 5",content:["n tp 12 th c bn (Tenses)","Ng php: Cu b ng (Passive Voice), Cu iu kin (Conditionals)","T vng: Travel, Food, Weather","Listening: Basic dialogues"]},{title:"MID-TERM TEST: KIM TRA NG PHP",type:"test",time:"Bui 6",content:["Bi kim tra ng php & t vng","Feedback li sai thng gp"]},{title:"GIAI ON 2: SKILL INTRODUCTION",type:"stage",time:"Bui 7 - 11",content:["Reading: c hiu vn bn ngn, tm  chnh","Writing: Vit cu hon chnh, on vn ngn","Speaking: Hi thoi theo ch , pht trin ","Listening: Note-taking c bn"]},{title:"FINAL TEST: NH GI NNG LC",type:"test",time:"Bui 12",content:["Bi thi tng hp 4 k nng (mc  c bn)","nh gi iu kin ln lp Avenger"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"3.500.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"avenger-1":{id:"avenger-1",title:"Avenger 1",level:"Band 3.0 - 3.5",target:"Band 3.5+",duration:"1.5 Thng",sessions:"12 Bui",description:"Kha hc nn tng IELTS u tin. Lm quen vi format  thi v xy dng t vng hc thut c bn.",introduction:["Avenger 1 l kha hc **t vin gch u tin** cho hnh trnh chinh phc IELTS. Kha hc gip hc vin chuyn tip mt m t ting Anh giao tip sang **ting Anh hc thut (Academic)**.","Hc vin s c lm quen vi **cu trc bi thi IELTS chun quc t**, ng thi xy dng ngn hng t vng hc thut ct li  khng b ng trc cc bi c, nghe chuyn su."],outcomes:["Hiu r cu trc bi thi IELTS","Xy dng vn t vng Academic c bn","Lm quen k nng Skimming & Scanning","Vit on vn ngn (Paragraph Writing)"],targetAudience:["Hc vin mi bt u tm hiu IELTS","Ngi c nn tng ting Anh c bn (3.0)","Hc vin mun xy dng l trnh IELTS bi bn"],entryRequirements:["u vo IELTS 3.0 (Test xp lp)","Bit ng php c bn"],methodology:["Step-by-step guidance (Cm tay ch vic)","Vocabulary building (Xy dng t vng theo ch )","Skill isolation (Luyn tng k nng nh)","Regular feedback (Phn hi thng xuyn)"],outputCommitment:"Hiu r format IELTS v t band 3.5+",curriculum:[{title:"GIAI ON 1: INTRODUCTION TO IELTS",type:"stage",time:"Bui 1 - 5",content:["Tng quan v IELTS: Format, tiu ch chm","Listening: Lm quen Section 1 (in t)","Reading: K nng Skimming & Scanning, dng bi in t","Speaking: Part 1 - Gii thiu bn thn, Gia nh, S thch"]},{title:"MID-TERM TEST: MINI TEST",type:"test",time:"Bui 6",content:["Mini Test Listening & Reading","Speaking Part 1 Interview"]},{title:"GIAI ON 2: SKILL BUILDING",type:"stage",time:"Bui 7 - 11",content:["Writing: Cu trc cu, on vn (Paragraph)","Reading: Dng bi True/False/Not Given c bn","Listening: Section 2 (C bn)","Vocabulary: Education, Work, Hometown"]},{title:"FINAL TEST: NH GI CUI KHA",type:"test",time:"Bui 12",content:["Full Test (Rt gn) 4 k nng","nh gi iu kin ln lp Avenger 2"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"4.500.000",originalPrice:"5.500.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"avenger-2":{id:"avenger-2",title:"Avenger 2",level:"Band 3.5 - 4.0",target:"Band 4.0+",duration:"1.5 Thng",sessions:"12 Bui",description:"Tip ni Avenger 1, nng cao  kh v bt u luyn tp cc dng bi c bn ca IELTS.",introduction:["AVENGER 2 nng cp  kh  hc vin lm ch **cc dng bi c bn** ca  thi tht. Bn s khng cn b ng vi tc  ca bi nghe hay  di ca bi c na.","Kha hc tp trung rn luyn k nng **vit Introduction & Overview** chun mc cho Task 1 v **phn x tri chy** cho Speaking Part 1, to  vng chc cho cc band cao hn."],outcomes:["Nm vng cc dng bi Listening Section 1 & 2","X l Reading Passage 1 thnh tho","Vit Introduction & Overview cho Task 1","Phn x Speaking Part 1 tri chy"],targetAudience:["Hc vin  hc xong Avenger 1","u vo IELTS 3.5","Ngi mun tp trung vo k nng lm bi c bn"],entryRequirements:["IELTS 3.5 hoc hon thnh Avenger 1","Chm ch lm bi tp v nh"],methodology:["Practice-based learning (Hc qua thc hnh)","Error correction (Sa li)","Interactive Speaking (Ni tng tc)","Writing Frameworks (Khung bi vit)"],outputCommitment:"t band 4.0+, sn sng cho Voyager",curriculum:[{title:"GIAI ON 1: SKILL DEVELOPMENT",type:"stage",time:"Bui 1 - 5",content:["Listening: Section 1 & 2 Mastery","Reading: Dng bi Matching Headings (D)","Writing: Task 1 - Line Graph & Bar Chart c bn","Speaking: M rng cu tr li Part 1"]},{title:"MID-TERM TEST: SKILL CHECK",type:"test",time:"Bui 6",content:["Test 4 k nng (Level 3.5-4.0)","nh gi tin b"]},{title:"GIAI ON 2: CONSOLIDATION",type:"stage",time:"Bui 7 - 11",content:["Writing: Task 1 - Pie Chart & Table","Reading: Passage 1 Full Practice","Speaking: Luyn tp cc topic ph bin (Media, Transport)","Listening: Dictation & Note-taking"]},{title:"FINAL TEST: NH GI U RA",type:"test",time:"Bui 12",content:["Mock Test IELTS Full (Level 4.0)","T vn l trnh tip theo"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"4.500.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"voyager-1":{id:"voyager-1",title:"Voyager 1",level:"Band 4.0+ - 5.0+",target:"Band 5.0+",duration:"3 Thng",sessions:"24 Bui",description:"Kha hc nn tng xy dng t duy IELTS ng ngay t u. Tp trung vo Mindset  Chin lc  Ngn ng.",introduction:["VOYAGER 1 l kha hc nn tng trong l trnh IELTS, c thit k dnh cho hc vin  mc 4.0+ mong mun xy dng **t duy lm bi thi IELTS ng ngay t u**, ng thi cng c ngn ng ct li (grammar & vocabulary) theo tng k nng.",'Kha hc tp trung vo **Mindset  Chin lc  Ngn ng**, gip hc vin khng ch "lm c bi" m cn hiu **v sao lm nh vy**. Hc vin s c trang b k nng x l cc dng cu hi ph bin  band 4.05.0 mt cch bi bn.'],outcomes:["Hiu cu trc bi thi IELTS v yu cu tng k nng","p dng chin lc lm bi cho cc dng cu hi Band 4.0-5.0","Vit c bi Task 1 r rng, ng format (Process, Maps, Charts)","Tr li Speaking Part 1 mch lc, kim sot Part 2","Nghe  c c nh hng, khng lm bi theo cm tnh"],targetAudience:["Hc vin ang  mc IELTS ~4.0","Ngi mt nh hng, hc nhiu nhng khng ln band","Ngi cn nn tng chin lc trc khi ln cc kha cao hn"],entryRequirements:["Trnh  tng ng IELTS 4.0 (hoc hon thnh AVENGER 2)","Nm vng ng php c bn","C kh nng nghe - c cu ngn","Cam kt lm bi tp v tham gia sa bi"],methodology:["Hc theo Exam Skills + Learning Strategies + Language Focus","Mi bui hc u gn vi dng bi IELTS c th","Ngn ng c dy ng    va tm band","Sa bi v phn hi chi tit qua Lesson Diary"],outputCommitment:"Nn tng vng chc cho Band 5.0+, sn sng cho Voyager 2",curriculum:[{title:"UNIT 1: FAMILY & DAILY LIFE",type:"stage",time:"Bui 1 - 4",content:["Reading: Short Answer Questions (Scanning & Keywords)","Writing Task 1: Process Diagram (Intro & Overview)","Listening Part 1: Multiple Choice & Numbers","Speaking Part 1: Family (Answer Extension)"]},{title:"UNIT 2: HOMES & PLACES",type:"stage",time:"Bui 5 - 8",content:["Reading: Sentence Completion (Paraphrase)","Writing Task 1: Maps & Places (Describing Changes)","Listening Part 1: Short Answer Questions (Spelling)","Speaking Part 1: Hometown (Past Tenses)"]},{title:"MID-TERM REVIEW & TEST",type:"test",time:"Bui 9 - 12",content:["Workbook Correction: Units 1-2 (Grammar & Vocab)","Midterm Test: All Skills (nh gi gia kha)"]},{title:"UNIT 3: WORK & STUDY",type:"stage",time:"Bui 13 - 16",content:["Reading: Multiple Choice (Main Ideas)","Writing Task 1: Charts (Bar / Pie / Graph)","Listening Part 3: Sentence Completion (Synonyms)","Speaking Part 1 & 2: Work & Study (Organising Ideas)"]},{title:"UNIT 4: FOOD & DAILY HABITS",type:"stage",time:"Bui 17 - 20",content:["Reading: Matching Information & Sentence Completion","Writing Task 1: Two Diagrams (Comparisons)","Listening Part 1: Classification & Matching","Speaking Part 1 & 2: Food & Meals (Opinions)"]},{title:"FINAL REVIEW & TEST",type:"test",time:"Bui 21 - 24",content:["Workbook Correction: Units 3-4","Final Test: All Skills (nh gi u ra)"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"5.000.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"voyager-2":{id:"voyager-2",title:"Voyager 2",level:"Band 4.5 - 5.0",target:"Band 5.0+",duration:"1.5 Thng",sessions:"12 Bui",description:"Hon thin k nng nn tng. Sn sng cho giai on luyn  chuyn su.",introduction:["VOYAGER 2 l giai on **hon thin k nng nn tng** cui cng trc khi bc vo luyn  chuyn su. Hc vin s x l trn vn bi **Writing Task 1** (Process, Map) v thnh tho **Essay Planning**.","Vi cc bi **Mock Speaking** lin tc, kha hc gip bn xa b s ngp ngng v xy dng phong thi thi **t tin, chuyn nghip**."],outcomes:["Hon thnh bi Writing Task 1 hon chnh","Lm quen Task 2 Essay Planning","Chin thut Speaking Part 2","Listening Section 3 Practice"],targetAudience:[" hon thnh Voyager 1 hoc tng ng","u vo 4.5+","Cn hon thin k nng trc khi vo luyn "],entryRequirements:["IELTS 4.5+","Nm vng cu trc Essay v Speaking Part 2"],methodology:["Intensive Practice","Detailed Feedback","Model Analysis (Phn tch bi mu)","Mock speaking sessions"],outputCommitment:"Band 5.0+, sn sng cho Elite/Intensive 1",curriculum:[{title:"GIAI ON 1: PRE-ADVANCED SKILLS",type:"stage",time:"Bui 1 - 5",content:["Writing Task 1: Process & Maps","Writing Task 2: Opinion & Discussion Essay","Speaking Part 2: Fluency & Coherence focus","Reading: Passage 3 Introduction"]},{title:"MID-TERM TEST: SKILL CHECK",type:"test",time:"Bui 6",content:["Test k nng Writing & Speaking chuyn su","Feedback chi tit"]},{title:"GIAI ON 2: SKILL INTEGRATION",type:"stage",time:"Bui 7 - 11",content:["Writing: Luyn vit bi hon chnh trong thi gian gii hn","Speaking: Mock Speaking vi gio vin nc ngoi (nu c)","Listening: Section 4 Strategy","Review tt c cc dng bi Reading"]},{title:"FINAL TEST: NH GI U RA",type:"test",time:"Bui 12",content:["Mock Test Full","nh gi u ra 5.0+"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"5.000.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"elite-1":{id:"elite-1",title:"Elite 1",level:"Band 5.0 - 5.5",target:"Band 5.5+",duration:"1.5 Thng",sessions:"12 Bui",description:"Bt ph im s. Tp trung vo t duy logic v cch din t hc thut.",introduction:["ELITE 1 tp trung vo s **bt ph v t duy**. Hc vin s hc cch trin khai **Writing Task 2** (Opinion/Discussion) mt cch chnh xc, mch lc v giu sc thuyt phc.","Kha hc cng rn luyn k nng nghe cc **ging c kh (Accents)** v chin thut Reading passage 3  hc vin khng b 'khp' khi gp  thi kh."],outcomes:["Vit Writing Task 2 hon chnh (Opinion/Discussion)","Thnh tho Speaking Part 2","Luyn nghe ging a dng (Accents)","Reading Passage 3 Strategy"],targetAudience:[" t IELTS 5.0","Mun nng band nhanh ln 5.5+","Cn ci thin t duy Logic"],entryRequirements:["IELTS 5.0+","C kh nng vit Essay"],methodology:["Logic-based Writing","Accent Familiarization","Speed Reading","Advanced Vocabulary"],outputCommitment:"Band 5.5+, t duy mch lc",curriculum:[{title:"GIAI ON 1: ADVANCED WRITING & SPEAKING",type:"stage",time:"Bui 1 - 5",content:["Writing: Opinion Essay, Causes & Solutions Essay","Speaking Part 3: Introduction & Strategy","Reading: Yes/No/Not Given kh","Listening: Accents (British, Australian, American)"]},{title:"MID-TERM TEST",type:"test",time:"Bui 6",content:["Test Writing & Speaking full","Review li Logic"]},{title:"GIAI ON 2: SKILL MASTERY",type:"stage",time:"Bui 7 - 11",content:["Writing Task 1: Mixed Charts","Speaking Part 3: Discussion & Debate","Reading: Full Test Practice (Time pressure)","Listening: Section 4 Note-taking"]},{title:"FINAL TEST",type:"test",time:"Bui 12",content:["Mock Test Full","Assessment 5.5+"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"5.800.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"elite-2":{id:"elite-2",title:"Elite 2",level:"Band 5.5 - 6.0",target:"Band 6.0+",duration:"1.5 Thng",sessions:"12 Bui",description:"Hon thin 4 k nng  mc  trung-cao cp. Chun b cho cc bi thi th.",introduction:["ELITE 2 thch thc hc vin vi cc dng bi **kh nht ca IELTS**. Bn s chinh phc cc biu  phc tp (Process, Map) v cc ch  Speaking **tru tng (Abstract topics)**.","Mc tiu l ** chnh xc tuyt i** v s tinh t trong cch dng t, gip bi lm ca bn ni bt hn hn so vi mt bng chung."],outcomes:["X l cc dng bi Writing kh (Process/Map)","Speaking Part 3 Introduction","Listening Section 4 Strategy","Ti u ha thi gian lm bi Reading"],targetAudience:["IELTS 5.5+","Cn hon thin k nng  ln 6.0","Chun b hc Intensive"],entryRequirements:["IELTS 5.5+","Nm vng cc dng bi c bn"],methodology:["Advanced Error Correction","Mock Tests","Tactical Training","Style enhancement"],outputCommitment:"Band 6.0+, sn sng cho Intensive 1",curriculum:[{title:"GIAI ON 1: CHALLENGING TYPES",type:"stage",time:"Bui 1 - 5",content:["Writing Task 1: Maps, Process, Diagrams","Writing Task 2: Two-part Question, Advantages/Disadvantages","Speaking Part 3: Abstract Topics","Advanced Reading Strategies"]},{title:"MID-TERM TEST",type:"test",time:"Bui 6",content:["Test Full Skills","Focus on Accuracy"]},{title:"GIAI ON 2: FINISHING TOUCHES",type:"stage",time:"Bui 7 - 11",content:["Luyn  mix 4 k nng","p lc thi gian tht","Sa li t vng & ng php nng cao","Speaking: Idioms & Collocations"]},{title:"FINAL TEST",type:"test",time:"Bui 12",content:["Mock Test Full","Assessment 6.0+"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"5.800.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"plus-1":{id:"plus-1",title:"Plus 1",level:"Band 6.0 - 6.5",target:"Band 6.5+",duration:"1.5 Thng",sessions:"12 Bui",description:"Nc rt v ch. Luyn  v sa li chi tit.",introduction:["PLUS 1 l giai on **nc rt v ch**. Hc vin c thc chin vi **b  Cambridge mi nht** di p lc thi gian tht nh trong phng thi.","Thng qua qu trnh **sa li chi tit 1:1**, gio vin s gip bn khc phc nhng li sai nh nht  **ti u ha im s** v gi vng tm l thi c."],outcomes:["Thc chin vi b  Cambridge mi nht","Sa li Writing/Speaking chi tit tng cu","Nng cp Vocabulary Band 7+","Chin thut phng thi tm l vng"],targetAudience:["IELTS 6.0","Cn luyn  cng  cao","Mun ti u im s"],entryRequirements:["IELTS 6.0+","Kh nng t hc cao"],methodology:["Exam simulation","Deep analysis","Strategic planning","Result-oriented"],outputCommitment:"t band 6.5+",curriculum:[{title:"GIAI ON 1: EXAM STRATEGIES",type:"stage",time:"Bui 1 - 5",content:["Luyn  Cambridge (Reading/Listening)","Writing: Advanced Vocab & Grammar","Speaking: Complex Questions Part 3","Phn tch li sai chi tit"]},{title:"MID-TERM TEST",type:"test",time:"Bui 6",content:["Mock Test Full","Review chin thut"]},{title:"GIAI ON 2: INTENSIVE DRILL",type:"stage",time:"Bui 7 - 11",content:["Gii  di p lc thi gian","Speaking: Mock Interview lin tc","Writing: Cha bi 1:1","Ti u im s tng phn"]},{title:"FINAL TEST",type:"test",time:"Bui 12",content:["Final Mock Test","Ready for Real Exam"]}],teachers:[Te["nguyen-to-nga"],Te["david-smith"]],price:"6.500.000",schedule:"Ti 2-4-6 hoc 3-5-7 (19:30 - 21:00)"},"plus-2":{id:"plus-2",title:"Plus 2",level:"Band 6.5 - 7.0+",target:"Band 7.0+",duration:"1.5 Thng",sessions:"12 Bui",description:"Chinh phc band im cao. Ti u ha im s tng thnh phn nh nht.",introduction:["PLUS 2 dnh cho nhng 'chin binh' hng ti s hon ho. Mi k nng s c mi gia  t n  **chnh xc v t nhin** cao nht (Band 7.0 - 8.0).","Kha hc l chui ngy rn luyn **p lc cao (High-pressure)**, gip bn bt ph gii hn bn thn v sn sng chinh phc band im m c."],outcomes:["Hon thin k nng Writing band 7.0+","Speaking Part 3 Fluency & Coherence","Listening & Reading 8.0+ Target","Mock Test p lc cao"],targetAudience:["IELTS 6.5+","Aiming 7.0 - 7.5+","Cn s hon ho trong tng k nng"],entryRequirements:["IELTS 6.5+","T duy tt"],methodology:["Perfectionism","Native-like expression","Advanced Logic","High-pressure training"],outputCommitment:"Band 7.0+",curriculum:[{title:"GIAI ON 1: MASTERING SKILLS",type:"stage",time:"Bui 1 - 5",content:["Writing: Band 8.0 structures","Speaking: Idiomatic & Natural flow","Reading: Speed & Accuracy (9.0 Target)","Listening: Distractors Mastery"]},{title:"MID-TERM TEST",type:"test",time:"Bui 6",content:["High level Checkpoint","Fine-tuning"]},{title:"GIAI ON 2: PEAK PERFORMANCE",type:"stage",time:"Bui 7 - 11",content:["Full Mock Tests (Harder than real exam)","Writing & Speaking deep correction","Psychological preparation","Last minute tips"]},{title:"FINAL TEST",type:"test",time:"Bui 12",content:["Final Assessment","Go for 7.0+"]}],teachers:[Te["nguyen-to-nga"]],price:"6.500.000"}},YR="/assets/hero_course_bg-5RJR46GN.jpg",KR=({course:s})=>d.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white via-orange-100 to-brand-orange/30 z-0"}),d.jsx("div",{className:"absolute top-1/2 right-0 w-[600px] h-[600px] bg-gradient-to-br from-brand-orange/40 to-red-500/30 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 z-0 pointer-events-none mix-blend-multiply"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-gradient-to-tr from-brand-orange/30 to-yellow-500/30 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4 z-0 pointer-events-none mix-blend-multiply"}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-brand-orange/50 to-transparent z-10"}),d.jsx("div",{className:"container mx-auto px-6 relative z-10",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsx("div",{className:"text-center lg:text-left",children:d.jsxs(xe,{animation:"fade-right",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 bg-brand-orange/10 text-brand-orange px-4 py-1.5 rounded-full font-bold text-xs uppercase tracking-wider mb-6",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-orange animate-pulse"}),"Khai ging hng thng"]}),d.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-gray-900 leading-tight",children:s.title}),d.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed max-w-2xl mx-auto lg:mx-0",children:s.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 border-t border-gray-200 pt-8",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1 justify-center lg:justify-start",children:[d.jsx(Yy,{size:16}),d.jsx("span",{className:"text-sm font-semibold uppercase",children:"Trnh "})]}),d.jsx("div",{className:"font-bold text-gray-900 text-lg",children:s.level})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1 justify-center lg:justify-start",children:[d.jsx(nf,{size:16}),d.jsx("span",{className:"text-sm font-semibold uppercase",children:"Mc tiu"})]}),d.jsx("div",{className:"font-bold text-brand-orange text-lg",children:s.target})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1 justify-center lg:justify-start",children:[d.jsx(aS,{size:16}),d.jsx("span",{className:"text-sm font-semibold uppercase",children:"Thi lng"})]}),d.jsx("div",{className:"font-bold text-gray-900 text-lg",children:s.duration})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1 justify-center lg:justify-start",children:[d.jsx(rS,{size:16}),d.jsx("span",{className:"text-sm font-semibold uppercase",children:"Bui hc"})]}),d.jsx("div",{className:"font-bold text-gray-900 text-lg",children:s.sessions})]})]})]})}),d.jsx(xe,{animation:"fade-left",delay:.2,children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-4 bg-brand-orange/20 rounded-[2rem] blur-2xl transform rotate-3 opacity-50"}),d.jsxs("div",{className:"relative rounded-[2rem] overflow-hidden shadow-2xl border-4 border-white aspect-[4/3] group",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"}),d.jsx("img",{src:s.heroImage||YR,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),d.jsxs("div",{className:"absolute bottom-6 left-6 z-20 text-white",children:[d.jsx("span",{className:"bg-brand-orange px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider mb-2 inline-block",children:"Weaver English"}),d.jsx("p",{className:"font-medium opacity-90",children:"Cam kt cht lng o to"})]})]})]})})]})})]}),QR=({course:s})=>d.jsxs("div",{className:"p-8 md:p-10",children:[d.jsx(xe,{animation:"fade-right",children:d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[d.jsx(Or,{className:"text-green-500"}),"Mc tiu & Cam kt u ra"]})}),s.outputCommitment&&d.jsx(xe,{animation:"fade-up",delay:.1,children:d.jsxs("div",{className:"mb-8 p-6 bg-green-50 rounded-xl border border-green-100",children:[d.jsx("div",{className:"text-green-800 font-bold mb-2 uppercase text-sm tracking-wide",children:"Cam kt bng vn bn"}),d.jsx("p",{className:"text-lg font-medium text-gray-900",children:s.outputCommitment})]})}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:s.outcomes.map((t,i)=>d.jsx(xe,{animation:"fade-up",delay:.2+i*.05,children:d.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:[d.jsx("div",{className:"mt-1 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center shrink-0",children:d.jsx(Or,{size:14,className:"text-green-600"})}),d.jsx("span",{className:"text-gray-700 leading-relaxed font-medium",children:t})]})},i))})]}),WR=({course:s})=>{const[t,i]=U.useState(0),r=o=>{i(t===o?null:o)};return d.jsxs("div",{className:"mb-12",children:[d.jsx(xe,{animation:"fade-right",children:d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-8 flex items-center gap-2",children:[d.jsx(ua,{className:"text-brand-blue"}),"L trnh chi tit"]})}),d.jsx("div",{className:"space-y-6",children:s.curriculum.map((o,u)=>{const f=o.type==="test",m=s.curriculum.slice(0,u+1).filter(v=>v.type!=="test").length;return f?d.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-100 rounded-xl p-6 relative overflow-hidden",children:[d.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-red-100/50 rounded-full blur-2xl transform translate-x-1/2 -translate-y-1/2"}),d.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-600 text-xs font-bold uppercase rounded-full tracking-wider",children:"Assessment"}),o.time&&d.jsxs("span",{className:"flex items-center gap-1 text-gray-500 text-sm font-medium",children:[d.jsx(av,{size:14}),o.time]})]}),d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:o.title}),d.jsx("ul",{className:"space-y-2",children:o.content.map((v,p)=>d.jsxs("li",{className:"flex items-start gap-2 text-gray-800 text-sm",children:[d.jsx(Or,{size:16,className:"text-red-500 mt-0.5 flex-shrink-0"}),d.jsx("span",{children:v})]},p))})]}),d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm text-red-500",children:d.jsx(mc,{size:32})})})]})]},u):d.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[d.jsxs("button",{onClick:()=>r(u),"aria-expanded":t===u,"aria-controls":`curriculum-content-${u}`,className:"w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg font-bold transition-colors ${t===u?"bg-brand-blue text-white":"bg-gray-100 text-gray-500"}`,children:m}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-xs font-bold text-brand-blue uppercase tracking-wider",children:"Giai on hc tp"}),o.time&&d.jsxs("span",{className:"flex items-center gap-1 text-gray-400 text-xs font-medium border-l border-gray-200 pl-2",children:[d.jsx(av,{size:12}),o.time]})]}),d.jsx("h3",{className:`font-bold text-lg ${t===u?"text-brand-blue":"text-gray-800"}`,children:o.title})]})]}),d.jsx(lS,{className:`text-gray-400 transition-transform duration-300 ${t===u?"transform rotate-180":""}`})]}),d.jsx("div",{id:`curriculum-content-${u}`,className:`transition-all duration-300 ease-in-out ${t===u?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:d.jsx("div",{className:"p-6 pt-0 border-t border-gray-100 bg-gray-50/50",children:d.jsx("ul",{className:"space-y-3 mt-4",children:o.content.map((v,p)=>d.jsxs("li",{className:"flex items-start gap-3 text-gray-800",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-brand-blue mt-2 flex-shrink-0"}),d.jsx("span",{className:"leading-relaxed",children:v})]},p))})})})]},u)})})]})},XR=[{name:"Nguyn T Nga",title:"Gio vin IELTS ti WEAVER IELTS",ielts:"8.5 IELTS Overall",role:"Linearthinking Ambassador",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",quote:"Mt lp hc s l mt th gii nh an ton ni mi ngi c quan tm v t do ni ln suy ngh ca mnh."},{name:"Trn Minh Tm",title:"Gio vin IELTS thm nin",ielts:"8.0 IELTS Overall",role:"Head of Teaching Quality",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",quote:"Hc ngoi ng khng ch l hc ngn ng, m l hc v t duy v vn ha mi."}],ZR=({course:s})=>{const t=s.teachers&&s.teachers.length>0?s.teachers:XR;return d.jsxs("section",{className:"py-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Gio vin ph trch"}),d.jsx("div",{className:"w-16 h-1 bg-brand-orange rounded-full"})]}),d.jsx("div",{className:"space-y-8",children:t.map((i,r)=>d.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-6 md:p-8 shadow-sm flex flex-col md:flex-row gap-6 md:gap-8 items-start hover:shadow-md transition-all duration-300",children:[d.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden shrink-0 border-4 border-gray-50 shadow-inner mx-auto md:mx-0",children:d.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex-1 space-y-4 w-full text-center md:text-left",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:i.name}),d.jsx("p",{className:"text-gray-600 font-medium",children:i.title})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start text-sm",children:[d.jsxs("span",{className:"flex items-center gap-1.5 text-brand-orange font-bold bg-orange-50 px-3 py-1 rounded-full border border-orange-100",children:[d.jsx(Fy,{size:16}),i.role]}),d.jsxs("span",{className:"flex items-center gap-1.5 text-blue-700 font-bold bg-blue-50 px-3 py-1 rounded-full border border-blue-100",children:[d.jsx(mc,{size:16}),i.ielts]})]}),d.jsx("div",{className:"bg-gray-50/80 p-5 rounded-xl border-l-4 border-brand-orange relative",children:d.jsxs("p",{className:"text-gray-600 italic leading-relaxed",children:["",i.quote,""]})})]})]},r))})]})},JR=({course:s})=>d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden sticky top-24",children:[d.jsxs("div",{className:"bg-brand-blue p-6 text-white text-center",children:[d.jsx("p",{className:"opacity-80 text-sm font-medium uppercase tracking-wider mb-1",children:"Hc ph u i"}),d.jsx("div",{className:"text-3xl font-bold",children:s.price}),s.originalPrice&&d.jsx("div",{className:"text-sm opacity-60 line-through mt-1",children:s.originalPrice})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm border-b border-gray-50 pb-2",children:[d.jsx("span",{className:"text-gray-500",children:"Khai ging:"}),d.jsx("span",{className:"font-bold text-gray-800",children:"Hng thng"})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm border-b border-gray-50 pb-2",children:[d.jsx("span",{className:"text-gray-500",children:"Thi lng:"}),d.jsx("span",{className:"font-bold text-gray-800",children:s.duration})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm border-b border-gray-50 pb-2",children:[d.jsx("span",{className:"text-gray-500",children:"S bui:"}),d.jsx("span",{className:"font-bold text-gray-800",children:s.sessions})]}),s.schedule&&d.jsxs("div",{className:"flex items-center justify-between text-sm border-b border-gray-50 pb-2",children:[d.jsx("span",{className:"text-gray-500",children:"Lch hc:"}),d.jsx("span",{className:"font-bold text-gray-800 text-right max-w-[60%]",children:s.schedule})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"font-bold text-gray-800",children:"Quyn li hc vin:"}),d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-800",children:[d.jsx(Mo,{className:"w-4 h-4 text-green-500 mt-0.5"}),"Cam kt u ra bng vn bn"]}),d.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-800",children:[d.jsx(Mo,{className:"w-4 h-4 text-green-500 mt-0.5"}),"Hc li min ph nu khng t"]}),d.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-800",children:[d.jsx(Mo,{className:"w-4 h-4 text-green-500 mt-0.5"}),"H tr chm bi ngoi gi 24/7"]})]})]}),d.jsxs("button",{className:"w-full bg-brand-orange hover:bg-orange-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-orange-100 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2",children:["ng K T Vn Ngay ",d.jsx(Yr,{className:"w-5 h-5"})]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[d.jsx(oS,{className:"w-4 h-4"}),"Bo mt thng tin 100%"]})]})]}),$R=({course:s})=>!s.targetAudience&&!s.entryRequirements?null:d.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.targetAudience&&d.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-lg hover:shadow-xl transition-shadow relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-brand-orange to-orange-400"}),d.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-orange-50 rounded-full group-hover:scale-110 transition-transform duration-500"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-100 flex items-center justify-center text-brand-orange shadow-inner",children:d.jsx(Yy,{size:24,strokeWidth:2.5})}),d.jsx("h3",{className:"text-xl font-bold text-gray-800 uppercase tracking-tight",children:"Ai ph hp?"})]}),d.jsx("ul",{className:"space-y-4",children:s.targetAudience.map((t,i)=>d.jsxs("li",{className:"flex items-start gap-3 text-gray-800 text-[16px]",children:[d.jsx(Or,{className:"w-5 h-5 text-brand-orange mt-0.5 flex-shrink-0"}),d.jsx("span",{className:"leading-relaxed",children:t})]},i))})]})]}),s.entryRequirements&&d.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-100 shadow-lg hover:shadow-xl transition-shadow relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-brand-blue to-blue-500"}),d.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 bg-blue-50 rounded-full group-hover:scale-110 transition-transform duration-500"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center text-brand-blue shadow-inner",children:d.jsx(qy,{size:24,strokeWidth:2.5})}),d.jsx("h3",{className:"text-xl font-bold text-gray-800 uppercase tracking-tight",children:"Yu cu u vo"})]}),d.jsx("ul",{className:"space-y-4",children:s.entryRequirements.map((t,i)=>d.jsxs("li",{className:"flex items-start gap-3 text-gray-800 text-[16px]",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-100 flex items-center justify-center mt-0.5 flex-shrink-0",children:d.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-blue"})}),d.jsx("span",{className:"leading-relaxed",children:t})]},i))})]})]})]}),ek=({course:s})=>!s.methodology||s.methodology.length===0?null:d.jsxs("div",{className:"mb-12",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-8 flex items-center gap-2",children:[d.jsx(cS,{className:"text-yellow-500",fill:"currentColor"}),"Phng php o to khc bit"]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:s.methodology.map((t,i)=>d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all flex gap-4 group",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-50 text-brand-orange flex items-center justify-center font-bold text-lg group-hover:bg-brand-orange group-hover:text-white transition-colors",children:i+1})}),d.jsx("div",{className:"flex-grow",children:d.jsx("div",{className:"h-full flex items-center",children:d.jsx("p",{className:"text-gray-700 font-medium leading-relaxed",children:t})})}),d.jsx("div",{className:"flex-shrink-0 self-center opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Yr,{className:"text-gray-300 transform -rotate-45",size:20})})]},i))})]}),tk=({course:s})=>{if(!s.introduction||s.introduction.length===0)return null;const t=i=>i.split(/(\*\*.*?\*\*)/g).map((o,u)=>o.startsWith("**")&&o.endsWith("**")?d.jsx("span",{className:"font-bold text-gray-800",children:o.slice(2,-2)},u):o);return d.jsx(xe,{animation:"fade-up",children:d.jsxs("div",{className:"relative rounded-2xl bg-white border border-gray-100 shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden transition-all duration-300 hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-orange-400 to-brand-orange"}),d.jsxs("div",{className:"p-8 relative",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-50 rounded-bl-[100px] -mr-4 -mt-4 opacity-40 z-0 text-brand-orange flex items-center justify-center pointer-events-none",children:d.jsx(ua,{size:60,strokeWidth:1})}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-orange-400 to-brand-orange flex items-center justify-center text-white shadow-md shadow-orange-100",children:d.jsx(ua,{size:24,strokeWidth:2})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-bold text-brand-orange uppercase tracking-widest mb-1",children:"Weaver English"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-800 leading-none",children:"Tng Quan Kha Hc"})]})]}),d.jsx("div",{className:"space-y-4",children:s.introduction.map((i,r)=>d.jsx("p",{className:"text-[16px] leading-7 text-gray-800 font-normal text-justify",children:t(i)},r))})]})]})]})})},nk=()=>{const{slug:s}=VT(),t=s?FR[s]:null;return U.useEffect(()=>{window.scrollTo(0,0)},[s]),t?d.jsxs("div",{className:"bg-gray-50 pb-20",children:[d.jsxs(PS,{children:[d.jsxs("title",{children:[t.title," - Weaver English"]}),d.jsx("meta",{name:"description",content:t.description})]}),d.jsx(KR,{course:t}),d.jsx("div",{className:"container mx-auto px-4 py-12",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[d.jsxs("div",{className:"lg:col-span-8 space-y-12",children:[d.jsx(tk,{course:t}),d.jsx($R,{course:t}),d.jsx(ek,{course:t}),d.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm",children:d.jsx(QR,{course:t})}),d.jsx("div",{className:"space-y-4",children:d.jsx(WR,{course:t})}),d.jsx("div",{children:d.jsx(ZR,{course:t})})]}),d.jsx("div",{className:"lg:col-span-4 relative z-20",children:d.jsx(JR,{course:t})})]})})]}):d.jsx(Uy,{to:"/roadmap",replace:!0})},ik=()=>d.jsxs("section",{className:"relative pt-32 pb-24 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white via-orange-100 to-brand-orange/30 z-0"}),d.jsx("div",{className:"absolute top-1/2 right-0 w-[600px] h-[600px] bg-gradient-to-br from-brand-orange/40 to-red-500/30 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 z-0 pointer-events-none mix-blend-multiply"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-gradient-to-tr from-brand-orange/30 to-yellow-500/30 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4 z-0 pointer-events-none mix-blend-multiply"}),d.jsx("div",{className:"container mx-auto px-6 text-center relative z-10",children:d.jsxs(xe,{animation:"fade-up",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-1.5 rounded-full shadow-sm border border-orange-200 mb-8 ring-1 ring-orange-100",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-orange animate-pulse"}),d.jsx("span",{className:"text-sm font-bold text-brand-orange uppercase tracking-wider",children:"L trnh 2026"})]}),d.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-gray-900 tracking-tight leading-tight",children:["L Trnh ",d.jsx("br",{className:"hidden md:block"}),d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-orange via-red-600 to-brand-orange bg-[length:200%_auto] animate-gradient drop-shadow-sm",children:"Chinh Phc IELTS"})]}),d.jsx("p",{className:"text-lg md:text-2xl text-gray-700 max-w-3xl mx-auto leading-relaxed font-medium",children:"H thng o to bi bn t mt gc n nng cao, thit k ring cho ngi Vit."})]})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-brand-orange/50 to-transparent z-10"})]}),sk=()=>d.jsx("section",{className:"bg-white py-24 border-t border-gray-100",children:d.jsxs("div",{className:"container mx-auto px-6",children:[d.jsx("div",{className:"text-center mb-16",children:d.jsxs(xe,{animation:"fade-up",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-50 text-brand-orange px-4 py-1.5 rounded-full font-bold text-xs uppercase tracking-wider mb-6",children:[d.jsx(tf,{className:"w-4 h-4"})," Gii php rt gn thi gian"]}),d.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Luyn Thi ",d.jsx("span",{className:"text-brand-orange italic",children:"Cp Tc (Intensive)"})]}),d.jsx("p",{className:"text-gray-600 mt-4 max-w-2xl mx-auto text-lg leading-relaxed",children:"Dnh cho hc vin cn bng gp, tp trung gii  v ti u ha im s trong thi gian ngn nht (8 - 10 tun)."})]})}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-7xl mx-auto",children:BR.map((s,t)=>d.jsx(xe,{animation:"fade-up",delay:t*.1,children:d.jsxs("div",{className:"group h-full flex flex-col bg-white rounded-3xl p-8 border border-gray-200 shadow-lg hover:shadow-xl hover:border-brand-orange/30 transition-all duration-300 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:d.jsx(Yr,{className:"text-brand-orange"})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2 group-hover:text-brand-orange transition-colors",children:s.title}),d.jsxs("div",{className:"text-sm font-bold text-gray-500 mb-6 flex items-center gap-2 uppercase tracking-wide",children:[d.jsx(nf,{className:"w-4 h-4 text-brand-orange"}),s.target]}),d.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed flex-grow",children:s.desc}),d.jsx(gt,{to:`/courses/intensive-${s.id}`,className:"w-full py-4 rounded-xl border border-gray-200 text-gray-900 font-bold hover:bg-gray-900 hover:text-white hover:border-gray-900 transition-all text-center block mt-auto",children:"Xem chi tit"})]})},s.id))})]})}),ak=()=>d.jsx("section",{className:"container mx-auto px-4 py-12 md:py-16",children:d.jsx(xe,{animation:"zoom-in",children:d.jsxs("div",{className:"text-center bg-gradient-to-r from-brand-blue to-blue-600 rounded-3xl p-10 md:p-16 text-white shadow-2xl relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full transform translate-x-1/2 -translate-y-1/2 group-hover:scale-150 transition-transform duration-700"}),d.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-6 relative z-10",children:"Bn vn cha xc nh c l trnh?"}),d.jsx("p",{className:"text-base md:text-lg opacity-90 mb-8 max-w-2xl mx-auto relative z-10",children:"ng lo lng, hy ng k kim tra trnh  min ph  chuyn gia Weaver English t vn chnh xc cho bn."}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 relative z-10",children:[d.jsx("button",{className:"w-full sm:w-auto bg-white text-brand-blue font-bold text-base md:text-lg py-3 md:py-4 px-8 md:px-10 rounded-full shadow-lg hover:bg-gray-50 transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:"ng K T Vn"}),d.jsxs("button",{className:"w-full sm:w-auto bg-brand-orange text-white font-bold text-base md:text-lg py-3 md:py-4 px-8 md:px-10 rounded-full shadow-lg hover:bg-orange-600 transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2",children:["Thi Th Min Ph ",d.jsx(Yr,{className:"w-5 h-5"})]})]})]})})}),rk=()=>d.jsxs("main",{className:"bg-gray-50 min-h-screen pb-20",children:[d.jsx(ik,{}),d.jsx(mx,{}),d.jsx(sk,{}),d.jsx(ak,{})]}),lk=()=>{const[s,t]=U.useState([]),[i,r]=U.useState(null),[o,u]=U.useState([]),f=U.useRef(null),m=U.useCallback(()=>{f.current&&(f.current.currentTime=0,f.current.play().catch(p=>console.warn("Audio playback failed:",p)))},[]);return U.useEffect(()=>{const p=A_(Rn(xd,"status"),C_(100)),b=ac(p,_=>{const x=_.val();if(x){const A=Object.entries(x).map(([R,D])=>{const B=D,Q=B.connections&&Object.keys(B.connections).length>0;return{id:R,status:{state:Q?"online":"offline",last_changed:B.last_changed||0}}});A.sort((R,D)=>R.status.state==="online"&&D.status.state!=="online"?-1:R.status.state!=="online"&&D.status.state==="online"?1:D.status.last_changed-R.status.last_changed),t(A)}});return()=>b()},[]),U.useEffect(()=>{if(!i){u([]);return}u([]);const p=Rn(xd,`chats/${i}/messages`),b=ac(p,_=>{const x=_.val();if(x){const A=Object.entries(x).map(([D,B])=>({id:D,...B}));A.sort((D,B)=>D.timestamp-B.timestamp),u(A);const R=A[A.length-1];R&&R.sender==="user"&&Date.now()-R.timestamp<3e3&&m()}});return()=>b()},[i,m]),{users:s,selectedUserId:i,setSelectedUserId:r,messages:o,sendMessage:async p=>{if(!i||!p.trim())return;const b=Rn(xd,`chats/${i}/messages`),_=Yd(b);await wr(_,{text:p,sender:"admin",timestamp:Date.now()})},audioPlayer:f}},ok=({users:s,selectedUserId:t,onSelectUser:i})=>{const r=o=>new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return d.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col shadow-sm z-10 flex-shrink-0",children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-orange-50",children:[d.jsxs("h2",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-orange-500",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),"Active Customers"]}),d.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:[s.filter(o=>o.status.state==="online").length," Online"]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.length===0?d.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"Waiting for customers..."}):s.map(o=>{const u=o.status.state==="online",f=t===o.id;return d.jsxs("div",{onClick:()=>i(o.id),className:`p-4 border-b border-gray-50 cursor-pointer transition-all hover:bg-gray-50 
                                ${f?"bg-orange-50 border-l-4 border-l-orange-500":"border-l-4 border-l-transparent"}
                            `,children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsxs("span",{className:`font-semibold text-sm ${f?"text-orange-900":"text-gray-700"}`,children:["Guest...",o.id.slice(-5)]}),u&&d.jsxs("span",{className:"flex h-2 w-2 relative",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]})]}),d.jsx("p",{className:"text-xs text-gray-400 flex items-center gap-1",children:u?" Online now":` Offline ${r(o.status.last_changed)}`})]},o.id)})})]})},ck=({messages:s,selectedUserId:t,onSendMessage:i})=>{const[r,o]=U.useState(""),u=U.useRef(null);U.useEffect(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[s]);const f=p=>{"preventDefault"in p&&p.preventDefault(),r.trim()&&(i(r),o(""))},m=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),f(p))},v=p=>new Date(p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return d.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden",children:[d.jsx("div",{className:"h-16 border-b border-gray-200 flex items-center px-6 justify-between bg-white shadow-sm z-10 flex-shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 font-bold",children:t.slice(0,2).toUpperCase()}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800",children:"Guest Visitor"}),d.jsxs("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:["ID: ",t]})]})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50/50 custom-scrollbar",children:[s.length===0&&d.jsx("div",{className:"text-center py-10 opacity-50 text-sm",children:"No messages yet. Say hi!"}),s.map(p=>{const b=p.sender==="admin"||p.sender==="bot";return d.jsx("div",{className:`flex w-full ${b?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex flex-col max-w-[65%] ${b?"items-end":"items-start"}`,children:[d.jsxs("div",{className:`px-4 py-2.5 shadow-sm text-sm break-words
                                        ${b?p.sender==="bot"?"bg-gray-200 text-gray-800 rounded-2xl rounded-tr-none":"bg-orange-600 text-white rounded-2xl rounded-tr-none":"bg-white border border-gray-200 text-gray-800 rounded-2xl rounded-tl-none"}
                                    `,children:[p.sender==="bot"&&d.jsx("span",{className:"text-[10px] font-bold uppercase mb-1 block opacity-50",children:"Auto-Reply"}),p.text]}),d.jsx("span",{className:"text-[10px] text-gray-400 mt-1 px-1",children:v(p.timestamp)})]})},p.id)}),d.jsx("div",{ref:u})]}),d.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 flex-shrink-0",children:[d.jsxs("form",{onSubmit:f,className:"flex gap-2 items-end max-w-4xl mx-auto",children:[d.jsx("div",{className:"flex-1 bg-gray-100 rounded-2xl p-2 focus-within:ring-2 focus-within:ring-orange-200 focus-within:bg-white transition-all border border-transparent focus-within:border-orange-300",children:d.jsx("textarea",{value:r,onChange:p=>o(p.target.value),onKeyDown:m,placeholder:"Write a reply... (Enter to send)",className:"w-full bg-transparent border-none focus:ring-0 resize-none text-sm max-h-32 py-2 px-2",rows:1})}),d.jsx("button",{type:"submit",disabled:!r.trim(),className:"bg-orange-600 hover:bg-orange-700 text-white p-3 rounded-full shadow-md disabled:opacity-50 disabled:shadow-none transition-all flex items-center justify-center h-12 w-12",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transform rotate-90",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),d.jsx("div",{className:"text-center text-xs text-gray-400 mt-2",children:"Weaver English  Support Dashboard"})]})]})},uk=()=>{const{users:s,selectedUserId:t,setSelectedUserId:i,messages:r,sendMessage:o,audioPlayer:u}=lk();return d.jsxs("div",{className:"flex h-screen bg-gray-50 pt-[72px] font-sans antialiased text-gray-900 overflow-hidden",children:[d.jsx("audio",{ref:u,src:"https://assets.mixkit.co/active_storage/sfx/2346/2346-preview.mp3"}),d.jsx(ok,{users:s,selectedUserId:t,onSelectUser:i}),t?d.jsx(ck,{messages:r,selectedUserId:t,onSendMessage:o}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 text-gray-400 select-none",children:[d.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-full flex items-center justify-center mb-6 animate-pulse",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Weaver Support Center"}),d.jsx("p",{className:"mt-2 text-sm",children:"Select an active customer from the sidebar to verify status."})]})]})},hk=()=>{const[s,t]=U.useState(""),[i,r]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(!1),v=FT();U.useEffect(()=>{(async()=>await qA(Jd))()},[]);const p=async b=>{b.preventDefault(),u(""),m(!0);try{const A=(await xR(TR,"getToken")({params:{username:s,password:i}})).data?.token;if(!A)throw new Error("No token received from server");await BA(Jd,A),v("/customer-support")}catch(_){console.error("Login Failed:",_);const x=_ instanceof Error?_.message:"Authentication failed. Please check your credentials.";u(x)}finally{m(!1)}};return d.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[d.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"h-12 w-12 bg-orange-600 rounded-lg flex items-center justify-center text-white font-bold text-2xl",children:"W"})}),d.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Customer Support Administration"}),d.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Restricted Access"})]}),d.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:d.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-gray-100",children:[d.jsxs("form",{className:"space-y-6",onSubmit:p,children:[o&&d.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:d.jsx("div",{className:"flex",children:d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-red-700",children:o})})})}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username / Email"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:s,onChange:b=>t(b.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:i,onChange:b=>r(b.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"})})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:f,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${f?"bg-orange-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors`,children:f?d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign in to Dashboard"})})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Protected via Weaver Tech"})})]})})]})})]})},dk=({children:s})=>{const[t,i]=U.useState(null);return U.useEffect(()=>{const r=Z_(Jd,o=>{o&&!o.isAnonymous?i(!0):i(!1)});return()=>r()},[]),t===null?d.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):t?d.jsx(d.Fragment,{children:s}):d.jsx(Uy,{to:"/login",replace:!0})};function fk(){return d.jsx(YT,{children:d.jsxs(KT,{children:[d.jsx(Wi,{path:"/login",element:d.jsx(hk,{})}),d.jsx(Wi,{path:"/customer-support",element:d.jsx(dk,{children:d.jsx(uk,{})})}),d.jsxs(Wi,{element:d.jsx(AR,{}),children:[d.jsx(Wi,{path:"/",element:d.jsx(Dy,{})}),d.jsx(Wi,{path:"/roadmap",element:d.jsx(rk,{})}),d.jsx(Wi,{path:"/courses/:slug",element:d.jsx(nk,{})}),d.jsx(Wi,{path:"*",element:d.jsx(Dy,{})})," "]})]})})}mS.createRoot(document.getElementById("root")).render(d.jsx(U.StrictMode,{children:d.jsx($y,{children:d.jsx(fk,{})})}));
